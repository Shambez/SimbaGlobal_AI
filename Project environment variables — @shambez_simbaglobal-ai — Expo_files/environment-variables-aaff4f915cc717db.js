try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1abe77c8-4a84-48f4-862d-a5ff5afc2238",e._sentryDebugIdIdentifier="sentry-dbid-1abe77c8-4a84-48f4-862d-a5ff5afc2238")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43230,92303],{79520:(e,n,t)=>{"use strict";t.r(n),t.d(n,{__N_SSP:()=>el,default:()=>er});var s=t(637876),l=t(892303),r=t(244540),a=t(14232),i=t(55033),o=t(634101),c=t(376950),d=t(251511),m=t(48472),u=t(632028),b=t(184368),x=t(692663),j=t(745859),h=t(127760),f=t(303861),v=t(107304),p=t(254218),g=t(141278),y=t(49355),N=t(395661),I=t(663086),S=t(390429),V=t(728992),w=t(10369),k=t(11308),C=t(434743),E=t(49903),_=t(122104);function T(e){let{isSelected:n,handleCheckboxClick:t,disabled:l}=e,{accountName:r}=(0,d.lT)(d.Iz.LOGGED_IN);return l?(0,s.jsxs)(w.s,{children:[(0,s.jsx)(C.k,{children:(0,s.jsx)(E.S,{checked:n,disabled:l,onChange:t})}),(0,s.jsx)(V.Z,{className:"max-w-[250px]",side:"bottom",children:(0,s.jsxs)(k.L,{children:["Account-wide environment variables can be bulk edited only from the"," ",(0,s.jsx)(_.A,{href:"/accounts/".concat(r,"/settings/environment-variables"),isStyled:!0,children:"account settings page"}),"."]})})]}):(0,s.jsx)(E.S,{checked:n,onChange:t})}var D=t(777411),O=t(39521),P=t(368469),L=t(390303),M=t(523805),z=t(888299),A=t(648638),F=t(697342),X=t(93250),R=t(559295),B=t(157069),G=t(7987),J=t(900140),q=t(197093),Q=t(70393),U=t(523146),$=t(443196),W=t(923333);function Z(e){let{environmentVariable:n,setIsUpdateFormVisible:t}=e,{accountName:l,fullName:r}=(0,d.lT)(d.Iz.IN_PROJECT),[i,c]=(0,a.useState)(W.X.IDLE),m=(0,J.dj)(),{name:u,id:b,isGlobal:x}=n,j={refetchQueries:[(0,o.pT)({fullName:r})],awaitRefetchQueries:!0},[h]=(0,G.f)(j);async function f(){if(await (0,Q.J)('Are you sure you want to delete the "'.concat(u,'" variable?'),{destructive:!0,confirmButtonLabel:"Delete variable"})){c(W.X.LOADING);try{await h({variables:{id:b}}),c(W.X.IDLE)}catch(e){m.add({message:e.message,theme:"danger",onClose:m.remove}),c(W.X.IDLE)}}}return x?(0,s.jsxs)(w.s,{children:[(0,s.jsx)(C.k,{children:(0,s.jsx)(q.$,{theme:"quaternary",openInNewTab:!0,href:"/accounts/".concat(l,"/settings/environment-variables"),leftSlot:(0,s.jsx)(F.ArrowUpRightIcon,{className:"icon-md"})})}),(0,s.jsx)(V.Z,{side:"bottom",children:(0,s.jsx)(k.L,{children:"Go to account-wide environment variables"})})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(U.m,{className:"min-w-[180px]",trigger:(0,s.jsx)(q.$,{status:i,testID:"secrets-more-button",leftSlot:(0,s.jsx)(X.DotsVerticalIcon,{className:"icon-md"}),theme:"quaternary"}),children:[(0,s.jsx)($.t,{label:"Edit variable",Icon:R.Edit05Icon,onSelect:()=>{t(!0)}}),(0,s.jsx)($.t,{destructive:!0,label:"Delete variable",Icon:B.Trash03Icon,onSelect:f})]})})}function H(e){let{environmentVariable:n,appId:t,linkedEnvironments:l=[],toggleSelectedVariable:r,isSelected:i}=e,{fullName:u}=(0,d.lT)(d.Iz.IN_PROJECT),[b,x]=(0,a.useState)(!1),{hasPublishPermission:j}=(0,m._)(),{name:h,visibility:f}=n,v=n.scope===c.ml.Project,[p]=(0,I.rw)({variables:{fullName:u,filterNames:[h],includeFileContent:!0}}),[g]=(0,o.hy)({variables:{fullName:u,filterNames:[h],includeFileContent:!0},fetchPolicy:"no-cache"}),y=async e=>{var n;let{id:t}=e,{data:s}=await p();return null!=(n=null==s?void 0:s.app.byFullName.environmentVariablesIncludingSensitive.find(e=>e.id===t))?n:null},N=async e=>{let{id:n}=e,{data:t}=await g(),s=null==t?void 0:t.app.byFullName.environmentVariables.find(e=>e.id===n);return null!=s?s:null};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.y,{}),(0,s.jsxs)(z.H,{children:[(0,s.jsx)(M.n,{className:"pr-0",children:(0,s.jsx)(T,{isSelected:i&&v,handleCheckboxClick:()=>{v&&r(n)},disabled:!v})}),(0,s.jsx)(L.m,{environmentVariable:n}),(0,s.jsx)(M.n,{className:"gap-1",children:(0,s.jsx)(D.h,{environmentVariable:n,linkedEnvironments:l})}),(0,s.jsx)(M.n,{children:(0,s.jsx)(O.I,{environmentVariable:n,getSecretVariableAsync:()=>y(n),getVariableWithFileContentAsync:()=>f===c.I0.Public?N(n):y(n)})}),(0,s.jsx)(M.n,{children:(0,s.jsx)(P.R,{environmentVariable:n})}),(0,s.jsx)(M.n,{children:j&&(0,s.jsx)(Z,{appId:t,setIsUpdateFormVisible:x,environmentVariable:n})})]}),b&&(0,s.jsx)(S.y,{scope:c.ml.Project,onRequestClose:()=>{x(!1)},fullName:u,environmentVariable:n,isOpen:b,setIsOpen:x})]})}function K(e){let{environmentVariables:n,appId:t,className:l,linkedEnvironments:r,selectedVariables:a,setSelectedVariables:i}=e,o=e=>{i(n=>n.some(n=>{let{id:t}=n;return t===e.id})?n.filter(n=>{let{id:t}=n;return t!==e.id}):[...n,e])};return(0,s.jsxs)(N.j,{columnCount:6,gridTemplateColumns:["min-content",{min:"220px",max:"2.5fr"},"min-content",{min:"140px",max:"1fr"},"min-content","min-content"],rootClassName:l,children:[(0,s.jsxs)(p.A,{children:[(0,s.jsx)(g.M,{className:"pr-0",children:(0,s.jsx)(f.F,{environmentVariables:n.filter(e=>{let{scope:n}=e;return n===c.ml.Project}),selectedVariables:a,setSelectedVariables:i})}),(0,s.jsx)(g.M,{children:(0,s.jsx)(y.z,{children:"Name"})}),(0,s.jsx)(g.M,{children:(0,s.jsx)(y.z,{children:"Environments"})}),(0,s.jsx)(g.M,{children:(0,s.jsx)(y.z,{children:"Value"})}),(0,s.jsx)(v.o,{}),(0,s.jsx)(g.M,{})]}),n.map(e=>(0,s.jsx)(H,{environmentVariable:e,appId:t,linkedEnvironments:r[e.id],toggleSelectedVariable:o,isSelected:a.some(n=>{let{id:t}=n;return t===e.id})},e.id))]})}var Y=t(929380),ee=t(927500),en=t(690332),et=t(6735);let es=(0,Y.G)(function(){var e;let{currentUser:n,fullName:t,getProjectLink:f}=(0,d.lT)(d.Iz.IN_PROJECT),[v,p]=(0,a.useState)([]),[g,y]=(0,a.useState)([]),[N,I]=(0,a.useState)(null),{hasPublishPermission:S}=(0,m._)(),V=null!=(e=S||n.isExpoAdmin)&&e,{data:w,loading:k,error:C}=(0,o.Tg)({variables:{fullName:t},skip:!V}),E=null==w?void 0:w.app.byFullName.environmentVariables,_=null==w?void 0:w.app.byFullName.id;if(!V)return(0,s.jsx)(ee.y,{meta:{name:"dashboard"},children:(0,s.jsx)(u.g,{children:(0,s.jsx)(en.M,{statusCode:404})})});let T=g&&g.length>0,D=(0,b.y6)(g);return(0,s.jsx)(ee.y,{meta:{name:"dashboard",pageName:"Project environment variables â€” ".concat(t)},children:(0,s.jsxs)(u.g,{title:"Environment variables",rightSlot:(0,s.jsxs)("div",{className:"flex gap-2.5",children:[(0,s.jsx)(j.d,{}),(0,s.jsx)(q.$,{size:"sm",href:f("environment-variables/new"),leftSlot:(0,s.jsx)(r.PlusIcon,{}),children:"Add Variables"})]}),bottomSlot:(0,s.jsx)(x.k,{formParams:{fullName:t,scope:c.ml.Project},environmentVariables:E,linkedEnvironments:D,selectedVariables:v,setVisibleVariables:y,setSearchError:I,resetSelectedVariables:()=>{p([])},refetchQueries:[(0,o.pT)({fullName:t})],loading:k}),children:[C&&(0,s.jsx)(et.O,{loading:k,error:C,description:(0,i.DV)(),buttonText:"Reload",onClick:()=>{window.location.reload()}}),!k&&!C&&T&&_&&(0,s.jsx)(K,{appId:_,environmentVariables:g,linkedEnvironments:D,className:"mb-6",selectedVariables:v,setSelectedVariables:p}),!C&&!T&&N&&(0,s.jsx)(et.O,{loading:k,title:"No project environment variables",description:N}),!C&&!T&&!N&&(0,s.jsx)(et.O,{loading:k,illustration:(0,s.jsx)(h.U,{}),icon:(0,s.jsx)(l.BracketsXDuotoneIcon,{className:"icon-2xl"}),title:"Create or link project environment variables",href:"https://docs.expo.dev/build-reference/variables/",description:"Save and store environment variables for use locally and on EAS."})]})})});var el=!0;let er=es},406689:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/accounts/[account]/projects/[projectName]/environment-variables",function(){return t(79520)}])},632028:(e,n,t)=>{"use strict";t.d(n,{g:()=>c});var s=t(637876),l=t(766028),r=t(681535),a=t(693118),i=t(446738),o=t(655005);function c(e){let{children:n,title:t,description:c,icon:d,rightSlot:m,bottomSlot:u,className:b,headerHelpText:x,headerClassName:j,contentClassName:h,titleAsBlock:f}=e;return(0,s.jsxs)(o.B,{sidebar:(0,s.jsx)(i.j,{}),className:b,children:[(0,s.jsx)(r.s,{}),t&&(0,s.jsx)(a.z,{title:t,description:c,Icon:d,rightSlot:m,bottomSlot:u,helpText:x,className:j,block:f}),(0,s.jsx)("div",{className:(0,l.mergeClasses)("mx-auto w-full max-w-screen-xl-gutters flex-1 p-6",h),children:n})]})}},892303:(e,n,t)=>{"use strict";Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});let s=t(14232),l=t(271894),r=function(e){let n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(let t in e)if("default"!==t){let s=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,s.get?s:{enumerable:!0,get:()=>e[t]})}}return n.default=e,Object.freeze(n)}(s);function a({className:e,...n}){let t=l.mergeClasses("icon-md text-icon-default translate-z shrink-0",e);return r.createElement("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t,role:"img",...n},r.createElement("g",{id:"brackets-x-duotone-icon"},r.createElement("path",{id:"Icon",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.5708 20C19.8328 20 20.8568 18.977 20.8568 17.714V13.143L21.9998 12L20.8568 10.857V6.286C20.8568 5.023 19.8338 4 18.5708 4M5.429 4C4.166 4 3.143 5.023 3.143 6.286V10.857L2 12L3.143 13.143V17.714C3.143 18.977 4.166 20 5.429 20M15 9L9 15M9 9L15 15"})))}a.displayName="BracketsXDuotoneIcon",n.BracketsXDuotoneIcon=a}},e=>{e.O(0,[6412,30236,49499,7984,90888,58510,90636,46593,38792],()=>e(e.s=406689)),_N_E=e.O()}]);