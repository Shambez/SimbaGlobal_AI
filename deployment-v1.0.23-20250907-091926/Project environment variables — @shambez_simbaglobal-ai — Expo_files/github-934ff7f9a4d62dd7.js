try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4f074122-ce30-4f31-9a86-b855f2868f15",e._sentryDebugIdIdentifier="sentry-dbid-4f074122-ce30-4f31-9a86-b855f2868f15")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99902],{11867:(e,t,i)=>{"use strict";let r;i.d(t,{I:()=>g});var n=i(637876),s=i(766028),a=i(515294),l=i(944630),o=i(182172),c=i(14232),u=i(194070),d=i(197093),m=i(923333),p=function(e){return e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e}(p||{});function g(e){let{submitButtonText:t="Save",secondaryButtonOnClick:i=()=>{},secondaryButtonText:p,formState:g=m.X.IDLE,successMessage:h="Saved",formError:x,submitButtonProps:b={},errorTheme:f,testID:j,className:y}=e,[v,I]=(0,c.useState)(0);(0,c.useEffect)(function(){return(r&&clearTimeout(r),r=window.setTimeout(()=>{I(0)},2500),g!==m.X.IDLE||1!==v||(null==x?void 0:x.trim().length))?g===m.X.LOADING?void I(1):void I(0):void I(2)},[g]);let N=g===m.X.LOADING;return(0,n.jsxs)("div",{className:(0,s.mergeClasses)("flex h-15 items-center justify-between rounded-b-lg border border-default border-t-secondary bg-subtle pl-6 pr-3",f&&"border-t-0 border-danger bg-danger",y),children:[(0,n.jsxs)("div",{className:"relative mr-4",children:[(0,n.jsx)("div",{className:"absolute",children:(0,n.jsx)(l.N,{children:1===v&&(0,n.jsx)(o.P.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},children:(0,n.jsx)(u.$,{className:"stroke-icon-default"})})})}),(0,n.jsx)("div",{className:"relative -top-0.5 h-5",children:(0,n.jsx)(l.N,{children:2===v&&(0,n.jsx)(o.P.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},children:(0,n.jsxs)("div",{className:"grid grid-cols-[20px_auto] items-center gap-2 whitespace-nowrap",children:[(0,n.jsx)(a.CheckIcon,{}),(0,n.jsx)("p",{className:"truncate",children:h})]})})})})]}),(0,n.jsxs)("div",{className:"flex flex-row-reverse items-center gap-3",children:[(0,n.jsx)(d.$,{type:"submit",size:"sm",testID:j,status:N?void 0:g,disabled:N,...b,children:t}),p&&i&&g!==m.X.SUCCESS&&(0,n.jsx)(d.$,{onClick:i,theme:"quaternary",size:"sm",className:"transition-opacity hocus:opacity-80 hocus:shadow-none",disabled:N,children:p})]})]})}},49355:(e,t,i)=>{"use strict";i.d(t,{z:()=>s});var r=i(637876),n=i(766028);function s(e){let{children:t,className:i,...s}=e;return(0,r.jsx)("p",{...s,className:(0,n.mergeClasses)("inline-block truncate whitespace-nowrap text-2xs font-medium text-tertiary",i),children:t})}},49903:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});var r=i(637876),n=i(766028);let s=(0,i(14232).forwardRef)(function(e,t){let{className:i,label:s,testID:a,id:l,disabled:o,...c}=e;return(0,r.jsxs)("div",{className:(0,n.mergeClasses)("flex items-center gap-2",i),children:[(0,r.jsx)("input",{type:"checkbox",id:l,ref:t,"data-label":s,disabled:o,className:(0,n.mergeClasses)("rounded-sm border-palette-gray8 bg-default shadow-xs transition-colors",o&&"border-secondary bg-subtle grayscale checked:opacity-60",!o&&"focus-visible:ring-palette-blue10 hocus:cursor-pointer hocus:border-palette-blue10 hocus:bg-palette-blue3",!o&&"dark:focus:ring-palette-blue8 dark:hocus:border-palette-blue8","checked:bg-palette-blue10 checked:hocus:bg-palette-blue10","dark:checked:bg-palette-blue8 dark:checked:hocus:bg-palette-blue8"),...c}),!!s&&(0,r.jsx)("label",{htmlFor:l,"data-testid":a,className:(0,n.mergeClasses)("select-none text-default",!o&&"hocus:cursor-pointer"),children:"string"==typeof s?(0,r.jsx)("p",{children:s}):s})]})})},70393:(e,t,i)=>{"use strict";i.d(t,{J:()=>c});var r=i(637876),n=i(778944),s=i(14232),a=i(217948),l=i(333333);function o(e){let{title:t,cancelButtonLabel:i,confirmButtonLabel:n,destructive:o,message:c,resolve:u,unmount:d}=e,[m,p]=(0,s.useState)(!0);return(0,r.jsx)(l.K,{isOpen:m,title:t,cancelButtonLabel:i,confirmButtonLabel:n,destructive:o,onCancel:()=>{p(!1),setTimeout(d,a.x),u(!1)},onConfirm:()=>{p(!1),setTimeout(d,a.x),u(!0)},children:"string"==typeof c?(0,r.jsx)("p",{children:c}):c})}function c(e){let{title:t,cancelButtonLabel:i,confirmButtonLabel:s,destructive:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(l){let c=document.createElement("div");document.body.appendChild(c);let u=(0,n.createRoot)(c);u.render((0,r.jsx)(o,{message:e,title:t,cancelButtonLabel:i,confirmButtonLabel:s,destructive:a,resolve:l,unmount:function(){document.body.removeChild(c),u.unmount()}}))})}},74105:(e,t,i)=>{"use strict";i.d(t,{D:()=>c});var r=i(637876),n=i(376950),s=i(728992),a=i(10369),l=i(11308),o=i(434743);function c(e){let{build:t}=e;return(0,r.jsxs)(a.s,{children:[(0,r.jsxs)(o.k,{className:"whitespace-pre !outline-offset-[-3px]",children:[t.appVersion?" ".concat(t.appVersion):null,t.appBuildVersion?" (".concat(t.appBuildVersion,")"):null]}),(0,r.jsx)(s.Z,{children:(0,r.jsxs)(l.L,{children:[t.appVersion&&(0,r.jsxs)(r.Fragment,{children:["Version: ",t.appVersion,(0,r.jsx)("br",{})]}),t.platform===n.pT.Android?"Version code":"Build number",":"," ",t.appBuildVersion]})})]})}},99224:(e,t,i)=>{"use strict";i.d(t,{y:()=>u});var r=i(96427),n=i(903219),s=i(768069),a=i(764177);function l(){let e=(0,r._)(["\n    mutation CreateGitHubBuild($buildInput: GitHubBuildInput!) {\n  githubApp {\n    createGitHubBuild(buildInput: $buildInput) {\n      ...BackgroundJobReceiptData\n    }\n  }\n}\n    ",""]);return l=function(){return e},e}let o={},c=(0,n.J1)(l(),s.Y);function u(e){let t={...o,...e};return a.n(c,t)}},122104:(e,t,i)=>{"use strict";i.d(t,{A:()=>c,Sq:()=>o});var r,n=i(637876),s=i(766028),a=i(14232),l=i(789686);let o=(r=(0,s.mergeClasses)("text-2xs font-normal leading-[130%]","inline-block rounded-md border border-secondary bg-subtle px-1 py-0.5"),(0,a.forwardRef)(function(e,t){let{className:i,children:a,...l}=e;return(0,n.jsx)("code",{className:(0,s.mergeClasses)("text-inherit text-default",r,i),ref:t,...l,children:a})}));function c(e){let{className:t,...i}=e;return(0,n.jsx)(l.o,{className:(0,s.mergeClasses)("cursor-pointer decoration-0 transition-opacity hocus:opacity-80",t),...i})}},138707:(e,t,i)=>{"use strict";i.d(t,{B:()=>n});var r=i(637876);function n(){return(0,r.jsx)("svg",{width:"182",height:"174",viewBox:"0 0 182 174",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M15 13L21 7L15 1M7 1L1 7L7 13M15 45L21 39L15 33M7 33L1 39L7 45M15 77L21 71L15 65M7 65L1 71L7 77M15 109L21 103L15 97M7 97L1 103L7 109M15 141L21 135L15 129M7 129L1 135L7 141M15 173L21 167L15 161M7 161L1 167L7 173M47 13L53 7L47 1M39 1L33 7L39 13M47 45L53 39L47 33M39 33L33 39L39 45M47 77L53 71L47 65M39 65L33 71L39 77M47 109L53 103L47 97M39 97L33 103L39 109M47 141L53 135L47 129M39 129L33 135L39 141M47 173L53 167L47 161M39 161L33 167L39 173M79 13L85 7L79 1M71 1L65 7L71 13M79 45L85 39L79 33M71 33L65 39L71 45M79 77L85 71L79 65M71 65L65 71L71 77M79 109L85 103L79 97M71 97L65 103L71 109M79 141L85 135L79 129M71 129L65 135L71 141M79 173L85 167L79 161M71 161L65 167L71 173M111 13L117 7L111 1M103 1L97 7L103 13M111 45L117 39L111 33M103 33L97 39L103 45M111 77L117 71L111 65M103 65L97 71L103 77M111 109L117 103L111 97M103 97L97 103L103 109M111 141L117 135L111 129M103 129L97 135L103 141M111 173L117 167L111 161M103 161L97 167L103 173M143 13L149 7L143 1M135 1L129 7L135 13M143 45L149 39L143 33M135 33L129 39L135 45M143 77L149 71L143 65M135 65L129 71L135 77M143 109L149 103L143 97M135 97L129 103L135 109M143 141L149 135L143 129M135 129L129 135L135 141M143 173L149 167L143 161M135 161L129 167L135 173M175 13L181 7L175 1M167 1L161 7L167 13M175 45L181 39L175 33M167 33L161 39L167 45M175 77L181 71L175 65M167 65L161 71L167 77M175 109L181 103L175 97M167 97L161 103L167 109M175 141L181 135L175 129M167 129L161 135L167 141M175 173L181 167L175 161M167 161L161 167L167 173",className:"stroke-palette-gray4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},141278:(e,t,i)=>{"use strict";i.d(t,{M:()=>l});var r=i(637876),n=i(766028),s=i(14232),a=i(254218);function l(e){var t;let{children:i,hideOnMobile:l,interactive:o,className:c,...u}=e,d=null!=(t=(0,s.useContext)(a.B).theme)?t:"primary";return(0,r.jsx)("div",{...u,className:(0,n.mergeClasses)("flex min-h-[38px] items-center gap-1 border-secondary px-4","secondary"===d&&"bg-subtle",l&&"flex max-md-gutters:hidden",o&&"m-1 min-h-[30px] truncate rounded-md px-3 py-1 hocus:bg-element",c),children:i})}},146831:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/accounts/[account]/projects/[projectName]/github",function(){return i(369946)}])},187080:(e,t,i)=>{"use strict";i.d(t,{D1:()=>j,GJ:()=>w,GV:()=>x,Tc:()=>I,Te:()=>h,aY:()=>S,au:()=>v,bl:()=>b,gh:()=>y,i4:()=>L,j:()=>f});var r=i(637876),n=i(766028),s=i(381720),a=i(58719),l=i(263411),o=i(403433),c=i(972868),u=i(445532),d=i(273986),m=i(381545),p=i(376950),g=i(74105);function h(e){let{distribution:t,isForIosSimulator:i}=e;return i?{distributionIcon:(0,r.jsx)(o.AppleSimulatorIcon,{className:"icon-sm"}),distributionLabel:"simulator"}:t===p.JX.Store?e.platform===p.pT.Ios?{distributionIcon:(0,r.jsx)(a.AppleAppStoreIcon,{className:"icon-sm"}),distributionLabel:"App Store"}:{distributionIcon:(0,r.jsx)(u.GoogleAppStoreIcon,{className:"icon-sm"}),distributionLabel:"Play Store"}:t===p.JX.Internal?{distributionIcon:(0,r.jsx)(c.BadgeIcon,{className:"icon-sm"}),distributionLabel:"internal distribution"}:{distributionLabel:void 0,distributionIcon:void 0}}function x(e){return{isNew:e===p.NK.New,isQueued:e===p.NK.InQueue,isInProgress:e===p.NK.InProgress,isCanceled:e===p.NK.Canceled||e===p.NK.PendingCancel,isFinished:e===p.NK.Finished,isFailed:e===p.NK.Errored,isCancelable:e===p.NK.InQueue||e===p.NK.InProgress}}function b(e){let{showMessage:t=!0,showVersionNumber:i=!1,isActivityView:n=!1,customDistribution:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.platform===p.pT.Android?"Android":"iOS",l=h(e),o=t&&e.message,c=i&&e.appBuildVersion,u=e.buildMode===p.Ww.Custom&&e.customWorkflowName,d="";return d+=a,(null==l?void 0:l.distributionLabel)&&(d+=" ".concat(null==l?void 0:l.distributionLabel)),e.buildMode===p.Ww.Custom?d+=" custom":e.buildMode===p.Ww.Repack?d+=" repack":e.buildMode===p.Ww.Local&&(d+=" local"),d+=" build",c&&(e.appVersion&&(d+=" ".concat(e.appVersion)),e.appBuildVersion&&(d+=" (".concat(e.appBuildVersion,")"))),u&&(d+=" (".concat(e.customWorkflowName,")")),o&&(d+=': "'.concat(e.message,'"')),{buildTitleString:d,buildTitleElement:(0,r.jsxs)(r.Fragment,{children:[a," ",null!=s?s:null==l?void 0:l.distributionLabel,u?" custom":""," build",!n&&c&&(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(g.D,{build:e})]}),u&&" (".concat(e.customWorkflowName,")"),o&&': "'.concat(e.message,'"'),n&&c&&(0,r.jsxs)("span",{className:"text-xs text-secondary [&_button]:w-[stretch] [&_button]:truncate [&_button]:text-left",children:[(0,r.jsx)("br",{}),(0,r.jsx)(g.D,{build:e})]})]})}}function f(e,t){let i={[p.pT.Ios]:"iOS",[p.pT.Android]:"Android"}[e],s=j(e);return{platformIcon:(0,r.jsx)(s,{className:(0,n.mergeClasses)("icon-sm",t)}),platformDisplayName:i}}function j(e){switch(e){case p.pT.Android:return s.AndroidIcon;case p.pT.Ios:return l.AppleIcon;default:return d.Cube01Icon}}function y(e){return[p.NK.Errored,p.NK.PendingCancel,p.NK.Canceled,p.NK.Finished].includes(e)}function v(e,t){return"expirationDate"in e&&!!e.expirationDate&&(0,m.d)(t?new Date(t):new Date,new Date(e.expirationDate))}function I(e){return"Build"===e.__typename}let N=["apk","ipa","aab"];function w(e){var t;let i=null!=(t=null==e?void 0:e.split(".").pop())?t:"";return N.includes(i)?i:"gz"===i?"app":void 0}function L(e){var t,i;return e.platform===p.pT.Ios?"itms-services://?action=download-manifest;url=".concat("https://api.expo.dev","/v2/projects/").concat(null==(t=e.app)?void 0:t.id,"/builds/").concat(e.id,"/manifest.plist"):null==(i=e.artifacts)?void 0:i.applicationArchiveUrl}function S(e){switch(e){case p.NK.New:return"New";case p.NK.InQueue:return"Queued";case p.NK.InProgress:return"In progress";case p.NK.PendingCancel:case p.NK.Canceled:return"Canceled";case p.NK.Errored:return"Failed";case p.NK.Finished:return"Finished";default:return"Unknown"}}},202591:(e,t,i)=>{"use strict";i.d(t,{d:()=>o});var r=i(637876),n=i(766028),s=i(998624),a=i(548747),l=i(197093);function o(e){let{children:t,loading:i,onPrevious:o,onNext:c,topNavigation:u,limit:d=0,count:m=0,additionalNote:p,renderTop:g=!1,renderBottom:h=!1,isFirstPage:x=!1,isLastPage:b=!1}=e,f=(0,r.jsxs)("div",{className:"relative mt-3 flex flex-row items-center justify-end gap-3",children:[(0,r.jsx)(l.$,{theme:"secondary",disabled:!(!i&&!x),className:"px-2.5",leftSlot:(0,r.jsx)(s.ChevronLeftIcon,{className:"icon-md"}),onClick:o}),(0,r.jsx)(l.$,{theme:"secondary",disabled:!(!i&&d<=m&&!b),className:"px-2.5",leftSlot:(0,r.jsx)(a.ChevronRightIcon,{className:"icon-md"}),onClick:c})]});return(0,r.jsxs)("div",{children:[g&&(0,r.jsxs)("nav",{className:"mt-3 flex flex-wrap-reverse items-center justify-between border-b border-default max-md-gutters:flex-col-reverse",children:[(0,r.jsx)("span",{className:"flex-1",children:u}),(0,r.jsx)("span",{className:"min-w-[25%] text-right max-md-gutters:hidden",children:f})]}),t,h&&(0,r.jsxs)("nav",{className:"flex flex-wrap-reverse items-center justify-between max-md-gutters:flex-col-reverse",children:[(0,r.jsx)("span",{className:(0,n.mergeClasses)("flex-1",!!p&&"max-md-gutters:mb-6 max-md-gutters:mt-2"),children:p}),(0,r.jsx)("span",{className:"min-w-[25%] text-right max-md-gutters:self-start",children:f})]})]})}},217948:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});let r=150},244877:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var r=i(637876),n=i(244540),s=i(69364),a=i.n(s),l=i(526100);function o(e){let{hideTitle:t,activeInstallations:i,onValueChange:s,defaultValue:o,canLinkInstallation:c,openGitHubPopup:u}=e,d=[...i.map(e=>{var t;return{id:String(e.id),label:a()(e.account.login,{length:24}),imageUrl:null!=(t=e.account.avatarUrl)?t:void 0}}),...c?[{id:"add-github-account",label:"Add new GitHub account",Icon:n.PlusIcon}]:[]];return(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[!t&&(0,r.jsx)("p",{className:"text-xs font-medium",children:"GitHub account"}),(0,r.jsx)(l.l,{options:d,value:o,onValueChange:function(e){"add-github-account"===e?u():s(e)},optionsLabel:"GitHub account",placeholder:"Select a GitHub account",className:"min-w-[200px]",size:"lg"})]})}},254218:(e,t,i)=>{"use strict";i.d(t,{A:()=>s,B:()=>n});var r=i(637876);let n=(0,i(14232).createContext)({});function s(e){let{theme:t,children:i}=e;return(0,r.jsx)(n.Provider,{value:{theme:t},children:i})}},311419:(e,t,i)=>{"use strict";i.d(t,{z:()=>s});var r=i(637876),n=i(14232);function s(e){let{children:t,name:i}=e;return(0,r.jsx)("div",{className:"grid flex-1 grid-flow-row gap-2",children:n.Children.map(t,e=>(0,n.isValidElement)(e)?(0,n.cloneElement)(e,{name:i}):e)})}},325177:(e,t,i)=>{"use strict";i.d(t,{E:()=>o});var r=i(637876),n=i(766028),s=i(659418),a=i(527340),l=i(182172);function o(e){let{testID:t,title:i,className:o,iconClassName:c}=e,u=(0,a.I)();return(0,r.jsx)(l.P.div,{animate:{rotate:360},transition:{ease:"linear",duration:2,repeat:u?0:1/0},"data-testid":t,className:o,style:{display:"grid",placeItems:"center"},children:(0,r.jsx)(s.Settings01Icon,{className:(0,n.mergeClasses)("icon-sm",c),title:i})})}},333333:(e,t,i)=>{"use strict";i.d(t,{K:()=>m});var r=i(637876),n=i(766028),s=i(982457),a=i(197093),l=i(700806),o=i(500723),c=i(125050),u=i(515479),d=i(360203);function m(e){let{children:t,title:i,cancelButtonLabel:m,confirmButtonLabel:p,destructive:g=!1,onCancel:h,isOpen:x,onConfirm:b,status:f,className:j}=e;return(0,r.jsx)(u.D,{open:x,onOpenChange:h,children:(0,r.jsxs)(l.C,{className:(0,n.mergeClasses)("border border-default",j),children:[i?(0,r.jsx)(d.L,{title:i}):(0,r.jsx)(s.s6,{asChild:!0,children:(0,r.jsx)(d.L,{title:"Confirmation dialog"})}),(0,r.jsx)(o.d,{children:t}),(0,r.jsxs)(c.E,{children:[h&&(0,r.jsx)(a.$,{testID:"modal-cancel-button",size:"sm",theme:"quaternary",onClick:h,children:null!=m?m:"Cancel"}),(0,r.jsx)(a.$,{testID:"confirmButton",size:"sm",theme:g?"primary-destructive":"primary",onClick:b,status:f,children:null!=p?p:"Confirm"})]})]})})}},335365:(e,t,i)=>{"use strict";i.d(t,{c:()=>c});var r=i(96427),n=i(903219),s=i(764177);function a(){let e=(0,r._)(["\n    mutation CreateGitHubRepository($githubRepositoryData: CreateGitHubRepositoryInput!) {\n  githubRepository {\n    createGitHubRepository(githubRepositoryData: $githubRepositoryData) {\n      id\n    }\n  }\n}\n    "]);return a=function(){return e},e}let l={},o=(0,n.J1)(a());function c(e){let t={...l,...e};return s.n(o,t)}},341597:(e,t,i)=>{"use strict";i.d(t,{v:()=>f});var r=i(637876),n=i(14232),s=i(376950),a=i(96427),l=i(903219);function o(){let e=(0,a._)(["\n    fragment StatuspageServiceFragment on StatuspageService {\n  id\n  name\n  status\n  incidents {\n    id\n    status\n    name\n    impact\n    shortlink\n  }\n}\n    "]);return o=function(){return e},e}let c=(0,l.J1)(o());var u=i(154431);function d(){let e=(0,a._)(["\n    query StatuspageServiceByServiceNamesQuery($serviceNames: [StatuspageServiceName!]!) {\n  statuspageService {\n    byServiceNames(serviceNames: $serviceNames) {\n      id\n      ...StatuspageServiceFragment\n    }\n  }\n}\n    ",""]);return d=function(){return e},e}let m={},p=(0,l.J1)(d(),c);var g=i(766028),h=i(852367);let x={[s.Gk.EasBuild]:"EAS Build",[s.Gk.EasSubmit]:"EAS Submit",[s.Gk.EasUpdate]:"EAS Update",[s.Gk.GithubApiRequests]:"GitHub API Requests",[s.Gk.GithubWebhooks]:"GitHub Webhooks",[s.Gk.EasWorkflows]:"EAS Workflows"};function b(e){var t,i;let{service:n}=e;if(n.status===s.Hl.Operational)return null;let a=function(e){switch(e.status){case s.Hl.MajorOutage:return{text:"is experiencing a major outage",type:"warning"};case s.Hl.PartialOutage:return{text:"is experiencing a partial outage",type:"warning"};case s.Hl.DegradedPerformance:return{text:"is experiencing degraded performance",type:"warning"};case s.Hl.UnderMaintenance:return{text:"is under maintenance",type:"info"};default:return null}}(n);return(0,r.jsx)("div",{className:"relative mb-4",children:(0,r.jsx)(h.p,{type:null!=(i=null==a?void 0:a.type)?i:"info",className:"rounded-lg",title:"".concat(x[n.name]).concat(a?" ".concat(a.text):""),children:(0,r.jsxs)("p",{className:"text-xs",children:[(null==n||null==(t=n.incidents)?void 0:t.length)>0&&(0,r.jsxs)("span",{className:"font-semibold",children:["Reason: ",n.incidents[0].name,". "]}),"All information on service status and incidents available at"," ",(0,r.jsx)(g.Link,{href:"https://status.expo.dev",children:"status.expo.dev"}),"."]})})})}function f(e){let{serviceNames:t}=e,{services:i,startPolling:a,stopPolling:l}=function(e){let{data:t,error:i,loading:r,startPolling:n,stopPolling:s}=function(e){let t={...m,...e};return u.IT(p,t)}({variables:{serviceNames:e},fetchPolicy:"cache-and-network"});return{error:i,loading:r,services:null==t?void 0:t.statuspageService.byServiceNames,startPolling:n,stopPolling:s}}(t);(0,n.useEffect)(()=>(a(3e5),()=>{l()}));let o=null==i?void 0:i.filter(e=>{let{status:t}=e;return t!==s.Hl.Operational});return o&&0!==o.length?(0,r.jsx)(r.Fragment,{children:o.map(e=>(0,r.jsx)(b,{service:e},e.name))}):null}},369946:(e,t,i)=>{"use strict";i.r(t),i.d(t,{__N_SSP:()=>tN,default:()=>tw});var r=i(637876),n=i(376950),s=i(251511),a=i(632028),l=i(671680),o=i(697342),c=i(93250),u=i(559295),d=i(497412),m=i(887792),p=i(14232),g=i(826274),h=i(55033),x=i(900140),b=i(933446),f=i(953885),j=i(353806),y=i(285746),v=i(197093),I=i(523146),N=i(443196),w=i(852367),L=i(789686),S=i(6735),P=i(728992),C=i(10369),T=i(11308),R=i(434743),E=i(923333),A=i(122104),D=i(608620),k=i(128702),G=i(130514),B=i(634306),H=i(11867),M=i(206972),O=i(71215),_=i(497798),U=i(360376),F=i(96427),q=i(903219),z=i(764177);function V(){let e=(0,F._)(["\n    mutation UpdateGitHubRepositorySettings($githubRepositorySettingsId: ID!, $githubRepositorySettingsData: UpdateGitHubRepositorySettingsInput!) {\n  githubRepositorySettings {\n    updateGitHubRepositorySettings(\n      githubRepositorySettingsId: $githubRepositorySettingsId\n      githubRepositorySettingsData: $githubRepositorySettingsData\n    ) {\n      id\n      baseDirectory\n    }\n  }\n}\n    "]);return V=function(){return e},e}let J={},X=(0,q.J1)(V());function $(e){let{repoSettings:t,appId:i}=e,{fullName:n}=(0,s.lT)(s.Iz.IN_PROJECT),[a,l]=(0,p.useState)(E.X.IDLE),[o,c]=(0,p.useState)(void 0),[u,d]=(0,p.useState)(void 0),[m,g]=(0,p.useState)(null==t?void 0:t.baseDirectory),[h,x]=(0,p.useState)(!1);(0,p.useEffect)(function(){c(void 0),d(void 0),(null==t?void 0:t.baseDirectory)&&t.baseDirectory===m?x(!1):(null==t?void 0:t.baseDirectory)||""!==m?x(!0):x(!1)},[m,null==t?void 0:t.baseDirectory]);let[b]=(0,_.b)({refetchQueries:[(0,U.RB)({fullName:n})],awaitRefetchQueries:!0}),[v]=function(e){let t={...J,...e};return z.n(X,t)}({refetchQueries:[(0,U.RB)({fullName:n})],awaitRefetchQueries:!0}),[I]=(0,U.b5)({variables:{fullName:n},fetchPolicy:"network-only"}),N=(0,p.useRef)(null);async function w(e){let t=k.Ik({baseDirectory:k.Yj().trim()});c(void 0),d(void 0);let[{baseDirectory:r},n]=await (0,G.du)(e,t),s=(null==r?void 0:r.length)?r:"/";if(n)return void c(n);try{var a,o,u;l(E.X.LOADING);let e=null==(a=(await I()).data)?void 0:a.app.byFullName.githubRepositorySettings;if(e){let t=null==(o=(await v({variables:{githubRepositorySettingsId:e.id,githubRepositorySettingsData:{baseDirectory:s}}})).data)?void 0:o.githubRepositorySettings.updateGitHubRepositorySettings.baseDirectory;N.current&&t&&(N.current.value=t)}else{let e=null==(u=(await b({variables:{githubRepositorySettingsData:{appId:i,baseDirectory:s}}})).data)?void 0:u.githubRepositorySettings.createGitHubRepositorySettings.baseDirectory;N.current&&e&&(N.current.value=e)}x(!1)}catch(e){d(e.message)}l(E.X.IDLE)}return(0,r.jsx)(y.h,{children:(0,r.jsxs)(G.lV,{onSubmit:w,disabled:a!==E.X.IDLE,variant:"flat",children:[(0,r.jsxs)(f.s,{children:[(0,r.jsx)(j.N,{title:"Base directory",description:"Specify the directory where your code is located within your project. If your code is not located within a subdirectory, you may leave this field blank.",className:"mb-4",icon:(0,r.jsx)(D.FolderIcon,{})}),(0,r.jsx)(M.g,{children:(0,r.jsx)(O.p,{ref:N,error:null==o?void 0:o.baseDirectory,defaultValue:null==t?void 0:t.baseDirectory,onChange:e=>{g(e.target.value)},placeholder:"/",id:"baseDirectory"})}),(0,r.jsx)(B.j,{error:u,className:"mt-2"})]}),(0,r.jsx)(H.I,{className:"!rounded-b-sm !border-0",formError:u,formState:a,submitButtonText:"Save",submitButtonProps:h?void 0:{disabled:!0}})]})})}var K=i(766028),Y=i(779067),Z=i(244540),Q=i(705323),W=i.n(Q),ee=i(832323),et=i(461616),ei=i(254218),er=i(141278),en=i(49355),es=i(395661),ea=i(648638),el=i(893608),eo=i(976453),ec=i(272752),eu=i(700806),ed=i(500723),em=i(125050),ep=i(515479),eg=i(360203),eh=i(217948),ex=i(49903),eb=i(831442),ef=i(311419),ej=i(600694),ey=i(348221),ev=i(302626);function eI(e){var t,i,a,l,o,c;let u,d,m,{open:g,onOpenChange:x,appId:b,defaultTriggerType:f,existingGitHubBuildTrigger:j,setTriggerTypeTab:y,defaultBranch:I}=e,{currentUser:N,fullName:L}=(0,s.lT)(s.Iz.IN_PROJECT),[S,P]=(0,p.useState)(),[C,T]=(0,p.useState)(E.X.IDLE),[R,A]=(0,p.useState)(f),[D,H]=(0,p.useState)(null!=(t=null==j?void 0:j.executionBehavior)?t:n.ul.BaseDirectoryChanged),[_,F]=(0,p.useState)(null!=(i=null==j?void 0:j.sourcePattern)?i:"*"),[q,z]=(0,p.useState)(null!=(a=null==j?void 0:j.targetPattern)?a:R===n.eV.PullRequestUpdated?"*":null);(0,p.useEffect)(function(){var e;z(null!=(e=null==j?void 0:j.targetPattern)?e:R===n.eV.PullRequestUpdated?"*":null)},[R]);let[V,J]=(0,p.useState)(),[X]=(0,ey._)({refetchQueries:[(0,U.RB)({fullName:L})],awaitRefetchQueries:!0}),[$]=(0,ev.Z)({refetchQueries:[(0,U.RB)({fullName:L})],awaitRefetchQueries:!0});function K(){C===E.X.IDLE&&(x(),setTimeout(()=>{var e;P(void 0),T(E.X.IDLE),J(void 0),A(f),H(null!=(e=null==j?void 0:j.executionBehavior)?e:n.ul.BaseDirectoryChanged)},2*eh.x))}switch((0,p.useEffect)(function(){A(f)},[f]),R){case n.eV.PushToBranch:u="Branch pattern",d="*",m='Specify a branch or set of branches using wildcard notation. Example: "version-*". If you want to build all branches, enter "*".';break;case n.eV.PullRequestUpdated:u="Source branch pattern",d="*",m='Specify a branch or set of branches using wildcard notation. Example: "feature/*". This branch is the source of the pull request. If you want to build all source branches, enter "*".';break;case n.eV.TagUpdated:u="Tag pattern",d="*",m='Specify a tag or set of tags using wildcard notation. Example: "releases/*". If you want to build all tags, enter "*".'}let Z=k.Ik({sourcePattern:k.Yj().required("".concat(u," is a required field")).trim(),targetPattern:R===n.eV.PullRequestUpdated?k.Yj().required("Target branch pattern is a required field").trim():k.Yj().trim(),platform:j?k.Yj().required("Platform is a required field").trim():k.Yj().trim(),executionBehavior:k.Yj().oneOf(Object.values(n.ul)).trim(),buildProfile:k.Yj().required("EAS Build profile is a required field").trim(),platformAndroid:k.Yj().trim(),platformIos:k.Yj().trim(),submitProfile:k.Yj().required("Specify EAS Submit profile to auto submit with").trim(),autoSubmit:k.zM().required()});async function Q(e){var t,i,r,s,a;J(void 0),P(void 0);let[l,o]=await (0,G.du)(e,Z),c=o?{...o,buildProfile:l.buildProfile?o.buildProfile:void 0,submitProfile:l.submitProfile?o.submitProfile:void 0,sourcePattern:l.sourcePattern?o.sourcePattern:void 0,targetPattern:R===n.eV.PullRequestUpdated&&l.targetPattern?o.targetPattern:void 0}:void 0;l.buildProfile||(l.buildProfile="production"),l.autoSubmit&&(l.submitProfile||(l.submitProfile="production")),l.sourcePattern||(l.sourcePattern="*"),R!==n.eV.PullRequestUpdated||l.targetPattern||(l.targetPattern="*");let u=j||l.platformAndroid||l.platformIos?void 0:"At least one platform must be selected.";if(c&&Object.values(c).filter(h.z2).length)return void J({...c,platformAndroid:u});if(u)return void J({platformAndroid:u});T(E.X.LOADING);try{j?(await $({variables:{githubBuildTriggerId:j.id,githubBuildTriggerData:{platform:l.platform,isActive:j.isActive,type:j.type,autoSubmit:l.autoSubmit,buildProfile:l.buildProfile,executionBehavior:D,sourcePattern:l.sourcePattern,targetPattern:(null==(t=l.targetPattern)?void 0:t.length)?l.targetPattern:null,submitProfile:l.submitProfile}}}),ee.u4(ee.AZ.GITHUB_BUILD_TRIGGER_EDITED,{userId:N.id,appId:b,fullName:L,trigger:{id:j.id,platform:l.platform,isActive:j.isActive,type:j.type,autoSubmit:l.autoSubmit,buildProfile:l.buildProfile,executionBehavior:D,sourcePattern:l.sourcePattern,targetPattern:(null==(i=l.targetPattern)?void 0:i.length)?l.targetPattern:null,submitProfile:l.submitProfile}})):(await Promise.all([l.platformAndroid?X({variables:{githubBuildTriggerData:{appId:b,platform:n.pT.Android,isActive:!0,type:R,autoSubmit:l.autoSubmit,buildProfile:l.buildProfile,executionBehavior:D,sourcePattern:l.sourcePattern,targetPattern:(null==(r=l.targetPattern)?void 0:r.length)?l.targetPattern:null,submitProfile:l.submitProfile}}}):Promise.resolve(!0),l.platformIos?X({variables:{githubBuildTriggerData:{appId:b,platform:n.pT.Ios,isActive:!0,type:R,autoSubmit:l.autoSubmit,buildProfile:l.buildProfile,executionBehavior:D,sourcePattern:l.sourcePattern,targetPattern:(null==(s=l.targetPattern)?void 0:s.length)?l.targetPattern:null,submitProfile:l.submitProfile}}}):Promise.resolve(!0)]),ee.u4(ee.AZ.GITHUB_BUILD_TRIGGER_CREATED,{userId:N.id,appId:b,fullName:L,trigger:{platform:l.platform,isActive:!0,type:R,autoSubmit:l.autoSubmit,buildProfile:l.buildProfile,executionBehavior:D,sourcePattern:l.sourcePattern,targetPattern:(null==(a=l.targetPattern)?void 0:a.length)?l.targetPattern:null,submitProfile:l.submitProfile}})),null==y||y(R),T(E.X.SUCCESS),K()}catch(e){e instanceof Error&&P(e.message),T(E.X.IDLE)}}let{triggerDescription:W}=(0,ej.fk)({sourcePattern:_,type:R,executionBehavior:D,targetPattern:q}),et=(I?[I]:["main","master"]).includes(_)&&("*"===q||null===q),ei="*"===_&&("*"===q||null===q);return(0,r.jsx)(ep.D,{open:g,onOpenChange:K,children:(0,r.jsx)(eu.C,{className:"max-w-screen-md",children:(0,r.jsxs)(G.lV,{onSubmit:Q,className:"max-h-[75vh]",children:[(0,r.jsx)(eg.L,{title:j?"Update ".concat(ej.WP[j.type]," build trigger"):"Add a new build trigger",icon:j?(0,ej.cw)(j.type):(0,r.jsx)(Y.BuildIcon,{})}),(0,r.jsxs)(ed.d,{children:[!j&&(0,r.jsx)(M.g,{title:"Trigger Type",className:"min-w-[200px]",children:(0,r.jsx)(el.t,{block:!0,className:"w-full",tabs:[{label:"Push to branch",active:R===n.eV.PushToBranch,icon:(0,ej.cw)(n.eV.PushToBranch),onTabPress:()=>{A(n.eV.PushToBranch),null==y||y(n.eV.PushToBranch)}},{label:"Pull request",active:R===n.eV.PullRequestUpdated,icon:(0,ej.cw)(n.eV.PullRequestUpdated),onTabPress:()=>{A(n.eV.PullRequestUpdated),null==y||y(n.eV.PullRequestUpdated)}},{label:"Git tag",active:R===n.eV.TagUpdated,icon:(0,ej.cw)(n.eV.TagUpdated),onTabPress:()=>{A(n.eV.TagUpdated),null==y||y(n.eV.TagUpdated)}}]})}),(0,r.jsx)(M.g,{title:"Execution Behavior",className:"min-w-[200px]",children:(0,r.jsxs)(ef.z,{name:"executionBehavior",children:[(0,r.jsx)(eb.s,{id:n.ul.BaseDirectoryChanged,label:"Run only when files in the base directory change",onChange:()=>{H(n.ul.BaseDirectoryChanged)},checked:D===n.ul.BaseDirectoryChanged}),(0,r.jsx)(eb.s,{id:n.ul.Always,label:"Run every time this trigger's source and target patterns match",checked:D===n.ul.Always,onChange:()=>{H(n.ul.Always)}})]})}),(0,r.jsx)(M.g,{title:u,description:m,children:(0,r.jsx)(O.p,{autoComplete:"off","data-1p-ignore":!0,disabled:C!==E.X.IDLE,placeholder:d,id:"sourcePattern",error:null==V?void 0:V.sourcePattern,defaultValue:null==j?void 0:j.sourcePattern,onChange:e=>{let t=e.target.value.trim();F(""===t?"*":t)}})}),R===n.eV.PullRequestUpdated&&(0,r.jsx)(M.g,{title:"Target branch pattern",description:'Specify a branch or set of branches using wildcard notation. Example: "feature-*". This branch is the merge target of the pull request. If you want to build all merge targets, enter "*".',children:(0,r.jsx)(O.p,{autoComplete:"off","data-1p-ignore":!0,disabled:C!==E.X.IDLE,placeholder:"*",id:"targetPattern",error:null==V?void 0:V.targetPattern,defaultValue:null!=(l=null==j?void 0:j.targetPattern)?l:void 0,onChange:e=>{let t=e.target.value.trim();z(""===t?"*":t)}})}),(0,r.jsx)(w.p,{type:"primary",title:"Trigger behavior summary",children:W}),(0,r.jsx)(M.g,{title:"Platform",children:j?(0,r.jsxs)(ef.z,{name:"platform",children:[(0,r.jsx)(eb.s,{id:n.pT.Android,label:"Android",defaultChecked:!j||j.platform===n.pT.Android}),(0,r.jsx)(eb.s,{id:n.pT.Ios,label:"iOS",defaultChecked:(null==j?void 0:j.platform)===n.pT.Ios})]}):(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(ex.S,{id:"platformAndroid",name:"platformAndroid",label:"Android"}),(0,r.jsx)(ex.S,{id:"platformIos",name:"platformIos",label:"iOS"})]}),(0,r.jsx)(B.j,{error:null==V?void 0:V.platformAndroid})]})}),(0,r.jsx)(M.g,{title:"EAS Build profile",htmlFor:"buildProfile",children:(0,r.jsx)(O.p,{autoComplete:"off","data-1p-ignore":!0,disabled:C!==E.X.IDLE,placeholder:"production",id:"buildProfile",error:null==V?void 0:V.buildProfile,defaultValue:null==j?void 0:j.buildProfile})}),(0,r.jsx)(M.g,{title:"EAS Submit",htmlFor:"autoSubmit",children:(0,r.jsx)(ex.S,{disabled:C!==E.X.IDLE,id:"autoSubmit",name:"autoSubmit",label:"Automatically submit to stores after building successfully",defaultChecked:null!=(o=null==j?void 0:j.autoSubmit)&&o})}),(0,r.jsx)(M.g,{title:"EAS Submit profile",htmlFor:"submitProfile",children:(0,r.jsx)(O.p,{autoComplete:"off","data-1p-ignore":!0,disabled:C!==E.X.IDLE,placeholder:"production",id:"submitProfile",error:null==V?void 0:V.submitProfile,defaultValue:null!=(c=null==j?void 0:j.submitProfile)?c:void 0})}),S&&(0,r.jsx)(B.j,{error:S})]}),(0,r.jsx)(em.E,{children:(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-between gap-2",children:[ei||et?(0,r.jsx)(eo.v,{size:"sm",theme:"yellow",Icon:ec.AlertTriangleIcon,title:"This may run frequently and significantly increase build usage."}):(0,r.jsx)("div",{}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,r.jsx)(v.$,{theme:"quaternary",disabled:C!==E.X.IDLE,onClick:K,children:"Cancel"}),(0,r.jsxs)(v.$,{disabled:C!==E.X.IDLE,theme:"primary",type:"submit",status:C,children:[j?"Update":"Create"," trigger"]})]})]})})]})})})}var eN=i(767994),ew=i(733694),eL=i(215234),eS=i(539949),eP=i(649426),eC=i(883878),eT=i(68386),eR=i(157069),eE=i(234824),eA=i(194070),eD=i(994314),ek=i(70393),eG=i(523805),eB=i(549024),eH=i(592225),eM=i(703989),eO=i(888299);function e_(){let e=(0,F._)(["\n    mutation DeleteGitHubBuildTrigger($githubBuildTriggerId: ID!) {\n  githubBuildTrigger {\n    deleteGitHubBuildTrigger(githubBuildTriggerId: $githubBuildTriggerId) {\n      id\n    }\n  }\n}\n    "]);return e_=function(){return e},e}let eU={},eF=(0,q.J1)(e_());var eq=i(187080),ez=i(99224);function eV(e){let{trigger:t,hasPublishPermission:i,appId:a,repository:l}=e,{currentUser:o,accountName:d,projectName:m,fullName:g}=(0,s.lT)(s.Iz.IN_PROJECT),[b,f]=(0,p.useState)(E.X.IDLE),[j,y]=(0,p.useState)(!1),v=(0,eN.m)(),w=(0,x.dj)(),L=(0,eE.useRouter)(),[S]=(0,_.b)(),[A]=(0,U.b5)({variables:{fullName:g},fetchPolicy:"network-only"}),[D]=(0,ez.y)(),[k]=function(e){let t={...eU,...e};return z.n(eF,t)}({refetchQueries:[(0,U.RB)({fullName:g})],awaitRefetchQueries:!0}),[G]=(0,ev.Z)({refetchQueries:[(0,U.RB)({fullName:g})],awaitRefetchQueries:!0}),{pollForBackgroundJobReceiptAsync:B}=(0,eD.z9)();async function H(){if(w.remove(),await (0,ek.J)("Are you sure you want to delete this trigger?",{destructive:!0,confirmButtonLabel:"Delete trigger"})){f(E.X.LOADING);try{await k({variables:{githubBuildTriggerId:t.id}}),ee.u4(ee.AZ.GITHUB_BUILD_TRIGGER_DELETED,{userId:o.id,appId:a,fullName:g,trigger:t})}catch(e){w.add({message:e.message,theme:"danger",onClose:w.remove})}f(E.X.IDLE)}}async function M(){f(E.X.LOADING),w.remove();try{await G({variables:{githubBuildTriggerId:t.id,githubBuildTriggerData:{buildProfile:t.buildProfile,platform:t.platform,sourcePattern:t.sourcePattern,targetPattern:t.targetPattern,type:t.type,autoSubmit:!1,isActive:!t.isActive,executionBehavior:t.executionBehavior}}}),ee.u4(ee.AZ.GITHUB_BUILD_TRIGGER_STATE_TOGGLED,{userId:o.id,appId:a,fullName:g,trigger:t})}catch(e){w.add({message:e.message,theme:"danger",onClose:w.remove})}f(E.X.IDLE)}async function O(){var e,i,r,n;let s=await A(),l=null==(e=s.data)?void 0:e.app.byFullName.githubRepository;if(!l)throw Error("Failed to fetch repository information.");let c=null!=(n=null==(i=s.data)?void 0:i.app.byFullName.githubRepositorySettings)?n:null==(r=(await S({variables:{githubRepositorySettingsData:{appId:a,baseDirectory:""}}})).data)?void 0:r.githubRepositorySettings.createGitHubRepositorySettings;if(!c)throw Error("Failed to create repository settings");let{data:u}=await D({variables:{buildInput:{platform:t.platform,gitRef:t.sourcePattern,buildProfile:t.buildProfile,appId:a,baseDirectory:c.baseDirectory}}}),p=null==u?void 0:u.githubApp.createGitHubBuild;if(!p)throw Error("Failed to create build request.");return ee.u4(ee.AZ.MANUAL_GITHUB_BUILD_DISPATCHED,{userId:o.id,projectName:m,accountName:d,githubRepositoryId:l.id,githubRepositoryName:l.metadata.githubRepoName,githubRepositoryOwner:l.metadata.githubRepoOwnerName}),p}let F=t.sourcePattern.includes("*");async function q(){w.remove();try{if(F)throw Error("Cannot manually trigger a build with a wildcard source pattern.");f(E.X.LOADING);let e=await O();try{let t=await B(e);w.add({theme:"success",message:"Build successfully created! Now navigating to the build details page.",onClose:w.remove}),f(E.X.SUCCESS),ee.u4(ee.AZ.MANUAL_GITHUB_BUILD_SUCCESS,{userId:o.id,projectName:m,accountName:d,githubRepositoryId:l.id,githubRepositoryName:l.metadata.githubRepoName,githubRepositoryOwner:l.metadata.githubRepoOwnerName}),await v.resetStore(),await (null==L?void 0:L.push((0,h.Rv)(d,m,"builds/".concat(t.resultId))))}catch(e){if(e instanceof eD.hc)f(E.X.IDLE),w.add({theme:"danger",message:function(e){switch(e.errorData.errorType){case eD.nT.NULL_RECEIPT:return"This GitHub build request failed to execute correctly. Try submitting a new GitHub build request.";case eD.nT.JOB_FAILED_NO_WILL_RETRY:var t;return"".concat(null!=(t=e.errorData.receiptErrorMessage)?t:"This GitHub build failed.");case eD.nT.TIMEOUT:return"This GitHub build request is taking longer than expected to resolve. Try submitting a new GitHub build request."}}(e),onClose:w.remove}),ee.u4(ee.AZ.MANUAL_GITHUB_BUILD_FAILED,{userId:o.id,projectName:m,accountName:d,githubRepositoryId:l.id,githubRepositoryName:l.metadata.githubRepoName,githubRepositoryOwner:l.metadata.githubRepoOwnerName});else throw e}}catch(e){e instanceof Error&&w.add({theme:"danger",message:e.message,onClose:w.remove}),f(E.X.IDLE)}}let{triggerIcon:V,triggerDescription:J,sourceWildcardLabel:X}=(0,ej.fk)(t),{platformIcon:$,platformDisplayName:Y}=(0,eq.j)(t.platform,"icon-lg"),Z=(l.metadata.defaultBranch?[l.metadata.defaultBranch]:["main","master"]).includes(t.sourcePattern)&&("*"===t.targetPattern||null===t.targetPattern),Q="*"===t.sourcePattern&&("*"===t.targetPattern||null===t.targetPattern);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ea.y,{}),(0,r.jsxs)(eO.H,{children:[(0,r.jsx)(eG.n,{children:(0,r.jsxs)(C.s,{children:[(0,r.jsx)(R.k,{children:(0,r.jsxs)("div",{className:"flex gap-2 pl-2",children:[V,(0,r.jsx)("div",{className:"flex flex-col items-start",children:(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"whitespace-nowrap font-medium",children:"*"===t.sourcePattern?X:t.sourcePattern}),t.targetPattern&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eS.ArrowRightIcon,{}),(0,r.jsx)("p",{className:"whitespace-nowrap font-medium",children:"*"===t.targetPattern?X:t.targetPattern})]}),t.isActive?(0,r.jsx)(eo.v,{title:"Enabled",theme:"green",Icon:eL.StatusSuccessIcon,size:"sm"}):(0,r.jsx)(eo.v,{title:"Disabled",theme:"default",Icon:ew.StatusCanceledIcon,size:"sm"})]})})})]})}),(0,r.jsxs)(P.Z,{className:"w-52",side:"bottom",children:[(0,r.jsx)(T.L,{children:J}),(Q||Z)&&(0,r.jsx)(T.L,{className:"font-semibold text-warning",children:"This may run frequently and significantly increase build usage."})]})]})}),(0,r.jsx)(eG.n,{children:(0,r.jsx)(eB.k,{children:t.buildProfile})}),(0,r.jsx)(eG.n,{children:(0,r.jsxs)(C.s,{children:[(0,r.jsx)(R.k,{children:$}),(0,r.jsx)(P.Z,{side:"bottom",children:(0,r.jsx)(T.L,{children:Y})})]},t.platform)}),(0,r.jsx)(eG.n,{children:t.autoSubmit?(0,r.jsxs)(C.s,{children:[(0,r.jsx)(R.k,{children:(0,r.jsxs)("div",{className:"relative flex items-center justify-center gap-1.5",children:[(0,r.jsx)(eL.StatusSuccessIcon,{className:"text-icon-success"}),(0,r.jsx)(eB.k,{children:"Yes"})]})}),(0,r.jsx)(P.Z,{className:"w-52",side:"bottom",children:(0,r.jsxs)(T.L,{children:["EAS Submit profile: ",t.submitProfile]})})]},"".concat(t.id,"-auto-submit")):(0,r.jsxs)("div",{className:"relative flex items-center justify-center gap-1.5",children:[(0,r.jsx)(ew.StatusCanceledIcon,{className:"text-palette-gray9"}),(0,r.jsx)(eB.k,{children:"No"})]})}),(0,r.jsx)(eG.n,{children:t.lastRunStatus?(0,r.jsxs)(C.s,{children:[(0,r.jsx)(R.k,{disabled:!t.lastRunErrorMessage,children:t.lastRunStatus===n.j1.Success?(0,r.jsx)(eo.v,{title:"Success",theme:"green",size:"sm"}):(0,r.jsx)(eo.v,{title:"Error",theme:"red",size:"sm"})}),t.lastRunErrorCode&&(0,r.jsx)(P.Z,{side:"bottom",className:"max-w-[192px]",children:(0,r.jsxs)(T.L,{children:[t.lastRunErrorCode,t.lastRunErrorMessage?": ".concat(t.lastRunErrorMessage):""]})})]},"".concat(t.id,"-status")):(0,r.jsx)(eM.b,{})}),t.lastRunAt?(0,r.jsx)(eH.L,{date:t.lastRunAt}):(0,r.jsx)(eG.n,{children:(0,r.jsx)(eM.b,{children:"Not run yet"})}),(0,r.jsx)(eG.n,{className:"flex items-center gap-3",children:b===E.X.LOADING?(0,r.jsx)(K.Button,{disabled:!0,theme:"quaternary",leftSlot:(0,r.jsx)(eA.$,{})}):(0,r.jsxs)(C.s,{children:[(0,r.jsx)(R.k,{asChild:!0,children:(0,r.jsx)("div",{children:(0,r.jsxs)(I.m,{className:"min-w-[210px] max-w-[300px]",trigger:(0,r.jsx)(K.Button,{disabled:!i,leftSlot:(0,r.jsx)(c.DotsVerticalIcon,{className:"icon-md"}),theme:"quaternary"}),children:[(0,r.jsx)(N.t,{disabled:F,label:"Build now using these parameters",Icon:eT.PlayIcon,onSelect:q,description:F?"Triggers with wildcards in the source pattern are not supported for manual builds.":'This build will not update the "Most Recent Result", as it is a manual build, not one that was automatically triggered.'}),(0,r.jsx)(N.t,{label:t.isActive?"Disable trigger":"Enable trigger",Icon:t.isActive?eC.MinusCircleIcon:eP.CheckCircleIcon,onSelect:M}),(0,r.jsx)(N.t,{label:"Edit trigger",Icon:u.Edit05Icon,onSelect:()=>{y(!0)}}),(0,r.jsx)(N.t,{destructive:!0,label:"Delete trigger",Icon:eR.Trash03Icon,onSelect:H,disabled:b!==E.X.IDLE})]})})}),!i&&(0,r.jsx)(P.Z,{className:"w-48",children:(0,r.jsx)(T.L,{children:"You must be Developer, Admin, or Owner to manage GitHub build triggers."})})]})})]}),(0,r.jsx)(eI,{defaultBranch:l.metadata.defaultBranch,appId:a,existingGitHubBuildTrigger:t,defaultTriggerType:t.type,open:j,onOpenChange:()=>{y(e=>!e)}})]})}function eJ(e){let{githubBuildTriggers:t,appId:i,hasPublishPermission:a,repository:l}=e,{currentUser:o,fullName:c}=(0,s.lT)(s.Iz.IN_PROJECT),[u,d]=(0,p.useState)(!1),[m,g]=(0,b.M)({name:"".concat(c,"/githubBuildTriggers.triggerType"),defaultValue:n.eV.PushToBranch}),{buildTriggersForSelectedTab:h,triggerTypeCountMap:x}=(0,p.useMemo)(()=>{let e=null!=t?t:[],i=W()(e.filter(e=>e.type===m),"createdAt"),r=e.filter(e=>e.type===n.eV.PushToBranch),s=e.filter(e=>e.type===n.eV.PullRequestUpdated),a=e.filter(e=>e.type===n.eV.TagUpdated);return{buildTriggersForSelectedTab:i,triggerTypeCountMap:{[n.eV.PushToBranch]:{total:r.length,enabled:r.filter(e=>e.isActive).length},[n.eV.PullRequestUpdated]:{total:s.length,enabled:s.filter(e=>e.isActive).length},[n.eV.TagUpdated]:{total:a.length,enabled:a.filter(e=>e.isActive).length}}}},[t,m]);function I(e){var t;let i=m===e,n=x[e];return{label:null!=(t=(0,et.Zr)(ej.WP[e]))?t:"Unknown",disabled:u,icon:(0,ej.cw)(e,(0,K.mergeClasses)("icon-sm",i?"text-icon-info":"text-icon-tertiary")),active:i,onTabPress:()=>{u||g(e)},rightSlot:(0,r.jsx)(eo.v,{size:"xs",className:(0,K.mergeClasses)("tracking-wider",!i&&"bg-element text-quaternary"),title:0===n.total?"0":"".concat(n.enabled,"/").concat(n.total)})}}let N=h.length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(y.h,{children:[(0,r.jsxs)(f.s,{withDivider:!N,children:[(0,r.jsx)(j.N,{icon:(0,r.jsx)(Y.BuildIcon,{}),title:"Build triggers",description:"Configure when you want EAS to build your project based on GitHub repository activity.",rightSlot:(0,r.jsxs)(C.s,{children:[(0,r.jsx)(R.k,{asChild:!0,children:(0,r.jsx)(v.$,{theme:"secondary",className:"self-start",leftSlot:(0,r.jsx)(Z.PlusIcon,{}),disabled:!a,onClick:function(){d(!0),ee.u4(ee.AZ.GITHUB_BUILD_TRIGGER_BUTTON_CLICKED,{userId:o.id,appId:i,fullName:c})},children:"New Build Trigger"})}),!a&&(0,r.jsx)(P.Z,{className:"w-48",children:(0,r.jsx)(T.L,{children:"You must be Developer, Admin, or Owner to manage GitHub build triggers."})})]})}),(0,r.jsx)("div",{className:"mt-4 flex",children:(0,r.jsx)(el.t,{theme:"secondary",tabs:[I(n.eV.PushToBranch),I(n.eV.PullRequestUpdated),I(n.eV.TagUpdated)]})})]}),h.length?(0,r.jsxs)(es.j,{theme:"unstyled",columnCount:7,gridTemplateColumns:["auto","auto","auto","auto","auto","auto","min-content"],children:[(0,r.jsx)(ea.y,{}),(0,r.jsxs)(ei.A,{theme:"secondary",children:[(0,r.jsx)(er.M,{className:"pl-6",children:(0,r.jsx)(en.z,{children:"Trigger"})}),(0,r.jsx)(er.M,{children:(0,r.jsx)(en.z,{children:"Build Profile"})}),(0,r.jsx)(er.M,{children:(0,r.jsx)(en.z,{children:"Platform"})}),(0,r.jsx)(er.M,{children:(0,r.jsx)(en.z,{children:"Auto Submit"})}),(0,r.jsx)(er.M,{children:(0,r.jsx)(en.z,{children:"Most Recent Result"})}),(0,r.jsx)(er.M,{children:(0,r.jsx)(en.z,{children:"Last Run At"})}),(0,r.jsx)(er.M,{})]}),h.map(e=>(0,r.jsx)(eV,{hasPublishPermission:a,trigger:e,appId:i,repository:l},e.id))]}):(0,r.jsx)(f.s,{className:"-mt-4",children:(0,r.jsx)(S.O,{inline:!0,icon:(0,ej.cw)(m,"icon-2xl text-icon-tertiary"),title:"You have no ".concat(ej.WP[m]," triggers for this project."),description:'Click the "New Build Trigger" button to add one.'})})]}),(0,r.jsx)(eI,{setTriggerTypeTab:g,defaultTriggerType:m,open:u,onOpenChange:()=>{d(e=>!e)},appId:i,defaultBranch:l.metadata.defaultBranch})]})}var eX=i(912585),e$=i(512840),eK=i(480022),eY=i(852094),eZ=i(630472);function eQ(){let e=(0,F._)(["\n    mutation CreateGitHubJobRunTrigger($gitHubJobRunTriggerData: CreateGitHubJobRunTriggerInput!) {\n  githubJobRunTrigger {\n    createGitHubJobRunTrigger(gitHubJobRunTriggerData: $gitHubJobRunTriggerData) {\n      id\n      isActive\n      jobType\n      createdAt\n      lastRunAt\n      sourcePattern\n      targetPattern\n      triggerType\n    }\n  }\n}\n    "]);return eQ=function(){return e},e}let eW={},e0=(0,q.J1)(eQ());function e1(){let e=(0,F._)(["\n    mutation DeleteGitHubJobRunTrigger($gitHubJobRunTriggerId: ID!) {\n  githubJobRunTrigger {\n    deleteGitHubJobRunTrigger(gitHubJobRunTriggerId: $gitHubJobRunTriggerId) {\n      id\n    }\n  }\n}\n    "]);return e1=function(){return e},e}let e7={},e3=(0,q.J1)(e1());var e2=i(802381);function e6(e){let{trigger:t}=e;if(!t.lastRunStatus)return(0,r.jsx)("p",{className:"text-2xs",children:"Push to your repository to trigger."});let i=new Date(t.lastRunAt).getFullYear()===new Date().getFullYear();return t.lastRunStatus===n.xG.Success?(0,r.jsxs)("p",{className:"text-2xs",children:["Last triggered on"," ",new Date(t.lastRunAt).toLocaleString("en-US",{hour:"numeric",minute:"numeric",month:"long",day:"numeric",year:i?void 0:"numeric"}),"."]}):(0,r.jsxs)("p",{className:"text-2xs",children:["Last triggered on"," ",new Date(t.lastRunAt).toLocaleString("en-US",{hour:"numeric",minute:"numeric",month:"long",day:"numeric",year:i?void 0:"numeric"}),".",(0,r.jsx)("br",{}),"Failed due to:",(0,r.jsx)("strong",{children:t.lastRunErrorMessage}),"(",(0,r.jsx)("code",{children:t.lastRunErrorCode}),")."]})}function e4(e){let{pattern:t}=e;return"*"===t?"any branch":(null==t?void 0:t.includes("*"))?(0,r.jsxs)("span",{children:["branch matching ",(0,r.jsx)("code",{children:t})," pattern"]}):(0,r.jsx)("code",{children:t})}function e9(e){let{trigger:t}=e;switch(t.triggerType){case n.Ei.PushToBranch:return(0,r.jsxs)(r.Fragment,{children:["An update will be built on every commit to"," ",(0,r.jsx)(e4,{pattern:t.sourcePattern}),"."]});case n.Ei.PullRequestUpdated:return(0,r.jsxs)(r.Fragment,{children:["An update will be built on every commit on an open pull request of"," ",(0,r.jsx)(e4,{pattern:t.sourcePattern})," targeting"," ",(0,r.jsx)(e4,{pattern:t.targetPattern}),"."]})}}function e8(e){let{triggers:t,appId:i,hasPublishPermission:a}=e,{fullName:l}=(0,s.lT)(s.Iz.IN_PROJECT),[o,c]=(0,p.useState)(E.X.IDLE),{setUp:u,tearDown:d}=function(e){let{appId:t,fullName:i,existingTriggers:r}=e,[s]=function(e){let t={...eW,...void 0};return z.n(e0,t)}(),[a]=function(e){let t={...e7,...void 0};return z.n(e3,t)}(),l={refetchQueries:[(0,U.RB)({fullName:i})],awaitRefetchQueries:!0},o=async()=>{await Promise.all(r.map(async e=>{let{id:t}=e;await a({variables:{gitHubJobRunTriggerId:t},...l})}))};return{setUp:async()=>{await o(),await s({variables:{gitHubJobRunTriggerData:{appId:t,jobType:n.rT.PublishUpdate,isActive:!0,triggerType:n.Ei.PushToBranch,sourcePattern:"*"}},...l})},tearDown:o}}({appId:i,fullName:l,existingTriggers:t}),m=(0,x.dj)(),g=t.length>0,h=!g||function(e){if(1!==e.length||e.some(e=>!e.isActive))return!1;let t=e.find(e=>e.triggerType===n.Ei.PushToBranch);return!!(t&&"*"===t.sourcePattern)}(t),b=(e,t)=>{let{success:i,error:r}=t;return async()=>{c(E.X.LOADING);try{await e(),c(E.X.SUCCESS),m.add({message:i,activeDurationMilliseconds:2e3,theme:"success"})}catch(e){c(E.X.ERRORED),m.add({message:r,activeDurationMilliseconds:2e3,theme:"danger"})}finally{await (0,eZ.uk)(2e3)}c(E.X.IDLE)}},w=b(u,{success:"An update will build on the next commit to your repository.",error:"Failed to enable EAS Update integration."}),L=b(d,{success:"Updates will not be built anymore.",error:"Failed to disable EAS Update integration."});return(0,r.jsxs)(y.h,{children:[(0,r.jsx)(f.s,{withDivider:g,children:(0,r.jsx)(j.N,{icon:(0,r.jsx)(e$.LayersTwo02Icon,{}),title:"Updates",description:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Build an update on every commit to your project's repository."})}),rightSlot:(0,r.jsx)("div",{className:"self-start",children:g?(0,r.jsxs)(I.m,{trigger:(0,r.jsx)(v.$,{status:o,leftSlot:(0,r.jsx)(eL.StatusSuccessIcon,{className:"text-icon-success"}),rightSlot:(0,r.jsx)(eX.ChevronDownIcon,{className:"icon-md"}),theme:"secondary",children:"Enabled"}),children:[!h&&(0,r.jsx)(N.t,{label:"Reset",Icon:eK.PlayCircleIcon,onSelect:w}),(0,r.jsx)(N.t,{label:"Disable",Icon:eY.XCircleIcon,onSelect:L,destructive:!0})]}):(0,r.jsx)(v.$,{disabled:!a,onClick:w,status:o,children:"Enable"})})})}),g&&(0,r.jsx)(f.s,{className:"flex flex-col gap-3",children:t.map(e=>(0,r.jsxs)("p",{className:"text-xs",children:[(0,r.jsx)(e9,{trigger:e})," ",!!e.lastRunStatus&&(0,r.jsxs)(C.s,{children:[(0,r.jsxs)(R.k,{children:["Status:"," ",(0,r.jsx)(e2.k,{className:"align-text-top",status:e.lastRunStatus})]}),(0,r.jsx)(P.Z,{className:"max-w-[300px]",side:"top",children:(0,r.jsx)(e6,{trigger:e})})]})]},e.id))})]})}var e5=i(138707),te=i(404917),tt=i.n(te),ti=i(302394),tr=i(292241),tn=i(768326),ts=i(745056),ta=i(202591),tl=i(244877);function to(e){let{repository:t,onConnectRepository:i,onDisconnectRepository:n,disabled:s}=e,[a,l]=(0,p.useState)(E.X.IDLE);async function o(){l(E.X.LOADING),n?await n():await i(),l(E.X.IDLE)}return(0,r.jsxs)("div",{className:(0,K.mergeClasses)("flex items-center justify-between border-b border-b-default p-4 last:border-b-0","max-md-gutters:flex-col max-md-gutters:items-start max-md-gutters:gap-2"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 max-md-gutters:flex-col max-md-gutters:items-start",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("p",{className:"text-secondary",children:[t.owner.login,"/",(0,r.jsx)("span",{className:"font-medium text-default",children:t.name})]}),(0,r.jsxs)(C.s,{children:[(0,r.jsx)(R.k,{children:t.private&&(0,r.jsx)(d.Lock01Icon,{className:"icon-sm"})}),(0,r.jsx)(P.Z,{children:(0,r.jsx)(T.L,{children:"Private"})})]})]}),n&&(0,r.jsx)(eo.v,{title:"Connected",theme:"green",className:"max-md-gutters:mb-1"})]}),(0,r.jsx)(v.$,{disabled:s||a!==E.X.IDLE,status:a,onClick:o,theme:n?"primary-destructive":"primary",children:n?"Disconnect":"Connect"})]})}var tc=i(189512);let tu="@expo/".concat("production","/selectedInstallationIdentifier");function td(e){var t;let{existingRepository:i,onDisconnectRepository:n,githubAppInstallations:a,onConnectRepository:l,onDismiss:o,openGitHubPopup:c,canLinkInstallation:u,githubUserAccessToken:d}=e,{currentUser:m,accountName:h}=(0,s.lT)(s.Iz.IN_PROJECT),[x,b]=(0,p.useState)(void 0),[I,N]=(0,p.useState)(a[0]),[w]=(0,tc.nO)();(0,p.useEffect)(()=>{if(null==i?void 0:i.githubAppInstallation.installationIdentifier)N(a.find(e=>e.id===(null==i?void 0:i.githubAppInstallation.installationIdentifier)));else if((0,ti.O)()){let e=localStorage.getItem(tu);if(e){let t;try{t=JSON.parse(e)}catch(e){console.error(e)}if(!t)return void localStorage.removeItem(tu);let i=a.find(e=>e.id===t);i?N(i):localStorage.removeItem(tu)}}},[]),(0,p.useEffect)(function(){I||N(a[0])},[a,I]);let L=(0,tr.Z)(a);(0,p.useEffect)(function(){if(L&&a.length!==(null==L?void 0:L.length)){let e=a.at(-1);N(e),e&&(0,ti.O)()&&localStorage.setItem(tu,JSON.stringify(e.id))}},[a]);let[E,A]=(0,p.useState)(""),[D,k]=(0,p.useState)(1),[G,H]=(0,p.useState)(!1),[M,_]=(0,p.useState)(!1),[U,F]=(0,p.useState)(),[q,z]=(0,p.useState)(),[V]=(0,tn.h)(),J=E.trim().length>0,X=null==q?void 0:q.repositories,$=null==q?void 0:q.totalCount,Y=tt()(e=>{A(e),k(1)},200),Z=h===m.username&&(null==I?void 0:I.account.type)==="Organization";function Q(){k(e=>e-1)}async function W(e){let t=m.accounts.find(e=>e.name===h);if(I&&t){b(void 0),H(!0);try{var i,r;if(Z)throw Error("You can only work with GitHub organizations through Expo organizations.");let{data:n}=await w({variables:{accountName:h}}),s=null==n||null==(i=n.account.byName.githubAppInstallations.find(e=>e.installationIdentifier===I.id))?void 0:i.id;if(s||(s=null==(r=(await V({variables:{githubAppInstallationData:{installationIdentifier:I.id,accountId:t.id}}})).data)?void 0:r.githubAppInstallation.createGitHubAppInstallationForAccount.id),!s)throw Error("Could not create or find a GitHub app installation for this account.");await l({githubRepositoryIdentifier:e.id,githubAppInstallationId:s,nodeIdentifier:e.nodeId,repositoryName:e.name}),ee.u4(ee.AZ.GITHUB_REPO_LINKED,{userId:m.id,githubRepositoryId:e.id,githubRepositoryName:e.name,githubRepositoryOwner:e.owner.login})}catch(t){b(t.message),ee.u4(ee.AZ.GITHUB_REPO_LINKING_FAILED,{userId:m.id,githubRepositoryId:e.id,githubRepositoryName:e.name,githubRepositoryOwner:e.owner.login})}H(!1)}}async function et(){if(b(void 0),!i)return void b("No repository to disconnect");H(!0);try{await n(i.id),ee.u4(ee.AZ.GITHUB_REPO_DISCONNECTED,{userId:m.id,githubRepositoryId:i.id,githubRepositoryName:i.metadata.githubRepoName,githubRepositoryOwner:i.metadata.githubRepoOwnerName})}catch(e){b(e.message),ee.u4(ee.AZ.GITHUB_REPO_DISCONNECT_FAILED,{userId:m.id,githubRepositoryId:i.id,githubRepositoryName:i.metadata.githubRepoName,githubRepositoryOwner:i.metadata.githubRepoOwnerName})}H(!1)}(0,p.useEffect)(function(){(async()=>{let e;F(void 0);let t=E.trim();if(!I)return F(Error("Can not ".concat(t?"search":"fetch"," repositories due to an issue with the GitHub account selection.")));if(m.isExpoAdmin&&!m.accounts.some(e=>e.name===h))return F(Error("Expo admins can only view repositories for their own accounts."));if(Z)return z({repositories:[],totalCount:0});_(!0);try{e=t?(await (0,g.QH)({accessToken:d,installationId:I.id})).filter(e=>e.name.toLowerCase().includes(t.toLowerCase())):(await (0,g.UG)({accessToken:d,installationId:I.id,perPage:5,page:D})).repositories}catch(e){e instanceof Error&&F(e),_(!1);return}z({repositories:e.map(ej.Bu),totalCount:e.length}),_(!1)})()},[E,J,I,d,D]);let ei=1===D&&0===$,er=!E.trim()&&!ei,en=(0,r.jsxs)("p",{className:"mt-4 text-xs",children:["Account not listed?"," ",u?(0,r.jsx)(K.Link,{className:"cursor-pointer",onClick:()=>{c()},children:"Try linking another GitHub account."}):"Contact your account Admin or Owner to link a new GitHub account."]});return(0,r.jsxs)(y.h,{children:[(0,r.jsxs)(f.s,{children:[(0,r.jsx)(j.N,{withDivider:!0,title:i?"Update connected GitHub repository":"Connect a GitHub repository",description:"Connect your app to a repository to make developing Expo codebases hosted on GitHub easier."}),I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-4 flex gap-2 max-md-gutters:flex-col",children:[a.length?(0,r.jsx)(tl.A,{openGitHubPopup:c,canLinkInstallation:u,activeInstallations:a,defaultValue:String(null!=(t=null==I?void 0:I.id)?t:a[0].id),onValueChange:function(e){let t=a.find(t=>String(t.id)===e);t&&(k(1),N(t),A(""),(0,ti.O)()&&localStorage.setItem(tu,JSON.stringify(t.id)))}}):null,(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-2",children:[(0,r.jsx)("p",{className:"text-xs font-medium",children:"Repository name"}),(0,r.jsxs)(C.s,{children:[(0,r.jsx)(R.k,{asChild:!0,disabled:!Z,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(O.p,{disabled:Z||G,className:"pr-10",placeholder:"Search repositories by name",onChange:e=>{Y(e.target.value)}},"githubAccountRequiresExpoOrganization-".concat(Z)),M&&(0,r.jsx)(eA.$,{size:"sm",className:"absolute right-4 top-4 stroke-icon-default"})]})}),Z&&(0,r.jsx)(P.Z,{children:(0,r.jsx)(T.L,{children:"GitHub organization repositories can only be linked to Expo organizations."})})]})]})]}),Z?(0,r.jsx)(S.O,{inline:!0,title:"Create an Expo organization to continue",description:"An Expo organization is required to work with collaborators on a GitHub organization.",buttonText:"Create an Organization",href:"/create-organization",openInNewTab:!1}):(0,r.jsxs)(ta.d,{renderBottom:er,isFirstPage:1===D,limit:5,onPrevious:Q,onNext:function(){k(e=>e+1)},increment:5,count:$,additionalNote:en,children:[U&&(0,r.jsx)(S.O,{error:U,className:(0,K.mergeClasses)(M&&"min-h-[346px]"),title:"Something went wrong loading your repositories",description:U.message}),(null==X?void 0:X.length)?(0,r.jsx)(y.h,{children:X.map(e=>(0,r.jsx)(to,{disabled:G,repository:e,onConnectRepository:()=>W(e),onDisconnectRepository:(null==i?void 0:i.githubRepositoryIdentifier)===e.id?et:void 0},e.id))}):null,ei&&(0,r.jsx)(S.O,{inline:!0,title:"We couldn't find any repositories ".concat(E?'matching "'.concat(E,'"'):"for this GitHub account","."),description:"Try adjusting your GitHub app permissions to add the repo you want.",buttonText:"Edit GitHub App Settings",openInNewTab:!0,href:(0,g.ep)(I.id,"Organization"===I.account.type?I.account.login:void 0)}),(null==X?void 0:X.length)===0&&D>1&&(0,r.jsx)(S.O,{title:"You have no more repositories left to see.",description:"Click the back button to see your previous results, or try searching for a different repository name.",onClick:()=>{Q()},buttonText:"Go Back"}),(0,r.jsx)(B.j,{error:x,className:"mt-4"}),!er&&en]})]}):(0,r.jsx)(S.O,{title:"You have no linked GitHub accounts.",description:u?"To connect a new repository to this Expo app, link a GitHub account by clicking the button below.":"To connect a new repository to this Expo app, link a GitHub account. You must be an Admin or Owner of this account to manage connected GitHub accounts.",onClick:u?c:void 0,openInNewTab:!!u||void 0,buttonText:"Get Started"})]}),o&&(0,r.jsx)(ts.b,{children:(0,r.jsx)(v.$,{size:"sm",theme:"quaternary",onClick:o,children:"Cancel"})})]})}var tm=i(936968),tp=i(335365);function tg(){let e=(0,F._)(["\n    mutation DeleteGitHubRepository($githubRepositoryId: ID!) {\n  githubRepository {\n    deleteGitHubRepository(githubRepositoryId: $githubRepositoryId) {\n      id\n    }\n  }\n}\n    "]);return tg=function(){return e},e}let th={},tx=(0,q.J1)(tg());var tb=i(64141);function tf(){var e,t;let i,{fullName:a,accountName:D,currentUser:k}=(0,s.lT)(s.Iz.IN_PROJECT),[G,B]=(0,p.useState)(E.X.IDLE),[H,M]=(0,p.useState)(!1),{openGitHubPopup:O,canLinkInstallation:F,loading:q,error:V,githubAppInstallations:J,githubUserAccessToken:X}=(0,tb.ps)({accountName:D}),{data:K,loading:Y,error:Z,refetch:Q}=(0,U.$c)({variables:{fullName:a}}),[W]=(0,U.b5)({variables:{fullName:a},fetchPolicy:"network-only"}),[ee]=(0,tp.c)(),[et]=(0,_.b)(),[ei]=function(e){let t={...th,...void 0};return z.n(tx,t)}(),[,,er]=(0,b.M)({name:"".concat(a,"/githubBuildTriggers.triggerType"),defaultValue:n.eV.PushToBranch}),en=(0,x.dj)(),es=null==K?void 0:K.app.byFullName.id,ea=null==K?void 0:K.app.byFullName.githubRepository,el=null==K?void 0:K.app.byFullName.githubRepositorySettings,eo=null==K?void 0:K.app.byFullName.githubBuildTriggers,ec=null==K?void 0:K.app.byFullName.githubJobRunTriggers;async function eu(e){var t,i;let{githubAppInstallationId:r,githubRepositoryIdentifier:n,nodeIdentifier:s}=e;en.remove();let a=await W(),l=null==(t=a.data)?void 0:t.app.byFullName.githubRepository,o=null==(i=a.data)?void 0:i.app.byFullName.githubRepositorySettings;l&&await ei({variables:{githubRepositoryId:l.id}}),await ee({variables:{githubRepositoryData:{appId:es,githubAppInstallationId:r,githubRepositoryIdentifier:n,nodeIdentifier:s}}}),o||await et({variables:{githubRepositorySettingsData:{appId:es,baseDirectory:"/"}}}),await Q(),M(!1)}async function ed(e){en.remove(),er(),await ei({variables:{githubRepositoryId:e}}),await Q()}let em=q||Y,ep=null!=V?V:Z;if(em||ep||!J||!es)return(0,r.jsx)(S.O,{error:ep,loading:em,title:"An error occurred loading your GitHub information",description:null==ep?void 0:ep.message});if(!ea)return F?X?J.length?X?(0,r.jsx)(td,{openGitHubPopup:()=>{O({action:"app-installation"})},onConnectRepository:eu,githubAppInstallations:J,githubUserAccessToken:X,onDisconnectRepository:ed,canLinkInstallation:F}):(console.error("Project GitHub UI Error: This state shouldn't happen."),(0,r.jsx)(S.O,{illustration:(0,r.jsx)(e5.B,{}),icon:(0,r.jsx)(l.GithubIcon,{className:"icon-2xl"}),title:"We ran into an unexpected error when loading your GitHub information. Try again later."})):(0,r.jsx)(S.O,{illustration:(0,r.jsx)(e5.B,{}),icon:(0,r.jsx)(l.GithubIcon,{className:"icon-2xl"}),title:F?"Link your GitHub account to Expo":"Contact your account Admin or Owner to link a GitHub account to this Expo account.",description:F?"Install the Expo GitHub app to make developing Expo codebases hosted on GitHub easier.":void 0,buttonText:"Get Started",openInNewTab:!1,onClick:F?()=>{O({action:"app-installation"})}:void 0}):(0,r.jsx)(S.O,{illustration:(0,r.jsx)(e5.B,{}),icon:(0,r.jsx)(l.GithubIcon,{className:"icon-2xl"}),title:"Link your GitHub user to Expo to continue",description:"Linking your GitHub identity makes sure you can only use repositories you have access to on GitHub.",buttonText:"Get Started",openInNewTab:!1,onClick:()=>{O({action:"user-linking-and-app-installation-if-needed"})}}):(0,r.jsx)(S.O,{illustration:(0,r.jsx)(e5.B,{}),icon:(0,r.jsx)(l.GithubIcon,{className:"icon-2xl"}),title:"Contact your account Admin or Owner to link a GitHub repository to this project."});async function eg(){en.remove(),B(E.X.LOADING);try{await ed(ea.id)}catch(e){console.error(e),en.add({message:e.message,onClose:en.remove,theme:"danger"})}B(E.X.IDLE)}let eh=null==(e=k.accounts)?void 0:e.find(e=>e.name===D),ex=!!eh&&((0,h._T)(eh,n.aX.Publish)||(0,h.Xh)(eh,k.username)),eb="You must be an Admin or Owner of this account to manage connected GitHub repositories.",ef=(0,r.jsxs)("p",{className:"text-2xs !leading-[18px] text-tertiary",children:["You must"," ",(0,r.jsx)(L.o,{href:"#",isStyled:!0,onClick:e=>{e.preventDefault(),O({action:"user-linking-only"})},children:"link your GitHub user"})," ","to update connected repositories."]});return F?X||(i=ef):i=eb,(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[ea&&[n.Fx.NotInstalled,n.Fx.Suspended].includes(ea.githubAppInstallation.metadata.installationStatus)&&(0,r.jsx)(w.p,{type:"warning",title:"This project's GitHub app has been suspended or uninstalled.",children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsx)("p",{className:"text-xs",children:"Unsuspend or reinstall the GitHub app to continue using the GitHub integration."}),(0,r.jsxs)(C.s,{children:[(0,r.jsx)(R.k,{asChild:!0,children:(0,r.jsx)(v.$,{disabled:!F,rightSlot:(0,r.jsx)(o.ArrowUpRightIcon,{}),size:"sm",onClick:()=>{O({action:"app-installation"})},children:"Configure GitHub App"})}),!F&&(0,r.jsx)(P.Z,{className:"relative z-10 w-48",children:(0,r.jsx)(T.L,{children:"You must be an Admin or Owner of this account to manage connected GitHub accounts."})})]})]})}),H&&X?(0,r.jsx)(td,{openGitHubPopup:()=>{O({action:"app-installation"})},existingRepository:ea,onConnectRepository:eu,onDisconnectRepository:ed,githubAppInstallations:J,githubUserAccessToken:X,onDismiss:ea?()=>{M(!1)}:void 0,canLinkInstallation:F}):(0,r.jsx)(y.h,{children:(0,r.jsxs)(f.s,{children:[(0,r.jsx)(j.N,{className:(ea||H)&&"mb-4",title:"GitHub repository",description:"The GitHub repository associated with this project.",rightSlot:(0,r.jsxs)(I.m,{className:"min-w-[210px] max-w-[300px]",trigger:(0,r.jsx)(v.$,{status:G,theme:"secondary",leftSlot:(0,r.jsx)(c.DotsVerticalIcon,{className:"icon-md"}),testID:"options-button"}),children:[(0,r.jsx)(N.t,{label:"Change repository",description:i,disabled:!F||!X,Icon:u.Edit05Icon,onSelect:()=>{M(!0)}}),(0,r.jsx)(N.t,{label:"Update GitHub app permissions",rightSlot:(0,r.jsx)(o.ArrowUpRightIcon,{className:"icon-sm ml-2"}),Icon:e=>(0,r.jsx)(d.Lock01Icon,{...e,className:"icon-sm"}),href:(0,g.ep)(ea.githubAppInstallation.installationIdentifier,ea.githubAppInstallation.metadata.githubAccountName&&ea.githubAppInstallation.metadata.githubAccountType===n.iO.Organization?ea.githubAppInstallation.metadata.githubAccountName:void 0)}),(0,r.jsx)(C.s,{children:(0,r.jsx)(R.k,{asChild:!0,children:(0,r.jsx)("div",{children:(0,r.jsx)(N.t,{destructive:!0,description:F?null:eb,disabled:!F,label:"Disconnect repository",Icon:m.SlashCircle01Icon,onSelect:()=>{eg()}})})})})]})}),ea&&!H&&(0,r.jsx)(tm.a,{repository:ea})]})}),!H&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($,{repoSettings:el,appId:es}),(0,r.jsx)(eJ,{githubBuildTriggers:eo,appId:es,hasPublishPermission:ex||k.isExpoAdmin,repository:ea}),(0,r.jsx)(e8,{hasPublishPermission:ex||k.isExpoAdmin,appId:es,triggers:null!=(t=null==ec?void 0:ec.filter(e=>e.jobType===n.rT.PublishUpdate))?t:[]}),(0,r.jsx)(y.h,{children:(0,r.jsx)(f.s,{children:(0,r.jsx)(j.N,{title:"Build with GitHub labels",description:(0,r.jsxs)("p",{className:"text-xs text-secondary",children:["Configure pull requests to trigger builds by applying a label with the syntax,"," ",(0,r.jsx)(A.Sq,{children:"eas-build-[platform]:[profile]"}),"."]}),rightSlot:(0,r.jsx)(v.$,{openInNewTab:!0,size:"sm",theme:"secondary",href:"https://docs.expo.dev/build/building-from-github/#build-using-github-pr-labels",rightSlot:(0,r.jsx)(o.ArrowUpRightIcon,{}),children:"Learn More"})})})})]})]})}var tj=i(929380),ty=i(927500),tv=i(341597);let tI=(0,tj.G)(function(){let{fullName:e}=(0,s.lT)(s.Iz.IN_PROJECT);return(0,r.jsx)(ty.y,{meta:{name:"dashboard",pageName:"Project GitHub settings — ".concat(e)},children:(0,r.jsxs)(a.g,{title:"Project GitHub settings",headerHelpText:(0,r.jsxs)("p",{className:"text-xs",children:["Link your GitHub repository and configure settings to"," ",(0,r.jsx)(L.o,{isStyled:!0,href:"https://docs.expo.dev/build/building-from-github/",openInNewTab:!0,children:"trigger builds from GitHub"}),"."]}),children:[(0,r.jsx)(tv.v,{serviceNames:[n.Gk.GithubApiRequests,n.Gk.GithubWebhooks]}),(0,r.jsx)(tf,{})]})})});var tN=!0;let tw=tI},395661:(e,t,i)=>{"use strict";i.d(t,{j:()=>l});var r=i(637876),n=i(766028),s=i(111431),a=i.n(s);function l(e){let{children:t,columnCount:i,theme:s="default",className:l,rootClassName:o,gridTemplateColumns:c,mobileCompactMode:u,...d}=e,m=null==c?void 0:c.filter(Boolean);return a()(!m||i===(null==m?void 0:m.length),"columnCount must have the same length as gridTemplateColumns."),(0,r.jsx)("div",{className:(0,n.mergeClasses)("flex flex-row","default"===s&&"rounded-lg border border-default bg-default shadow-xs","[&_a]:outline-offset-[-3px]",o),children:(0,r.jsx)("div",{...d,className:(0,n.mergeClasses)("grid w-0 flex-1 flex-col items-center overflow-x-auto",u&&"max-md-gutters:flex max-md-gutters:items-start",!m&&function(e){switch(e){case 1:return"grid-cols-auto-min-1";case 2:return"grid-cols-auto-min-2";case 3:return"grid-cols-auto-min-3";case 4:return"grid-cols-auto-min-4";case 5:return"grid-cols-auto-min-5";case 6:return"grid-cols-auto-min-6";case 7:return"grid-cols-auto-min-7";case 8:return"grid-cols-auto-min-8";default:return console.warn("Only 8 columns are supported."),"grid-cols-auto-min-1"}}(i),l),style:m?{gridTemplateColumns:m.map(e=>"object"==typeof e?"minmax(".concat(e.min,", ").concat(e.max,")"):e).join(" ")}:void 0,children:t})})}},497798:(e,t,i)=>{"use strict";i.d(t,{b:()=>c});var r=i(96427),n=i(903219),s=i(764177);function a(){let e=(0,r._)(["\n    mutation CreateGitHubRepositorySettings($githubRepositorySettingsData: CreateGitHubRepositorySettingsInput!) {\n  githubRepositorySettings {\n    createGitHubRepositorySettings(\n      githubRepositorySettingsData: $githubRepositorySettingsData\n    ) {\n      id\n      baseDirectory\n    }\n  }\n}\n    "]);return a=function(){return e},e}let l={},o=(0,n.J1)(a());function c(e){let t={...l,...e};return s.n(o,t)}},523805:(e,t,i)=>{"use strict";i.d(t,{n:()=>s});var r=i(637876),n=i(766028);function s(e){let{children:t,theme:i="default",className:s,mobilePrimaryCell:a,hideOnMobile:l,isActivityView:o,...c}=e;return(0,r.jsx)("div",{...c,className:(0,n.mergeClasses)("text-default",l?"flex max-md-gutters:hidden":"flex","default"===i&&"px-4 py-2","interactive"===i&&"m-1 truncate rounded-md px-3 py-1 hocus:bg-element",a&&"interactive"===i&&"m-1 rounded-md px-3 py-1 max-md-gutters:m-0 max-md-gutters:py-3",a&&"interactive"===i&&!o&&"max-md-gutters:rounded-none",a&&"max-md-gutters:w-full",o&&"max-md-gutters:rounded-b-md max-md-gutters:rounded-t-none",s),children:t})}},549024:(e,t,i)=>{"use strict";i.d(t,{k:()=>s});var r=i(637876),n=i(766028);function s(e){let{children:t,className:i,testID:s,title:a,...l}=e;return(0,r.jsx)("p",{"data-testid":s,title:a,className:(0,n.mergeClasses)("text-xs",i),...l,children:t})}},592225:(e,t,i)=>{"use strict";i.d(t,{L:()=>c});var r=i(637876),n=i(58532),s=i(14232),a=i(598861),l=i(408557),o=i(523805);function c(e){let{date:t,dateFormat:i=a.WL.timestamp,loaderWidth:c=148,...u}=e,[d,m]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{m(!0)},[]),(0,r.jsx)(o.n,{...u,children:(0,r.jsx)(l.c,{loading:!d,height:24,width:c,children:(0,r.jsx)("time",{className:"whitespace-nowrap text-xs",children:(0,n.GP)(t,i)})})})}},600694:(e,t,i)=>{"use strict";i.d(t,{Bu:()=>d,WP:()=>u,cw:()=>c,fk:()=>o});var r=i(637876),n=i(84528),s=i(893460),a=i(317401),l=i(376950);function o(e){let t,i,n=e.executionBehavior===l.ul.BaseDirectoryChanged?" and files change in the base directory":"";switch(e.type){case l.eV.PushToBranch:i="All branches",t=(0,r.jsxs)(r.Fragment,{children:["This trigger will run every time a commit is pushed to a Git branch matching"," ",(0,r.jsxs)("span",{className:"font-semibold",children:['"',e.sourcePattern,'"',"*"===e.sourcePattern?" (".concat(i.toLowerCase(),")"):null]}),n,"."]});break;case l.eV.PullRequestUpdated:i="All branches",t=(0,r.jsxs)(r.Fragment,{children:["This trigger will run every time a pull request is updated with a source branch that matches"," ",(0,r.jsxs)("span",{className:"font-semibold",children:['"',e.sourcePattern,'"',"*"===e.sourcePattern?" (".concat(i.toLowerCase(),")"):null]}),e.targetPattern?(0,r.jsxs)(r.Fragment,{children:[" ","and a target branch that matches"," ",(0,r.jsxs)("span",{className:"font-semibold",children:['"',e.targetPattern,'"',"*"===e.targetPattern?" (".concat(i.toLowerCase(),")"):null]})]}):null,n,"."]});break;case l.eV.TagUpdated:i="All tags",t=(0,r.jsxs)(r.Fragment,{children:["This trigger will run every time a Git tag matching"," ",(0,r.jsxs)("span",{className:"font-semibold",children:['"',e.sourcePattern,'"',"*"===e.sourcePattern?" (".concat(i.toLowerCase(),")"):null]})," ","is created or updated",n,"."]})}return{triggerIcon:c(e.type,"icon-md mt-1"),triggerDescription:t,sourceWildcardLabel:i}}function c(e,t){switch(e){case l.eV.PushToBranch:return(0,r.jsx)(n.GitBranch02Icon,{className:t});case l.eV.PullRequestUpdated:return(0,r.jsx)(s.GitPullRequestIcon,{className:t});case l.eV.TagUpdated:return(0,r.jsx)(a.Tag01Icon,{className:t})}}let u={[l.eV.PushToBranch]:"push to branch",[l.eV.PullRequestUpdated]:"pull request",[l.eV.TagUpdated]:"Git tag"};function d(e){return{id:e.id,name:e.name,url:e.html_url,description:e.description,private:e.private,owner:{id:e.owner.id,login:e.owner.login},nodeId:e.node_id}}},629731:(e,t,i)=>{"use strict";i.d(t,{$F:()=>m,fM:()=>d,rS:()=>u});var r=i(96427),n=i(903219),s=i(768069),a=i(154431),l=i(678248);function o(){let e=(0,r._)(["\n    query GetBackgroundJobReceiptById($id: ID!) {\n  backgroundJobReceipt {\n    byId(id: $id) {\n      ...BackgroundJobReceiptData\n    }\n  }\n}\n    ",""]);return o=function(){return e},e}let c={},u=(0,n.J1)(o(),s.Y);function d(e){let t={...c,...e};return a.IT(u,t)}function m(e){let t={...c,...e};return l._(u,t)}},632028:(e,t,i)=>{"use strict";i.d(t,{g:()=>c});var r=i(637876),n=i(766028),s=i(681535),a=i(693118),l=i(446738),o=i(655005);function c(e){let{children:t,title:i,description:c,icon:u,rightSlot:d,bottomSlot:m,className:p,headerHelpText:g,headerClassName:h,contentClassName:x,titleAsBlock:b}=e;return(0,r.jsxs)(o.B,{sidebar:(0,r.jsx)(l.j,{}),className:p,children:[(0,r.jsx)(s.s,{}),i&&(0,r.jsx)(a.z,{title:i,description:c,Icon:u,rightSlot:d,bottomSlot:m,helpText:g,className:h,block:b}),(0,r.jsx)("div",{className:(0,n.mergeClasses)("mx-auto w-full max-w-screen-xl-gutters flex-1 p-6",x),children:t})]})}},648638:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var r=i(637876),n=i(766028);function s(e){let{className:t,...i}=e;return(0,r.jsx)("div",{...i,className:(0,n.mergeClasses)("col-span-full h-0 w-full border-t border-secondary",t)})}},681535:(e,t,i)=>{"use strict";i.d(t,{s:()=>l});var r=i(637876),n=i(766028),s=i(852367),a=i(414815);function l(e){let{className:t,...i}=e,{selectedAccount:l}=(0,a.w)();return(null==l?void 0:l.isDisabled)?(0,r.jsx)("div",{className:(0,n.mergeClasses)("mx-auto grid w-full max-w-screen-xl-gutters grid-cols-1 items-center px-6 pb-2 pt-8",t),...i,children:(0,r.jsx)(s.p,{type:"warning",title:"Account disabled",className:"rounded-lg",children:(0,r.jsxs)("p",{className:"text-xs",children:["This account has been disabled. Please ",(0,r.jsx)(n.Link,{href:"/contact",children:"contact us"})," if you believe this was in error."]})})}):null}},693118:(e,t,i)=>{"use strict";i.d(t,{z:()=>o});var r=i(637876),n=i(766028),s=i(346898),a=i(197093),l=i(909275);function o(e){let{title:t,Icon:i,description:o,leftSlot:c,rightSlot:u,bottomSlot:d,helpText:m,className:p,block:g}=e;return(0,r.jsxs)("div",{className:(0,n.mergeClasses)("mx-auto grid w-full max-w-screen-xl-gutters grid-cols-1 items-center gap-4 px-6 pt-8","max-md-gutters:pt-6",p),children:[(0,r.jsxs)("div",{className:(0,n.mergeClasses)("flex items-center justify-between gap-3",!g&&"max-md-gutters:flex-col max-md-gutters:items-start"),children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[c,i&&(0,r.jsx)(i,{className:"icon-xl"}),(0,r.jsx)("h1",{className:"truncate font-semibold heading-xl",children:t}),!!m&&(0,r.jsx)(l.t,{contentClassName:"max-w-[300px]",trigger:(0,r.jsx)(a.$,{theme:"secondary",title:"Additional information",className:"size-6 justify-center rounded-full px-0",children:(0,r.jsx)(s.QuestionMarkIcon,{className:"icon-xs text-icon-secondary"})}),children:"string"==typeof m?(0,r.jsx)("p",{children:m}):m})]}),!!o&&"string"==typeof o&&(0,r.jsx)("p",{className:"text-xs text-secondary",children:o}),o&&"string"!=typeof o?o:null]}),!!u&&(0,r.jsx)("div",{className:"justify-self-end",children:u})]}),d]})}},703989:(e,t,i)=>{"use strict";i.d(t,{b:()=>a});var r=i(637876),n=i(766028),s=i(549024);function a(e){let{children:t,className:i,...a}=e;return(0,r.jsx)(s.k,{className:(0,n.mergeClasses)("text-quaternary",i),...a,children:null!=t?t:"None"})}},768069:(e,t,i)=>{"use strict";i.d(t,{Y:()=>s});var r=i(96427);function n(){let e=(0,r._)(["\n    fragment BackgroundJobReceiptData on BackgroundJobReceipt {\n  id\n  state\n  tries\n  willRetry\n  resultId\n  resultType\n  resultData\n  errorCode\n  errorMessage\n  createdAt\n  updatedAt\n}\n    "]);return n=function(){return e},e}let s=(0,i(903219).J1)(n())},768326:(e,t,i)=>{"use strict";i.d(t,{h:()=>c});var r=i(96427),n=i(903219),s=i(764177);function a(){let e=(0,r._)(["\n    mutation CreateGitHubAppInstallation($githubAppInstallationData: CreateGitHubAppInstallationInput!) {\n  githubAppInstallation {\n    createGitHubAppInstallationForAccount(\n      githubAppInstallationData: $githubAppInstallationData\n    ) {\n      installationIdentifier\n      id\n      account {\n        id\n        name\n      }\n    }\n  }\n}\n    "]);return a=function(){return e},e}let l={},o=(0,n.J1)(a());function c(e){let t={...l,...e};return s.n(o,t)}},802381:(e,t,i)=>{"use strict";i.d(t,{k:()=>g,p:()=>h});var r=i(637876),n=i(766028),s=i(733694),a=i(941483),l=i(269007),o=i(215234),c=i(573822),u=i(887792),d=i(426879),m=i(376950),p=i(325177);function g(e){let{status:t,isExpired:i,className:g,...x}=e;return(0,r.jsxs)("div",{className:(0,n.mergeClasses)("relative inline-block size-5",g),...x,children:[(0,r.jsx)("div",{className:"absolute inset-0 ml-0.5 mt-0.5 size-4 rounded-full bg-default"}),function(e,t){switch(e){case m.zS.AwaitingBuild:case m.NK.New:case m.df.New:case m.Bx.New:case m.p8.New:return(0,r.jsx)(l.StatusNewIcon,{"data-testid":"status-new",title:h(e),className:(0,n.mergeClasses)("text-icon-warning")});case m.zS.InQueue:case m.NK.InQueue:case m.df.InQueue:return(0,r.jsx)(c.StatusWaitingIcon,{className:(0,n.mergeClasses)("text-icon-warning"),"data-testid":"status-queued",title:h(e)});case m.NK.InProgress:case m.zS.InProgress:case m.df.InProgress:case m.Bx.InProgress:case m.p8.InProgress:return(0,r.jsx)(p.E,{className:(0,n.mergeClasses)("m-0.5"),iconClassName:"group-hover:bg-element",testID:"status-building",title:h(e)});case m.NK.PendingCancel:case m.df.PendingCancel:case m.p8.PendingCancel:return(0,r.jsx)(s.StatusCanceledIcon,{className:(0,n.mergeClasses)(t?"text-icon-quaternary":"text-palette-gray9"),"data-testid":"status-canceling",title:h(e)});case m.NK.Canceled:case m.zS.Canceled:case m.df.Canceled:case m.Bx.Canceled:case m.p8.Canceled:return(0,r.jsx)(s.StatusCanceledIcon,{className:(0,n.mergeClasses)(t?"text-icon-quaternary":"text-palette-gray9"),"data-testid":"status-cancelled",title:h(e)});case m.zS.Finished:case m.NK.Finished:case m.xG.Success:case m.df.Finished:case m.Bx.Success:case m.p8.Success:return(0,r.jsx)(o.StatusSuccessIcon,{className:(0,n.mergeClasses)(t?"text-icon-quaternary":"text-icon-success"),"data-testid":"status-finished",title:h(e)});case m.zS.Errored:case m.NK.Errored:case m.xG.Errored:case m.df.Errored:case m.Bx.Failure:case m.p8.Failure:return(0,r.jsx)(a.StatusFailureIcon,{className:(0,n.mergeClasses)(t?"text-icon-quaternary":"text-icon-danger"),"data-testid":"status-failed",title:h(e)});case m.Bx.ActionRequired:case m.p8.ActionRequired:return(0,r.jsx)(d.AlertOctagonSolidIcon,{className:(0,n.mergeClasses)("p-px",t?"text-icon-quaternary":"text-icon-warning"),"data-testid":"status-action-required",title:h(e)});case m.p8.Skipped:return(0,r.jsx)(u.SlashCircle01Icon,{className:(0,n.mergeClasses)("p-px text-icon-tertiary",t?"text-icon-quaternary":"text-palette-gray9"),"data-testid":"status-skipped",title:h(e)})}}(t,i)]})}function h(e){switch(e){case m.zS.AwaitingBuild:case m.NK.New:case m.df.New:case m.Bx.New:case m.p8.New:return"Pending";case m.zS.InQueue:case m.NK.InQueue:case m.df.InQueue:return"Waiting";case m.NK.InProgress:case m.zS.InProgress:case m.df.InProgress:case m.Bx.InProgress:case m.p8.InProgress:return"In progress";case m.NK.PendingCancel:case m.df.PendingCancel:case m.p8.PendingCancel:return"Canceling";case m.NK.Canceled:case m.zS.Canceled:case m.df.Canceled:case m.Bx.Canceled:case m.p8.Canceled:return"Canceled";case m.zS.Finished:case m.NK.Finished:case m.xG.Success:case m.df.Finished:return"Finished";case m.Bx.Success:case m.p8.Success:return"Completed";case m.zS.Errored:case m.NK.Errored:case m.xG.Errored:case m.df.Errored:case m.Bx.Failure:case m.p8.Failure:return"Failed";case m.Bx.ActionRequired:case m.p8.ActionRequired:return"Action required";case m.p8.Skipped:return"Skipped"}}},831442:(e,t,i)=>{"use strict";i.d(t,{s:()=>a});var r=i(637876),n=i(766028),s=i(14232);function a(e){let{id:t,label:i,name:a,defaultChecked:l,checked:o,readOnly:c,className:u,onChange:d,inputClassName:m}=e,p=(0,s.useRef)(null),g="string"==typeof i;return(0,r.jsxs)("div",{onClick:function(){!c&&d&&(null==p?void 0:p.current)&&p.current.click()},className:(0,n.mergeClasses)("group grid flex-1 grid-cols-[auto,1fr] items-center",!g&&"items-start",u),children:[(0,r.jsx)("input",{type:"radio",id:t,ref:p,name:a,defaultChecked:l,readOnly:c,checked:o,"data-label":g?i:void 0,onChange:d,className:(0,n.mergeClasses)("flex size-4 items-center justify-center rounded-full border border-default bg-transparent shadow-xs transition","outline-2 outline-offset-4 outline-palette-blue10 ring-palette-blue10 dark:outline-palette-blue8","group-hover:border-palette-blue10 group-hover:bg-info group-hover:dark:border-palette-blue7","group-focus-within:border-palette-blue10 group-focus-within:bg-info group-hover:dark:border-palette-blue7",!c&&"cursor-pointer outline-0",(o||l)&&"after:h-2 after:w-2 after:rounded-full after:bg-palette-blue11 group-hover:after:bg-palette-blue10 dark:after:bg-palette-blue9 dark:group-hover:after:bg-palette-blue10","checked:!border-palette-blue10 checked:!bg-info dark:checked:!border-palette-blue8",!g&&"mt-1",m)}),!!i&&(0,r.jsx)("label",{htmlFor:t,className:(0,n.mergeClasses)("pl-2",!c&&"cursor-pointer"),children:g?(0,r.jsx)("p",{children:i}):i})]})}},852367:(e,t,i)=>{"use strict";i.d(t,{p:()=>o});var r=i(637876),n=i(766028),s=i(890218),a=i(175084),l=i(854485);function o(e){let{title:t,type:i="info",children:o,className:c,...u}=e,d="string"==typeof t?(0,r.jsxs)(r.Fragment,{children:["info"===i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.InfoCircleSolidIcon,{className:"min-w-[18px]"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:null!=t?t:"Info"})]}),"info-light"===i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.InfoCircleSolidIcon,{className:"min-w-[18px]"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:null!=t?t:"Info"})]}),"warning"===i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.AlertTriangleSolidIcon,{className:"min-w-[18px] text-warning"}),(0,r.jsx)("span",{className:"text-sm font-medium text-warning",children:null!=t?t:"Warning"})]}),"error"===i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.XSquareSolidIcon,{className:"min-w-[18px] text-danger"}),(0,r.jsx)("span",{className:"text-sm font-medium text-danger",children:null!=t?t:"Error"})]}),"primary"===i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.InfoCircleSolidIcon,{className:"min-w-[18px] text-icon-info"}),(0,r.jsx)("span",{className:"text-sm font-medium text-info",children:null!=t?t:"Info"})]})]}):t;return(0,r.jsxs)("div",{className:(0,n.mergeClasses)("flex flex-1 flex-col gap-1.5 rounded-md border border-default bg-subtle p-4 text-default","warning"===i&&"border-warning bg-warning","error"===i&&"border-danger bg-danger","info-light"===i&&"bg-default","primary"===i&&"border-info bg-info",c),...u,children:[!!d&&(0,r.jsx)("div",{className:"flex items-center gap-2",children:d}),o&&"string"==typeof o?(0,r.jsx)("p",{className:"text-xs",children:o}):o]})}},888299:(e,t,i)=>{"use strict";i.d(t,{H:()=>s});var r=i(637876),n=i(14232);function s(e){let{children:t,...i}=e;return(0,r.jsx)(n.Fragment,{...i,children:t})}},893608:(e,t,i)=>{"use strict";i.d(t,{t:()=>p});var r=i(637876),n=i(766028),s=i(527340),a=i(182172),l=i(292241),o=i(728992),c=i(10369),u=i(11308),d=i(434743);function m(e){let{label:t,hideLabel:i,active:m,onTabPress:p,disabled:g,block:h,icon:x,href:b,layoutId:f,testID:j,className:y,rightSlot:v,theme:I="default",tip:N,tooltipClassName:w,small:L}=e,S=(0,l.Z)(m),P=(0,s.I)(),C=b?n.LinkBase:n.ButtonBase,T=S!==m,R=(0,r.jsx)(C,{disabled:g,className:(0,n.mergeClasses)("relative z-10 rounded-[8px] transition-colors hocus:-outline-offset-[3px]",h&&"w-full items-center",!m&&"default"===I&&"hocus:bg-selected dark:hocus:bg-element",!m&&"secondary"===I&&"hocus:bg-element dark:hocus:bg-subtle","tertiary"===I&&"rounded-none border-r border-secondary py-0.5 hocus:bg-element dark:hocus:bg-subtle",y),onClick:()=>null==p?void 0:p(),href:b,"data-testid":j,children:(0,r.jsxs)("div",{className:(0,n.mergeClasses)("flex items-center gap-2",L?"px-2 py-1":"px-4 py-1.5",h&&"w-full justify-center",v&&"w-full justify-between"),children:[x,t&&!i&&(0,r.jsx)("p",{className:(0,n.mergeClasses)("text-sm font-medium transition-colors",m?"text-default":"text-tertiary","tertiary"===I&&"text-xs","max-md-gutters:text-sm max-sm-gutters:text-xs"),children:t}),v]})});return(0,r.jsxs)("div",{className:(0,n.mergeClasses)("relative",h&&"flex-1 overflow-hidden max-md-gutters:w-full"),children:[m&&"tertiary"!==I&&(0,r.jsx)(a.P.div,{layoutId:"active-indicator-".concat(f),transition:{ease:"linear",duration:P||!T||h?0:.2},className:(0,n.mergeClasses)("absolute inset-0 rounded-[8px] border border-secondary bg-screen","dark:bg-hover dark:drop-shadow-none","secondary"===I&&"border-button-secondary bg-default shadow-xs dark:bg-subtle")}),N?(0,r.jsxs)(c.s,{children:[(0,r.jsx)(d.k,{asChild:!0,children:R}),N&&(0,r.jsx)(o.Z,{className:w,children:(0,r.jsx)(u.L,{children:N})})]}):R]})}function p(e){let{tabs:t,disabled:i,block:s,className:a,tabClassName:l,theme:o="default",small:c}=e,u=t.reduce((e,t,i)=>{var r;return e+(null!=(r=t.label)?r:i.toString()).toLowerCase()},"");return(0,r.jsx)("div",{className:(0,n.mergeClasses)("relative z-1 inline-flex items-start gap-1","default"===o&&"rounded-lg bg-element p-1 dark:bg-subtle","tertiary"===o&&"gap-0",i&&"cursor-not-allowed",s?"flex justify-between max-md-gutters:flex-col":"flex-wrap",a),children:t.map(e=>(0,r.jsx)(m,{theme:o,layoutId:u,className:l,block:s,small:c,...e},e.label))})}},909275:(e,t,i)=>{"use strict";i.d(t,{t:()=>c});var r=i(637876),n=i(960283),s=i(916455),a=i(197093),l=i(953885),o=i(285746);function c(e){let{children:t,contentClassName:i,trigger:c}=e;return(0,r.jsxs)(s.bL,{children:[(0,r.jsx)(s.l9,{asChild:!0,children:null!=c?c:(0,r.jsx)(a.$,{theme:"quaternary",title:"Additional information",className:"h-7 px-1",children:(0,r.jsx)(n.HelpCircleIcon,{className:"icon-sm text-icon-secondary"})})}),(0,r.jsx)(s.ZL,{children:(0,r.jsx)(s.UC,{className:"z-[102] mr-4 mt-1.5 w-[calc(100vw-28px)] max-w-[400px] animate-largeSlideDownAndFadeIn",children:(0,r.jsx)(o.h,{className:"shadow-md",children:(0,r.jsx)(l.s,{size:"header",className:i,children:t})})})})]})}},936968:(e,t,i)=>{"use strict";i.d(t,{a:()=>f});var r=i(637876),n=i(766028),s=i(697342),a=i(497412),l=i(425096),o=i(14232),c=i(923930),u=i(953885),d=i(285746),m=i(408557),p=i(852367),g=i(728992),h=i(10369),x=i(11308),b=i(434743);function f(e){let{repository:{githubRepositoryIdentifier:t,metadata:i,createdAt:f},wrapped:j}=e,[y,v]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{v(!0)},[]),i?(0,r.jsx)(n.LinkBase,{openInNewTab:!0,href:i.githubRepoUrl,className:"group flex rounded-md",children:(0,r.jsx)(d.h,{className:"w-full group-hover:bg-subtle group-focus:bg-subtle",children:(0,r.jsx)(u.s,{size:"list",children:(0,r.jsxs)("div",{className:(0,n.mergeClasses)("flex items-center justify-between","max-md-gutters:flex-wrap"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c.e,{profilePhoto:"https://github.com/".concat(i.githubRepoOwnerName,".png?size=52"),name:i.githubRepoOwnerName}),(0,r.jsxs)("p",{className:"text-secondary",children:[i.githubRepoOwnerName,"/",(0,r.jsx)("span",{className:"font-medium text-default",children:i.githubRepoName})]}),i.private&&(0,r.jsxs)(h.s,{children:[(0,r.jsx)(b.k,{children:i.private&&(0,r.jsx)(a.Lock01Icon,{className:"icon-sm"})}),(0,r.jsx)(g.Z,{children:(0,r.jsx)(x.L,{children:"Private"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(m.c,{containerClassName:(0,n.mergeClasses)(!j&&"flex justify-end"),loading:!y,height:20,width:144,children:(0,r.jsxs)("p",{className:"text-2xs text-secondary",children:["Connected ",(0,l.m)(new Date(f),{addSuffix:!0})]})}),(0,r.jsx)(s.ArrowUpRightIcon,{className:"icon-sm"})]})]})})})}):(0,r.jsxs)(p.p,{title:"We couldn't retrieve repository information from GitHub",type:"warning",children:['Check that the GitHub app is configured on your GitHub account correctly and that the repository ID "',t,'" exists.']})}},994314:(e,t,i)=>{"use strict";i.d(t,{hc:()=>u,nT:()=>c,z9:()=>d});var r=i(767994),n=i(483070),s=i(618334),a=i(426259),l=i(376950),o=i(629731),c=function(e){return e[e.NULL_RECEIPT=0]="NULL_RECEIPT",e[e.JOB_FAILED_NO_WILL_RETRY=1]="JOB_FAILED_NO_WILL_RETRY",e[e.TIMEOUT=2]="TIMEOUT",e}({});class u extends Error{constructor(e){super(""),this.errorData=e}}function d(e){let t=(0,r.m)();async function i(e){try{let{data:i,error:r}=await t.query({query:o.rS,fetchPolicy:"network-only",variables:{id:e}});return[null==i?void 0:i.backgroundJobReceipt.byId,r]}catch(e){if(e instanceof n.K4)return[void 0,e];throw e}}return{pollForBackgroundJobReceiptAsync:async function(t){return await new Promise((r,o)=>{let c=0,d=(0,a.E)(async function(){function m(e){(0,a.H)(d),o(e)}let[p,g]=await i(t.id);if(!p){if(g instanceof n.K4){var h;let t=null==e||null==(h=e.onBackgroundJobReceiptPollError)?void 0:h.call(e,g);if(null==t?void 0:t.errorIndicatesSuccess){(0,a.H)(d),r(null);return}}m(new u({errorType:0}));return}if(p.state===l.TT.Failure&&!p.willRetry)return void m(new u({errorType:1,receiptErrorMessage:p.errorMessage}));if(c>90){p.errorMessage&&(s.wd(p.errorMessage),console.error(p.errorMessage)),m(new u({errorType:2}));return}if(p.state===l.TT.Success){(0,a.H)(d),r(p);return}c++},1e3)})}}}u.prototype.name="BackgroundJobReceiptPollError",Object.defineProperty(u.prototype,"name",{enumerable:!1})}},e=>{e.O(0,[6412,93102,7984,90636,46593,38792],()=>e(e.s=146831)),_N_E=e.O()}]);