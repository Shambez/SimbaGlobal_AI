try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1672344e-80b4-435a-ace4-9c984d491a99",e._sentryDebugIdIdentifier="sentry-dbid-1672344e-80b4-435a-ace4-9c984d491a99")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19111],{11867:(e,t,r)=>{let n;r.d(t,{I:()=>f});var s=r(637876),a=r(766028),i=r(515294),l=r(944630),o=r(182172),d=r(14232),c=r(194070),u=r(197093),m=r(923333),x=function(e){return e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e}(x||{});function f(e){let{submitButtonText:t="Save",secondaryButtonOnClick:r=()=>{},secondaryButtonText:x,formState:f=m.X.IDLE,successMessage:p="Saved",formError:h,submitButtonProps:g={},errorTheme:b,testID:j,className:y}=e,[v,w]=(0,d.useState)(0);(0,d.useEffect)(function(){return(n&&clearTimeout(n),n=window.setTimeout(()=>{w(0)},2500),f!==m.X.IDLE||1!==v||(null==h?void 0:h.trim().length))?f===m.X.LOADING?void w(1):void w(0):void w(2)},[f]);let N=f===m.X.LOADING;return(0,s.jsxs)("div",{className:(0,a.mergeClasses)("flex h-15 items-center justify-between rounded-b-lg border border-default border-t-secondary bg-subtle pl-6 pr-3",b&&"border-t-0 border-danger bg-danger",y),children:[(0,s.jsxs)("div",{className:"relative mr-4",children:[(0,s.jsx)("div",{className:"absolute",children:(0,s.jsx)(l.N,{children:1===v&&(0,s.jsx)(o.P.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},children:(0,s.jsx)(c.$,{className:"stroke-icon-default"})})})}),(0,s.jsx)("div",{className:"relative -top-0.5 h-5",children:(0,s.jsx)(l.N,{children:2===v&&(0,s.jsx)(o.P.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},children:(0,s.jsxs)("div",{className:"grid grid-cols-[20px_auto] items-center gap-2 whitespace-nowrap",children:[(0,s.jsx)(i.CheckIcon,{}),(0,s.jsx)("p",{className:"truncate",children:p})]})})})})]}),(0,s.jsxs)("div",{className:"flex flex-row-reverse items-center gap-3",children:[(0,s.jsx)(u.$,{type:"submit",size:"sm",testID:j,status:N?void 0:f,disabled:N,...g,children:t}),x&&r&&f!==m.X.SUCCESS&&(0,s.jsx)(u.$,{onClick:r,theme:"quaternary",size:"sm",className:"transition-opacity hocus:opacity-80 hocus:shadow-none",disabled:N,children:x})]})]})}},49355:(e,t,r)=>{r.d(t,{z:()=>a});var n=r(637876),s=r(766028);function a(e){let{children:t,className:r,...a}=e;return(0,n.jsx)("p",{...a,className:(0,s.mergeClasses)("inline-block truncate whitespace-nowrap text-2xs font-medium text-tertiary",r),children:t})}},141278:(e,t,r)=>{r.d(t,{M:()=>l});var n=r(637876),s=r(766028),a=r(14232),i=r(254218);function l(e){var t;let{children:r,hideOnMobile:l,interactive:o,className:d,...c}=e,u=null!=(t=(0,a.useContext)(i.B).theme)?t:"primary";return(0,n.jsx)("div",{...c,className:(0,s.mergeClasses)("flex min-h-[38px] items-center gap-1 border-secondary px-4","secondary"===u&&"bg-subtle",l&&"flex max-md-gutters:hidden",o&&"m-1 min-h-[30px] truncate rounded-md px-3 py-1 hocus:bg-element",d),children:r})}},217948:(e,t,r)=>{r.d(t,{x:()=>n});let n=150},254218:(e,t,r)=>{r.d(t,{A:()=>a,B:()=>s});var n=r(637876);let s=(0,r(14232).createContext)({});function a(e){let{theme:t,children:r}=e;return(0,n.jsx)(s.Provider,{value:{theme:t},children:r})}},274813:(e,t,r)=>{r.d(t,{m:()=>a});var n=r(637876),s=r(182172);function a(e){let{children:t,...r}=e;return(0,n.jsx)(s.P.div,{initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.85},transition:{duration:.15},...r,children:t})}},311419:(e,t,r)=>{r.d(t,{z:()=>a});var n=r(637876),s=r(14232);function a(e){let{children:t,name:r}=e;return(0,n.jsx)("div",{className:"grid flex-1 grid-flow-row gap-2",children:s.Children.map(t,e=>(0,s.isValidElement)(e)?(0,s.cloneElement)(e,{name:r}):e)})}},395661:(e,t,r)=>{r.d(t,{j:()=>l});var n=r(637876),s=r(766028),a=r(111431),i=r.n(a);function l(e){let{children:t,columnCount:r,theme:a="default",className:l,rootClassName:o,gridTemplateColumns:d,mobileCompactMode:c,...u}=e,m=null==d?void 0:d.filter(Boolean);return i()(!m||r===(null==m?void 0:m.length),"columnCount must have the same length as gridTemplateColumns."),(0,n.jsx)("div",{className:(0,s.mergeClasses)("flex flex-row","default"===a&&"rounded-lg border border-default bg-default shadow-xs","[&_a]:outline-offset-[-3px]",o),children:(0,n.jsx)("div",{...u,className:(0,s.mergeClasses)("grid w-0 flex-1 flex-col items-center overflow-x-auto",c&&"max-md-gutters:flex max-md-gutters:items-start",!m&&function(e){switch(e){case 1:return"grid-cols-auto-min-1";case 2:return"grid-cols-auto-min-2";case 3:return"grid-cols-auto-min-3";case 4:return"grid-cols-auto-min-4";case 5:return"grid-cols-auto-min-5";case 6:return"grid-cols-auto-min-6";case 7:return"grid-cols-auto-min-7";case 8:return"grid-cols-auto-min-8";default:return console.warn("Only 8 columns are supported."),"grid-cols-auto-min-1"}}(r),l),style:m?{gridTemplateColumns:m.map(e=>"object"==typeof e?"minmax(".concat(e.min,", ").concat(e.max,")"):e).join(" ")}:void 0,children:t})})}},428304:(e,t,r)=>{r.d(t,{C:()=>d});var n=r(637876),s=r(681535),a=r(693118),i=r(446738),l=r(680022),o=r(655005);function d(e){let{children:t,title:r,description:d,rightSlot:c,bottomSlot:u,icon:m,headerHelpText:x}=e;return(0,n.jsxs)(o.B,{sidebar:(0,n.jsx)(i.j,{}),children:[(0,n.jsx)(s.s,{}),!!r&&(0,n.jsx)(a.z,{title:r,description:d,rightSlot:c,bottomSlot:u,Icon:m,helpText:x,className:"mb-6"}),(0,n.jsx)(l.U,{children:t})]})}},490073:(e,t,r)=>{r.d(t,{T:()=>s});var n=r(14232);function s(e){let[t,s]=(0,n.useState)(!1);async function a(){let n=(await r.e(71507).then(r.t.bind(r,171507,23))).default;await n(e),t||(s(!0),setTimeout(()=>{s(!1)},1500))}async function i(n){let a=(await r.e(71507).then(r.t.bind(r,171507,23))).default;await a(null!=n?n:e),t||(s(!0),setTimeout(()=>{s(!1)},1500))}return{copiedIsVisible:t,onCopyAsync:a,onCopyDynamicAsync:i}}},523805:(e,t,r)=>{r.d(t,{n:()=>a});var n=r(637876),s=r(766028);function a(e){let{children:t,theme:r="default",className:a,mobilePrimaryCell:i,hideOnMobile:l,isActivityView:o,...d}=e;return(0,n.jsx)("div",{...d,className:(0,s.mergeClasses)("text-default",l?"flex max-md-gutters:hidden":"flex","default"===r&&"px-4 py-2","interactive"===r&&"m-1 truncate rounded-md px-3 py-1 hocus:bg-element",i&&"interactive"===r&&"m-1 rounded-md px-3 py-1 max-md-gutters:m-0 max-md-gutters:py-3",i&&"interactive"===r&&!o&&"max-md-gutters:rounded-none",i&&"max-md-gutters:w-full",o&&"max-md-gutters:rounded-b-md max-md-gutters:rounded-t-none",a),children:t})}},549024:(e,t,r)=>{r.d(t,{k:()=>a});var n=r(637876),s=r(766028);function a(e){let{children:t,className:r,testID:a,title:i,...l}=e;return(0,n.jsx)("p",{"data-testid":a,title:i,className:(0,s.mergeClasses)("text-xs",r),...l,children:t})}},629731:(e,t,r)=>{r.d(t,{$F:()=>m,fM:()=>u,rS:()=>c});var n=r(96427),s=r(903219),a=r(768069),i=r(154431),l=r(678248);function o(){let e=(0,n._)(["\n    query GetBackgroundJobReceiptById($id: ID!) {\n  backgroundJobReceipt {\n    byId(id: $id) {\n      ...BackgroundJobReceiptData\n    }\n  }\n}\n    ",""]);return o=function(){return e},e}let d={},c=(0,s.J1)(o(),a.Y);function u(e){let t={...d,...e};return i.IT(c,t)}function m(e){let t={...d,...e};return l._(c,t)}},636160:(e,t,r)=>{r.d(t,{z:()=>w});var n=r(637876),s=r(483070),a=r(548747),i=r(157069),l=r(14232),o=r(194070),d=r(197093),c=r(700806),u=r(500723),m=r(125050),x=r(515479),f=r(360203),p=r(217948),h=r(130514),g=r(634306),b=r(206972),j=r(923333),y=r(71215),v=r(994314);function w(e){let{open:t,onClose:r,onConfirm:w,onBackgroundJobReceiptPollError:N,onDeletionFinished:I,title:C,preMessageElement:E,message:T,confirmationConfiguration:D}=e,[k,S]=(0,l.useState)(j.X.IDLE),[L,X]=(0,l.useState)(!0),[_,O]=(0,l.useState)(),[A,R]=(0,l.useState)(""),[P,F]=(0,l.useState)(!1),{pollForBackgroundJobReceiptAsync:B}=(0,v.z9)({onBackgroundJobReceiptPollError:N}),M=k!==j.X.IDLE;function V(){M||(r(),setTimeout(()=>{O(void 0),S(j.X.IDLE),F(!1),R("")},2*p.x))}async function z(){O(void 0),S(j.X.LOADING);try{let e=await w();if(!e)throw Error("Failed to start deletion.");try{await B(e),S(j.X.SUCCESS),I(),r()}catch(e){if(e instanceof v.hc)S(j.X.IDLE),X(e.errorData.errorType!==v.nT.TIMEOUT),O(function(e){switch(e.errorData.errorType){case v.nT.NULL_RECEIPT:return"Deletion failed. Try again.";case v.nT.JOB_FAILED_NO_WILL_RETRY:var t;return"".concat(null!=(t=e.errorData.receiptErrorMessage)?t:"Deletion failed.");case v.nT.TIMEOUT:return"Deletion is taking longer than expected. It may still succeed in a few minutes. Wait an hour to see if it is deleted and then try again."}}(e));else throw e}}catch(t){if(t instanceof s.K4){var e;O((null==(e=t.graphQLErrors)?void 0:e.length)?t.graphQLErrors[0].message:t.message)}else t instanceof Error&&O(t.message);S(j.X.IDLE)}}let J=(0,n.jsxs)("div",{className:"flex flex-col gap-1.5",children:[E,(0,n.jsx)("p",{className:"text-xs text-secondary",children:T}),(0,n.jsx)("p",{className:"text-xs text-secondary",children:"This action cannot be undone."})]}),U=(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 py-4",children:[(0,n.jsx)(o.$,{size:"lg",className:"stroke-icon-default"}),(0,n.jsx)("p",{className:"text-center text-xs text-secondary",children:"Deletion processingâ€¦"})]});return D?(0,n.jsx)(x.D,{open:t,onOpenChange:V,children:(0,n.jsx)(c.C,{className:"rounded-lg",children:(0,n.jsxs)(h.lV,{onSubmit:async()=>{P?await z():F(!0)},disabled:M||!L,variant:"flat",children:[(0,n.jsx)(f.L,{title:C,icon:(0,n.jsx)(i.Trash03Icon,{})}),(0,n.jsxs)(u.d,{children:[!M&&!P&&(0,n.jsx)(b.g,{htmlFor:"confirmValueInput",description:D.confirmationPromptMessage,children:(0,n.jsx)(y.p,{id:"confirmValueInput",onChange:e=>{R(e.target.value)},placeholder:D.requiredConfirmedValue,autoComplete:"off"})}),!M&&P&&J,M&&U,(0,n.jsx)(g.j,{error:_})]}),(0,n.jsx)(m.E,{className:"flex flex-1 items-center justify-end gap-4 px-6",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.$,{theme:"quaternary",disabled:M||!L,onClick:V,children:"Cancel"}),(0,n.jsx)(d.$,{testID:"confirm-deletion-button",disabled:M||A!==D.requiredConfirmedValue||!L,rightSlot:P?void 0:(0,n.jsx)(a.ChevronRightIcon,{}),theme:P?"secondary-destructive":"secondary",type:"submit",children:P?"Delete":"Confirm"})]})})]})})}):(0,n.jsx)(x.D,{open:t,onOpenChange:V,children:(0,n.jsx)(c.C,{className:"rounded-lg",children:(0,n.jsxs)(h.lV,{onSubmit:async()=>{await z()},disabled:M||!L,variant:"flat",children:[(0,n.jsx)(f.L,{title:C,icon:(0,n.jsx)(i.Trash03Icon,{})}),(0,n.jsxs)(u.d,{children:[!M&&J,M&&U,(0,n.jsx)(g.j,{error:_})]}),(0,n.jsx)(m.E,{className:"flex flex-1 items-center justify-end gap-4 px-6",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.$,{theme:"quaternary",disabled:M||!L,onClick:V,children:"Cancel"}),(0,n.jsx)(d.$,{testID:"delete-submit-button",disabled:M||!L,theme:"secondary-destructive",type:"submit",children:"Delete"})]})})]})})})}},648638:(e,t,r)=>{r.d(t,{y:()=>a});var n=r(637876),s=r(766028);function a(e){let{className:t,...r}=e;return(0,n.jsx)("div",{...r,className:(0,s.mergeClasses)("col-span-full h-0 w-full border-t border-secondary",t)})}},652618:(e,t,r)=>{r.d(t,{g:()=>s});var n=r(376950);let s={[n.Xh.Owner]:{role:n.Xh.Owner,permissions:[n.aX.Admin,n.aX.Publish,n.aX.View,n.aX.Own],name:"Owner",description:"Perform any action including permanently deleting accounts and projects."},[n.Xh.Admin]:{role:n.Xh.Admin,permissions:[n.aX.Admin,n.aX.Publish,n.aX.View],name:"Admin",description:"Assign admins, manage members, publish and view all projects"},[n.Xh.Developer]:{role:n.Xh.Developer,permissions:[n.aX.Publish,n.aX.View],name:"Developer",description:"Publish and view all projects"},[n.Xh.ViewOnly]:{role:n.Xh.ViewOnly,permissions:[n.aX.View],name:"Viewer",description:"View all projects"}}},681535:(e,t,r)=>{r.d(t,{s:()=>l});var n=r(637876),s=r(766028),a=r(852367),i=r(414815);function l(e){let{className:t,...r}=e,{selectedAccount:l}=(0,i.w)();return(null==l?void 0:l.isDisabled)?(0,n.jsx)("div",{className:(0,s.mergeClasses)("mx-auto grid w-full max-w-screen-xl-gutters grid-cols-1 items-center px-6 pb-2 pt-8",t),...r,children:(0,n.jsx)(a.p,{type:"warning",title:"Account disabled",className:"rounded-lg",children:(0,n.jsxs)("p",{className:"text-xs",children:["This account has been disabled. Please ",(0,n.jsx)(s.Link,{href:"/contact",children:"contact us"})," if you believe this was in error."]})})}):null}},693118:(e,t,r)=>{r.d(t,{z:()=>o});var n=r(637876),s=r(766028),a=r(346898),i=r(197093),l=r(909275);function o(e){let{title:t,Icon:r,description:o,leftSlot:d,rightSlot:c,bottomSlot:u,helpText:m,className:x,block:f}=e;return(0,n.jsxs)("div",{className:(0,s.mergeClasses)("mx-auto grid w-full max-w-screen-xl-gutters grid-cols-1 items-center gap-4 px-6 pt-8","max-md-gutters:pt-6",x),children:[(0,n.jsxs)("div",{className:(0,s.mergeClasses)("flex items-center justify-between gap-3",!f&&"max-md-gutters:flex-col max-md-gutters:items-start"),children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[d,r&&(0,n.jsx)(r,{className:"icon-xl"}),(0,n.jsx)("h1",{className:"truncate font-semibold heading-xl",children:t}),!!m&&(0,n.jsx)(l.t,{contentClassName:"max-w-[300px]",trigger:(0,n.jsx)(i.$,{theme:"secondary",title:"Additional information",className:"size-6 justify-center rounded-full px-0",children:(0,n.jsx)(a.QuestionMarkIcon,{className:"icon-xs text-icon-secondary"})}),children:"string"==typeof m?(0,n.jsx)("p",{children:m}):m})]}),!!o&&"string"==typeof o&&(0,n.jsx)("p",{className:"text-xs text-secondary",children:o}),o&&"string"!=typeof o?o:null]}),!!c&&(0,n.jsx)("div",{className:"justify-self-end",children:c})]}),u]})}},703989:(e,t,r)=>{r.d(t,{b:()=>i});var n=r(637876),s=r(766028),a=r(549024);function i(e){let{children:t,className:r,...i}=e;return(0,n.jsx)(a.k,{className:(0,s.mergeClasses)("text-quaternary",r),...i,children:null!=t?t:"None"})}},768069:(e,t,r)=>{r.d(t,{Y:()=>a});var n=r(96427);function s(){let e=(0,n._)(["\n    fragment BackgroundJobReceiptData on BackgroundJobReceipt {\n  id\n  state\n  tries\n  willRetry\n  resultId\n  resultType\n  resultData\n  errorCode\n  errorMessage\n  createdAt\n  updatedAt\n}\n    "]);return s=function(){return e},e}let a=(0,r(903219).J1)(s())},831442:(e,t,r)=>{r.d(t,{s:()=>i});var n=r(637876),s=r(766028),a=r(14232);function i(e){let{id:t,label:r,name:i,defaultChecked:l,checked:o,readOnly:d,className:c,onChange:u,inputClassName:m}=e,x=(0,a.useRef)(null),f="string"==typeof r;return(0,n.jsxs)("div",{onClick:function(){!d&&u&&(null==x?void 0:x.current)&&x.current.click()},className:(0,s.mergeClasses)("group grid flex-1 grid-cols-[auto,1fr] items-center",!f&&"items-start",c),children:[(0,n.jsx)("input",{type:"radio",id:t,ref:x,name:i,defaultChecked:l,readOnly:d,checked:o,"data-label":f?r:void 0,onChange:u,className:(0,s.mergeClasses)("flex size-4 items-center justify-center rounded-full border border-default bg-transparent shadow-xs transition","outline-2 outline-offset-4 outline-palette-blue10 ring-palette-blue10 dark:outline-palette-blue8","group-hover:border-palette-blue10 group-hover:bg-info group-hover:dark:border-palette-blue7","group-focus-within:border-palette-blue10 group-focus-within:bg-info group-hover:dark:border-palette-blue7",!d&&"cursor-pointer outline-0",(o||l)&&"after:h-2 after:w-2 after:rounded-full after:bg-palette-blue11 group-hover:after:bg-palette-blue10 dark:after:bg-palette-blue9 dark:group-hover:after:bg-palette-blue10","checked:!border-palette-blue10 checked:!bg-info dark:checked:!border-palette-blue8",!f&&"mt-1",m)}),!!r&&(0,n.jsx)("label",{htmlFor:t,className:(0,s.mergeClasses)("pl-2",!d&&"cursor-pointer"),children:f?(0,n.jsx)("p",{children:r}):r})]})}},852367:(e,t,r)=>{r.d(t,{p:()=>o});var n=r(637876),s=r(766028),a=r(890218),i=r(175084),l=r(854485);function o(e){let{title:t,type:r="info",children:o,className:d,...c}=e,u="string"==typeof t?(0,n.jsxs)(n.Fragment,{children:["info"===r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.InfoCircleSolidIcon,{className:"min-w-[18px]"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:null!=t?t:"Info"})]}),"info-light"===r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.InfoCircleSolidIcon,{className:"min-w-[18px]"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:null!=t?t:"Info"})]}),"warning"===r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.AlertTriangleSolidIcon,{className:"min-w-[18px] text-warning"}),(0,n.jsx)("span",{className:"text-sm font-medium text-warning",children:null!=t?t:"Warning"})]}),"error"===r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.XSquareSolidIcon,{className:"min-w-[18px] text-danger"}),(0,n.jsx)("span",{className:"text-sm font-medium text-danger",children:null!=t?t:"Error"})]}),"primary"===r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.InfoCircleSolidIcon,{className:"min-w-[18px] text-icon-info"}),(0,n.jsx)("span",{className:"text-sm font-medium text-info",children:null!=t?t:"Info"})]})]}):t;return(0,n.jsxs)("div",{className:(0,s.mergeClasses)("flex flex-1 flex-col gap-1.5 rounded-md border border-default bg-subtle p-4 text-default","warning"===r&&"border-warning bg-warning","error"===r&&"border-danger bg-danger","info-light"===r&&"bg-default","primary"===r&&"border-info bg-info",d),...c,children:[!!u&&(0,n.jsx)("div",{className:"flex items-center gap-2",children:u}),o&&"string"==typeof o?(0,n.jsx)("p",{className:"text-xs",children:o}):o]})}},888299:(e,t,r)=>{r.d(t,{H:()=>a});var n=r(637876),s=r(14232);function a(e){let{children:t,...r}=e;return(0,n.jsx)(s.Fragment,{...r,children:t})}},909275:(e,t,r)=>{r.d(t,{t:()=>d});var n=r(637876),s=r(960283),a=r(916455),i=r(197093),l=r(953885),o=r(285746);function d(e){let{children:t,contentClassName:r,trigger:d}=e;return(0,n.jsxs)(a.bL,{children:[(0,n.jsx)(a.l9,{asChild:!0,children:null!=d?d:(0,n.jsx)(i.$,{theme:"quaternary",title:"Additional information",className:"h-7 px-1",children:(0,n.jsx)(s.HelpCircleIcon,{className:"icon-sm text-icon-secondary"})})}),(0,n.jsx)(a.ZL,{children:(0,n.jsx)(a.UC,{className:"z-[102] mr-4 mt-1.5 w-[calc(100vw-28px)] max-w-[400px] animate-largeSlideDownAndFadeIn",children:(0,n.jsx)(o.h,{className:"shadow-md",children:(0,n.jsx)(l.s,{size:"header",className:r,children:t})})})})]})}},994314:(e,t,r)=>{r.d(t,{hc:()=>c,nT:()=>d,z9:()=>u});var n=r(767994),s=r(483070),a=r(618334),i=r(426259),l=r(376950),o=r(629731),d=function(e){return e[e.NULL_RECEIPT=0]="NULL_RECEIPT",e[e.JOB_FAILED_NO_WILL_RETRY=1]="JOB_FAILED_NO_WILL_RETRY",e[e.TIMEOUT=2]="TIMEOUT",e}({});class c extends Error{constructor(e){super(""),this.errorData=e}}function u(e){let t=(0,n.m)();async function r(e){try{let{data:r,error:n}=await t.query({query:o.rS,fetchPolicy:"network-only",variables:{id:e}});return[null==r?void 0:r.backgroundJobReceipt.byId,n]}catch(e){if(e instanceof s.K4)return[void 0,e];throw e}}return{pollForBackgroundJobReceiptAsync:async function(t){return await new Promise((n,o)=>{let d=0,u=(0,i.E)(async function(){function m(e){(0,i.H)(u),o(e)}let[x,f]=await r(t.id);if(!x){if(f instanceof s.K4){var p;let t=null==e||null==(p=e.onBackgroundJobReceiptPollError)?void 0:p.call(e,f);if(null==t?void 0:t.errorIndicatesSuccess){(0,i.H)(u),n(null);return}}m(new c({errorType:0}));return}if(x.state===l.TT.Failure&&!x.willRetry)return void m(new c({errorType:1,receiptErrorMessage:x.errorMessage}));if(d>90){x.errorMessage&&(a.wd(x.errorMessage),console.error(x.errorMessage)),m(new c({errorType:2}));return}if(x.state===l.TT.Success){(0,i.H)(u),n(x);return}d++},1e3)})}}}c.prototype.name="BackgroundJobReceiptPollError",Object.defineProperty(c.prototype,"name",{enumerable:!1})}}]);