try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d1d0a8f8-05b0-4eed-9d93-57cfcdea3103",e._sentryDebugIdIdentifier="sentry-dbid-d1d0a8f8-05b0-4eed-9d93-57cfcdea3103")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79053,92303],{92918:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(96427);function a(){let e=(0,r._)(["\n    fragment LogRocketProjectData on LogRocketProject {\n  id\n  logRocketProjectSlug\n  logRocketOrgId\n}\n    "]);return a=function(){return e},e}let i=(0,t(903219).J1)(a())},155388:(e,n,t)=>{"use strict";t.r(n),t.d(n,{__N_SSP:()=>q,default:()=>U});var r=t(637876),a=t(892303),i=t(55033),o=t(250958),l=t(251511),s=t(48472),u=t(632028),c=t(14232),d=t(903046),m=t(766028),p=t(616104),b=t(234824),f=t(759935),v=t(211612),h=t(96427),g=t(903219),j=t(881696),y=t(764177);function x(){let e=(0,h._)(["\n    mutation CreateBulkEnvironmentVariableForApp($input: [CreateEnvironmentVariableInput!]!, $appId: ID!) {\n  environmentVariable {\n    createBulkEnvironmentVariablesForApp(\n      environmentVariablesData: $input\n      appId: $appId\n    ) {\n      ...EnvironmentVariableData\n    }\n  }\n}\n    ",""]);return x=function(){return e},e}let I={},N=(0,g.J1)(x(),j.c);var E=t(634101),_=t(376950),w=t(149615),D=t(953885),k=t(353806),S=t(285746),C=t(515479),P=t(130514),R=t(634306),T=t(11867),A=t(206972),V=t(923333),L=t(791474);function O(e){let{variableRows:n,setVariableRows:t,appId:a}=e,{getProjectLink:i,fullName:o}=(0,l.lT)(l.Iz.IN_PROJECT),[s,u]=(0,c.useState)(V.X.IDLE),[h,g]=(0,c.useState)(),[j,x]=(0,c.useState)(!1),[O,$]=(0,c.useState)(),[B]=function(e){let n={...I,...void 0};return y.n(N,n)}(),F=(0,b.useRouter)();async function X(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=[],c=[],d=!1;for(let a=0;a<e.length;a++){var m;let u,p=e[a].trim(),b=i[a],h=null!=(m=r[a])?m:n[a].value,j=_.II.String;h.trim&&(h=r[a].trim());let y=(0,v.BF)({name:p,value:h,visibility:b,environments:l});if(y.errorSet){t(e=>e.map((e,n)=>n===a?{...e,nameError:y.name,valueError:y.value,visibilityError:y.visibility}:e)),y.environments&&$(y.environments),y.formError&&g(y.formError),d=!0;continue}if(h instanceof File){let e=h;j=_.II.FileBase64,h=await (0,f.z)(e),u=e.name}s.push({name:p,value:h,visibility:b,environments:l,type:j,fileName:u}),c.push((0,E.pT)({fullName:o}))}return!d&&(u(V.X.LOADING),await B({variables:{input:s,appId:a},refetchQueries:c,awaitRefetchQueries:!0}),!0)}async function z(e){let{name:n,visibility:t,value:r,...a}=(0,P.Rx)(e);g(void 0),$(void 0);let o=[];for(let e of Object.values(_.To))a[e]&&o.push(e);try{await X(n,r,t,o)&&(null==F||F.push(i("environment-variables")))}catch(n){let e=n.message;e.includes('duplicate key value violates unique constraint "environment_variables_app_id_name_key"')&&(e='A variable with name: "'.concat(name,'" already exists for this app.')),g(e)}u(V.X.IDLE)}return(0,r.jsxs)(P.lV,{onSubmit:z,disabled:s!==V.X.IDLE,className:"gap-4",children:[(0,r.jsxs)(S.h,{className:"overflow-hidden rounded-lg",children:[(0,r.jsx)(D.s,{withDivider:!0,children:(0,r.jsx)(k.N,{title:"Add project environment variables",description:"Adds variables that are specific to your project",rightSlot:(0,r.jsx)(m.Button,{disabled:s!==V.X.IDLE,theme:"secondary",leftSlot:(0,r.jsx)(p.Upload03Icon,{}),onClick:()=>{x(!j)},children:"Upload .env"})})}),(0,r.jsx)(D.s,{withDivider:!0,children:(0,r.jsx)(d.p,{formState:s,setVariableRows:t,variableRows:n})}),(0,r.jsx)(D.s,{withDivider:!!h,children:(0,r.jsx)(A.g,{title:"Environment",children:(0,r.jsx)(w.P,{name:"environment",environmentError:O,onChange:()=>{$(void 0)}})})}),h&&(0,r.jsx)(D.s,{children:(0,r.jsx)(R.j,{error:h,className:"-mb-2"})}),(0,r.jsx)(T.I,{className:"!border-x-0 !border-b-0",formState:s,submitButtonText:"Add variables",formError:h})]}),(0,r.jsx)(C.D,{open:j,onOpenChange:()=>{x(!j)},children:(0,r.jsx)(L.s,{setVariableRows:t,onRequestClose:()=>{x(!1)}})})]})}function $(e){let{appId:n}=e,[t,a]=(0,c.useState)([d.Z]);return(0,r.jsx)(O,{appId:n,variableRows:t,setVariableRows:a})}var B=t(929380),F=t(489855),X=t(927500),z=t(690332),M=t(6735);let J=(0,B.G)(function(){var e;let{currentUser:n,fullName:t,getProjectLink:c}=(0,l.lT)(l.Iz.IN_PROJECT),{hasPublishPermission:d}=(0,s._)(),m=null!=(e=d||n.isExpoAdmin)&&e,{loading:p,error:b,data:f}=(0,o.Cz)({variables:{fullName:t},skip:!m}),v=null==f?void 0:f.app.byFullName.id;return m?(0,r.jsx)(X.y,{meta:{name:"dashboard",pageName:"Project environment variables â€” ".concat(t)},children:(0,r.jsxs)(u.g,{icon:a.BracketsXDuotoneIcon,children:[(0,r.jsx)(F.r,{crumbs:[{text:"Project environment variables",href:c("environment-variables")},{text:"New variables"}],className:"mb-6"}),(b||p)&&(0,r.jsx)(M.O,{loading:p,error:b,description:(0,i.DV)(),buttonText:"Reload",onClick:()=>{window.location.reload()}}),!p&&!b&&v&&(0,r.jsx)($,{appId:v})]})}):(0,r.jsx)(X.y,{meta:{name:"dashboard"},children:(0,r.jsx)(u.g,{children:(0,r.jsx)(z.M,{statusCode:404})})})});var q=!0;let U=J},250958:(e,n,t)=>{"use strict";t.d(n,{Cz:()=>p,sE:()=>b});var r=t(96427),a=t(903219),i=t(625327),o=t(825138),l=t(92918),s=t(581923),u=t(154431);function c(){let e=(0,r._)(["\n    query AppMetadataQuery($fullName: String!) {\n  meUserActor {\n    __typename\n    id\n    username\n    accounts {\n      ...AccountsData\n    }\n    bestContactEmail\n    githubUser {\n      id\n      metadata {\n        name\n      }\n    }\n  }\n  app {\n    byFullName(fullName: $fullName) {\n      ...AppData\n      logRocketProject {\n        ...LogRocketProjectData\n      }\n      sentryProject {\n        ...SentryProjectData\n      }\n      resourceClassExperiment\n      internalDistributionBuildPrivacy\n      githubRepository {\n        githubRepositoryUrl\n        id\n        createdAt\n        githubRepositoryIdentifier\n        metadata {\n          defaultBranch\n          githubRepoDescription\n          githubRepoUrl\n          githubRepoName\n          githubRepoOwnerName\n          lastPushed\n          private\n        }\n        githubAppInstallation {\n          id\n          installationIdentifier\n          metadata {\n            githubAccountType\n            githubAccountName\n          }\n        }\n      }\n      githubRepositorySettings {\n        baseDirectory\n        id\n      }\n    }\n  }\n}\n    ","\n","\n","\n",""]);return c=function(){return e},e}let d={},m=(0,a.J1)(c(),i.h,o.y,l.A,s.P);function p(e){let n={...d,...e};return u.IT(m,n)}function b(e){return{query:m,variables:e}}},581923:(e,n,t)=>{"use strict";t.d(n,{P:()=>i});var r=t(96427);function a(){let e=(0,r._)(["\n    fragment SentryProjectData on SentryProject {\n  id\n  sentryProjectSlug\n  sentryProjectId\n  sentryInstallationId\n}\n    "]);return a=function(){return e},e}let i=(0,t(903219).J1)(a())},632028:(e,n,t)=>{"use strict";t.d(n,{g:()=>u});var r=t(637876),a=t(766028),i=t(681535),o=t(693118),l=t(446738),s=t(655005);function u(e){let{children:n,title:t,description:u,icon:c,rightSlot:d,bottomSlot:m,className:p,headerHelpText:b,headerClassName:f,contentClassName:v,titleAsBlock:h}=e;return(0,r.jsxs)(s.B,{sidebar:(0,r.jsx)(l.j,{}),className:p,children:[(0,r.jsx)(i.s,{}),t&&(0,r.jsx)(o.z,{title:t,description:u,Icon:c,rightSlot:d,bottomSlot:m,helpText:b,className:f,block:h}),(0,r.jsx)("div",{className:(0,a.mergeClasses)("mx-auto w-full max-w-screen-xl-gutters flex-1 p-6",v),children:n})]})}},634101:(e,n,t)=>{"use strict";t.d(n,{Tg:()=>d,hy:()=>m,pT:()=>p});var r=t(96427),a=t(903219),i=t(881696),o=t(154431),l=t(678248);function s(){let e=(0,r._)(["\n    query GetAppEnvironmentVariables($fullName: String!, $environment: EnvironmentVariableEnvironment, $filterNames: [String!], $includeFileContent: Boolean = false) {\n  app {\n    byFullName(fullName: $fullName) {\n      id\n      environmentVariables(environment: $environment, filterNames: $filterNames) {\n        ...EnvironmentVariableData\n        linkedEnvironments(appFullName: $fullName)\n        valueWithFileContent: value(includeFileContent: $includeFileContent) @include(if: $includeFileContent)\n      }\n    }\n  }\n}\n    ",""]);return s=function(){return e},e}let u={},c=(0,a.J1)(s(),i.c);function d(e){let n={...u,...e};return o.IT(c,n)}function m(e){let n={...u,...e};return l._(c,n)}function p(e){return{query:c,variables:e}}},707464:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/accounts/[account]/projects/[projectName]/environment-variables/new",function(){return t(155388)}])},892303:(e,n,t)=>{"use strict";Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});let r=t(14232),a=t(271894),i=function(e){let n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(let t in e)if("default"!==t){let r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:()=>e[t]})}}return n.default=e,Object.freeze(n)}(r);function o({className:e,...n}){let t=a.mergeClasses("icon-md text-icon-default translate-z shrink-0",e);return i.createElement("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t,role:"img",...n},i.createElement("g",{id:"brackets-x-duotone-icon"},i.createElement("path",{id:"Icon",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.5708 20C19.8328 20 20.8568 18.977 20.8568 17.714V13.143L21.9998 12L20.8568 10.857V6.286C20.8568 5.023 19.8338 4 18.5708 4M5.429 4C4.166 4 3.143 5.023 3.143 6.286V10.857L2 12L3.143 13.143V17.714C3.143 18.977 4.166 20 5.429 20M15 9L9 15M9 9L15 15"})))}o.displayName="BracketsXDuotoneIcon",n.BracketsXDuotoneIcon=o}},e=>{e.O(0,[30236,49499,7984,90888,41225,90636,46593,38792],()=>e(e.s=707464)),_N_E=e.O()}]);