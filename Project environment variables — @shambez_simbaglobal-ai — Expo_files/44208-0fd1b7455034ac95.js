try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="460862a5-1790-48ee-831f-323e8f775719",e._sentryDebugIdIdentifier="sentry-dbid-460862a5-1790-48ee-831f-323e8f775719")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44208],{164237:(e,t,a)=>{a.d(t,{k:()=>f,s:()=>m});var r=a(637876),l=a(766028),n=a(872994),o=a(35346),i=a(101488),s=a(527340);a(375440);var u=a(14232),d=a(331134),c=a(598861),p=a(244443),y=a(6735),g=a(992437);function m(e){let{start:t,end:a}=e;return 120>=(0,i.o)(a,t)?"minute":5760>(0,i.o)(a,t)?"hour":"day"}function f(e){var t;let{data:a,hideLegend:o,loading:i,showAsPercentage:m,getColorForDataset:f,xAxis:b,yAxis:h}=e,D=(0,u.useRef)(void 0),k=(0,s.I)(),w="dark"===(0,l.useTheme)().themeName?n.palette.dark:n.palette.light,L=(0,u.useCallback)((e,t)=>{if(f){var a;let r=f(e,t);return null!=(a=w[r])?a:r}let r=Object.values(g.lR).sort();return w[r[t%r.length]]},[w,f]);function C(){var e;null==D||null==(e=D.current)||e.resize()}(0,u.useEffect)(()=>(window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}),[]);let P=(0,u.useMemo)(()=>{if(null==a)return null;let e=a.datasets.reduce((e,t)=>Math.max(...t.data,e),0);return{...a,labels:a.labels.map(e=>new Date(e)),datasets:a.datasets.map((t,a)=>{let r=L(t,a);return{...t,borderColor:r,backgroundColor:a=>{if(null==h?void 0:h.stacked)return r;let l=a.chart.ctx,n=a.chart.chartArea;if(!n)return"transparent";try{let a=n.height,o=Math.max(...t.data),i=e?n.bottom-a/e*o:0,s=n.bottom,u=l.createLinearGradient(0,s,0,i);return u.addColorStop(1,(0,g.lP)(r,40)),u.addColorStop(.75,(0,g.lP)(r,20)),u.addColorStop(.5,(0,g.lP)(r,5)),u.addColorStop(.25,(0,g.lP)(r,1)),u.addColorStop(0,(0,g.lP)(r,0)),u}catch(e){return"transparent"}},borderWidth:g.rD,pointStyle:"circle",fill:null==h||!h.stacked||"origin"}})}},[a,L]);return i||null==P?(0,r.jsx)(y.O,{loading:i,description:"There was an error loading insights data. Try refreshing the page.",onClick:()=>{window.location.reload()},buttonText:"Reload",inline:!0}):(0,r.jsxs)(r.Fragment,{children:[0===P.datasets.length&&(0,r.jsx)(y.O,{title:"No data to display",onClick:()=>{window.location.reload()},buttonText:"Read more about EAS Insights",href:"https://docs.expo.dev/eas-insights/introduction/",openInNewTab:!0,inline:!0}),P.datasets.length>0&&(0,r.jsx)("div",{className:"relative h-[420px] max-lg-gutters:h-[320px] max-md-gutters:h-[220px] [&>canvas]:!w-full",children:(0,r.jsx)(d.N1,{ref:D,options:{animation:!k,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",display:!o},annotation:{annotations:[]},title:{display:!1},tooltip:{...g.FG,callbacks:{title:e=>(0,g.wp)(b.unit,e),labelColor:e=>({borderColor:e.dataset.borderColor,backgroundColor:e.dataset.borderColor}),label(e){let t="";return null!==e.parsed.y&&(m?t+=new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:1}).format(e.parsed.y)+"%":t+=new Intl.NumberFormat("en-US",{maximumSignificantDigits:9}).format(e.parsed.y),t+=" | "),e.dataset.label&&(e.dataset.label.length>=40?t+=" ".concat(e.dataset.label.slice(0,40),"..."):t&&(t+=" ".concat(e.dataset.label))),t}},filter:e=>0!==e.parsed.y,itemSort:(e,t)=>t.parsed.y-e.parsed.y}},interaction:{intersect:!1,mode:"index"},elements:{line:{tension:.2},point:{radius:0}},scales:{x:{type:"time",time:{displayFormats:{minute:c.WL.timeOfDay,hour:c.WL.timeOfDay,day:c.WL.dateWithoutYear},unit:b.unit},ticks:{autoSkip:!0},title:{display:!1},grid:{color:"rgba(120,120,120,.15)"}},y:{stacked:null!=(t=null==h?void 0:h.stacked)&&t,beginAtZero:!0,grace:m?0:"20%",max:m?100:void 0,title:{display:!0,text:null==h?void 0:h.text},ticks:{precision:0,callback:e=>m?e+"%":(0,p.ZV)("string"==typeof e?parseInt(e,10):e,{notation:"compact"})},grid:{color:"rgba(120,120,120,.15)"}}}},data:P})})]})}o.t1.register(o.dN,o.PP,o.UA,o.kc,o.FN,o.No,o.hE,o.m_,o.s$)},410064:(e,t,a)=>{a.d(t,{MT:()=>g,Uz:()=>f,iL:()=>c,jr:()=>m,rd:()=>b});var r=a(637876),l=a(101488),n=a(234824),o=a(14232),i=a(121182),s=a(251511),u=a(526100);let d="1 Day",c=[{label:"Last 1 Hour",id:"1 Hour",urlQueryParamValue:"1h"},{label:"Last 12 Hours",id:"12 Hours",urlQueryParamValue:"12h"},{label:"Last 1 Day",id:"1 Day",urlQueryParamValue:"1d"},{label:"Last 3 Days",id:"3 Days",urlQueryParamValue:"3d"},{label:"Last 7 Days",id:"7 Days",urlQueryParamValue:"7d"},{label:"Last 30 Days",id:"30 Days",urlQueryParamValue:"30d"},{label:"Last 60 Days",id:"60 Days",urlQueryParamValue:"60d"}];c.map(e=>{let{id:t}=e;return t}),c.map(e=>{let{urlQueryParamValue:t}=e;return t});let p=c.reduce((e,t)=>(e[t.urlQueryParamValue]=t,e),{}),y=c.reduce((e,t)=>(e[t.id]=t,e),{});function g(e){switch(e){case"1 Hour":return i.W_;case"12 Hours":return 12*i.W_;case"1 Day":return i.Gf;case"3 Days":return 3*i.Gf;case"7 Days":return 7*i.Gf;case"30 Days":return i.sM;case"60 Days":return 2*i.sM}}function m(e,t){let a=g(t);var r={start:new Date(e.getTime()-a),end:new Date(e.getTime())};let n=function(e){let{start:t,end:a}=e;return 120>=(0,l.o)(a,t)?"MINUTE":5760>(0,l.o)(a,t)?"HOUR":"DAY"}(r),o=i.Kv;return"HOUR"===n?o=i.W_:"DAY"===n&&(o=i.Gf),{start:new Date(Math.floor(r.start.getTime()/o)*o),end:new Date(Math.ceil(r.end.getTime()/o)*o)}}function f(e,t){if(null!=e){var a,r;let l=p[e.query.t];return null!=(r=null!=(a=null==l?void 0:l.id)?a:t)?r:d}return null!=t?t:d}function b(e){let{onValueChangeCallback:t,useUrlQueryParams:a,initialDuration:l,options:i}=e,p=(0,s.lT)(),g=(0,n.useRouter)(),[b,h]=(0,o.useState)(!0===a?f(g,l):null!=l?l:d),[D,k]=(0,o.useState)(m(new Date(p?p.currentDateAsString:Date.now()),b)),w=(0,o.useCallback)(e=>{let r=m(new Date,e);if(h(e),k(r),a){let t=y[e].urlQueryParamValue;g&&a&&(t?g.query.t=t:delete g.query.t,g.push(g))}t&&t(e,r)},[g]);return(0,o.useEffect)(()=>{t&&t(b,D)},[]),(0,r.jsx)(u.l,{disabled:!1,value:b,options:null!=i?i:[...c],optionsLabel:"Select Timeframe",onValueChange:w,className:"min-w-[160px]"})}},992437:(e,t,a)=>{a.d(t,{FG:()=>c,Wp:()=>u,lP:()=>y,lR:()=>d,rD:()=>g,wp:()=>p});var r=a(766028),l=a(872994),n=a(58532),o=a(598861),i=a(121182),s=a(588808);let u={CYAN:r.appBackgroundColors.cyan,LIGHT_BLUE:r.appBackgroundColors.lightBlue,DARK_BLUE:r.appBackgroundColors.darkBlue,INDIGO:r.appBackgroundColors.indigo,PURPLE:r.appBackgroundColors.purple,PINK:r.appBackgroundColors.pink,ORANGE:r.appBackgroundColors.orange,GOLD:r.appBackgroundColors.gold,YELLOW:r.appBackgroundColors.yellow,LIME:r.appBackgroundColors.lime,LIGHT_GREEN:r.appBackgroundColors.lightGreen,DARK_GREEN:r.appBackgroundColors.darkGreen},d={RED:"red9",ORANGE:"orange9",YELLOW:"yellow9",GREEN:"green9",BLUE:"blue9",PURPLE:"purple9",PINK:"pink9"},c={padding:l.spacing[3],boxPadding:l.spacing[1],bodySpacing:l.spacing[1],bodyFont:{family:s.regularFont.style.fontFamily,size:14},titleFont:{family:s.regularFont.style.fontFamily,size:14,weight:500},titleMarginBottom:l.spacing[2],footerFont:{family:s.regularFont.style.fontFamily,size:14,weight:500},footerMarginTop:l.spacing[2],usePointStyle:!0},p=(e,t)=>{try{let a=new Date(t[0].parsed.x);if("day"===e)return(0,n.GP)(a,o.WL.dateWithFullMonth);if("hour"===e){let e=new Date(t[0].parsed.x-i.W_);return(0,n.GP)(e,o.WL.timeOfDayMilitary)+"-"+(0,n.GP)(a,o.WL.timeOfDayMilitary)+" "+(0,n.GP)(e,o.WL.dateWithFullMonth)}let r=new Date(t[0].parsed.x-i.Kv);return(0,n.GP)(r,o.WL.timeOfDayMilitary)+"-"+(0,n.GP)(a,o.WL.timeOfDayMilitary)+(0,n.GP)(a,", MMMM yyyy")}catch(e){return"Current period"}};function y(e,t){return"rgb(from ".concat(e," r g b / ").concat(null!=t?t:50,"%)")}let g=2}}]);