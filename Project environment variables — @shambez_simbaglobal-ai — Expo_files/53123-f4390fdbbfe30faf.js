try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="d9e1d693-1e81-4f6d-8bcf-57171d7dca6d",e._sentryDebugIdIdentifier="sentry-dbid-d9e1d693-1e81-4f6d-8bcf-57171d7dca6d")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53123],{476649:(e,s,t)=>{t.d(s,{b:()=>z});var r=t(637876),l=t(766028),n=t(515294),a=t(155628),i=t(317401),c=t(58532),d=t(425096),u=t(14232),o=t(598861),x=t(121182),m=t(55033),h=t(461616),f=t(376950),g=t(712378),p=t(375938),j=t(408557),b=t(353003),N=t(802381),w=t(523805),y=t(549024),k=t(148194),C=t(888299),v=t(728992),R=t(10369),T=t(11308),q=t(434743),B=t(823023),I=t(96427),M=t(903219),S=t(678248);function P(){let e=(0,I._)(["\n    query WorkflowRunStatusQuery($workflowRunId: ID!) {\n  workflowRuns {\n    byId(workflowRunId: $workflowRunId) {\n      id\n      status\n      durationSeconds\n      createdAt\n      jobs {\n        status\n      }\n    }\n  }\n}\n    "]);return P=function(){return e},e}let G={},L=(0,M.J1)(P());function z(e){var s,t,I,M,P;let{workflowRun:z,accountName:F,isActivityView:O}=e,[,{data:_,startPolling:E,stopPolling:W}]=function(e){let s={...G,...e};return S._(L,s)}({variables:{workflowRunId:z.id},fetchPolicy:"network-only"}),H=null!=(I=null==_?void 0:_.workflowRuns.byId)?I:z,D=(0,g.mn)(H.status);(0,u.useEffect)(()=>{if(D)return E(5e3),()=>{W()}},[D]);let[Z,J]=(0,u.useState)(!1),U=(null==H?void 0:H.durationSeconds)?1e3*H.durationSeconds:void 0,Y=U?(0,x.a3)(U):void 0;(0,u.useEffect)(()=>{J(!0)},[]);let $=null!=(P=null!=(M=z.name)?M:z.workflow.name)?P:z.workflow.fileName,Q=H.jobs.length,X=Q>0,K=H.jobs.filter(e=>{let{status:s}=e;return s===f.p8.Success}).length;return(0,r.jsxs)(C.H,{children:[(0,r.jsx)(l.Link,{href:(0,m.Rv)(F,z.workflow.app.slug,"workflows/".concat(encodeURIComponent(z.id))),className:"w-full",children:(0,r.jsxs)(w.n,{mobilePrimaryCell:!0,theme:"interactive",className:"flex min-h-[52px] flex-col max-md-gutters:min-h-[unset]",children:[(0,r.jsxs)("div",{className:"flex flex-1 items-center gap-2.5",children:[(0,r.jsxs)(R.s,{children:[(0,r.jsx)(q.k,{className:"flex",children:(0,r.jsx)(N.k,{status:H.status})}),(0,r.jsx)(v.Z,{children:(0,r.jsx)(T.L,{children:(0,N.p)(H.status)})})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{className:"truncate text-xs font-medium leading-snug",children:$}),!O&&(0,r.jsx)(j.c,{loading:!Z,height:22,width:136,children:(0,r.jsx)("span",{className:"truncate text-xs text-secondary",children:(0,r.jsxs)(R.s,{children:[(0,r.jsxs)(q.k,{className:"flex items-center gap-3 truncate !outline-offset-[-3px]",children:[(0,d.m)(new Date(H.createdAt),{addSuffix:!0}),!!U&&(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(a.ClockIcon,{className:"icon-xs text-icon-quaternary"}),(0,r.jsx)(b.Y,{duration:U,startTime:H.createdAt,hasEnded:!(0,g.I)(H.status)})]}),X&&(0,r.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,r.jsx)(n.CheckIcon,{className:"icon-xs mr-1 text-icon-quaternary"}),K,(0,r.jsx)("span",{className:"text-quaternary",children:"/"}),Q]})]}),(0,r.jsx)(v.Z,{side:"bottom",align:"start",children:(0,r.jsxs)(T.L,{className:"text-left",children:["Started ",(0,c.GP)(H.createdAt,o.WL.timestamp),Y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),"Finished in ",Y]}),z.triggeringLabelName&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),'Triggered by label "',z.triggeringLabelName,'"']}),X&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),K===Q?"All jobs successfully completed":(0,r.jsxs)(r.Fragment,{children:[K," ",(0,h.td)("job",K)," ","succeeded out of ",Q," ",(0,h.td)("job",Q)]})]})]})})]})})})]})]}),(0,r.jsxs)("div",{className:"mt-3 hidden flex-wrap gap-2 max-md-gutters:flex",children:[(0,r.jsx)(A,{workflowRun:z}),!O&&(0,r.jsx)(k.C,{children:(0,r.jsx)(p.r,{actor:z.actor,size:"sm",noLink:!0})}),z.requestedGitRef&&(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Git ref:"}),(0,r.jsx)("p",{className:"text-xs",children:null==(s=z.requestedGitRef)?void 0:s.replace("refs/heads/","")})]}),z.gitCommitHash&&(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Git commit:"}),(0,r.jsx)("code",{className:"text-xs text-default",children:null==(t=z.gitCommitHash)?void 0:t.slice(0,7)})]}),z.triggeringLabelName&&(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Triggering label:"}),(0,r.jsx)("code",{className:"text-xs text-default",children:z.triggeringLabelName})]})]})]})}),(0,r.jsx)(w.n,{hideOnMobile:!0,children:(0,r.jsx)(y.k,{className:"truncate",children:z.workflow.fileName})}),(0,r.jsx)(B.t,{workflowRun:z}),!O&&(0,r.jsx)(w.n,{hideOnMobile:!0,className:"pr-6",children:(0,r.jsx)(p.r,{actor:z.actor,size:"md",description:z.triggeringLabelName?(0,r.jsxs)("p",{className:"inline-flex items-center gap-1.5 truncate text-2xs text-secondary",children:[(0,r.jsx)(i.Tag01Icon,{className:"icon-xs text-icon-quaternary"}),z.triggeringLabelName]}):void 0})})]},z.id)}function A(e){let{workflowRun:s}=e;switch(s.triggerEventType){case f.Tr.Manual:return(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Trigger:"}),(0,r.jsx)("p",{className:"text-xs",children:"Manual"})]});case f.Tr.GithubPullRequestOpened:if(!s.pullRequestNumber)return null;return(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Trigger:"}),(0,r.jsxs)("p",{className:"text-xs",children:["opened #",s.pullRequestNumber]})]});case f.Tr.GithubPullRequestReopened:if(!s.pullRequestNumber)return null;return(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Trigger:"}),(0,r.jsxs)("p",{className:"text-xs",children:["reopened #",s.pullRequestNumber]})]});case f.Tr.GithubPullRequestLabeled:if(!s.pullRequestNumber)return null;return(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Trigger:"}),(0,r.jsxs)("p",{className:"text-xs",children:["labeled #",s.pullRequestNumber]})]});case f.Tr.GithubPullRequestSynchronize:if(!s.pullRequestNumber)return null;return(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Trigger:"}),(0,r.jsxs)("p",{className:"text-xs",children:["synchronize #",s.pullRequestNumber]})]});case f.Tr.GithubPush:return(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Trigger:"}),(0,r.jsxs)("p",{className:"text-xs",children:["pushed",s.gitCommitMessage?' "'.concat(s.gitCommitMessage,'"'):""]})]});case f.Tr.Schedule:return(0,r.jsxs)(k.C,{children:[(0,r.jsx)("p",{className:"text-xs text-secondary",children:"Trigger:"}),(0,r.jsx)("p",{className:"text-xs",children:"scheduled"})]})}}},565014:(e,s,t)=>{t.d(s,{M:()=>i});var r=t(637876),l=t(254218),n=t(141278),a=t(49355);function i(e){let{isActivityView:s}=e;return(0,r.jsxs)(l.A,{children:[(0,r.jsx)(n.M,{children:(0,r.jsx)(a.z,{children:"Workflow"})}),(0,r.jsx)(n.M,{hideOnMobile:!0,children:(0,r.jsx)(a.z,{children:"Workflow file"})}),(0,r.jsx)(n.M,{hideOnMobile:!0,children:(0,r.jsx)(a.z,{children:"Trigger"})}),!s&&(0,r.jsx)(n.M,{hideOnMobile:!0,children:(0,r.jsx)(a.z,{children:"Triggered by"})})]})}},712378:(e,s,t)=>{t.d(s,{BZ:()=>i,Ey:()=>b,I:()=>h,NB:()=>g,Wt:()=>N,XZ:()=>p,aH:()=>u,b7:()=>j,eq:()=>d,hx:()=>c,mn:()=>x,ue:()=>w});var r=t(58532),l=t(683423),n=t(598861),a=t(376950);let i="WAITING";function c(e){return[a.p8.Canceled,a.p8.Failure,a.p8.Success,a.p8.Skipped].includes(e)}function d(e){return![a.p8.New,a.p8.PendingCancel,a.p8.Canceled,a.p8.Skipped].includes(e)}function u(e){var s,t,r,l,n,i;return[e.errors,[a.xt.Build,a.xt.Repack].includes(e.type)&&(null==(t=e.turtleBuild)||null==(s=t.error)?void 0:s.message)?[{message:e.turtleBuild.error.message}]:[],e.type===a.xt.Submission&&(null==(l=e.turtleSubmission)||null==(r=l.error)?void 0:r.message)?[{message:e.turtleSubmission.error.message}]:[],null!=(i=null==(n=e.turtleJobRun)?void 0:n.errors)?i:[]].flat().filter(e=>!e.message.includes("Unknown error."))}let o={[a.Bx.New]:!0,[a.Bx.InProgress]:!0,[a.Bx.ActionRequired]:!0,[a.Bx.Success]:!1,[a.Bx.Failure]:!1,[a.Bx.Canceled]:!1};function x(e){return o[e]||!1}let m={[a.Bx.New]:!0,[a.Bx.InProgress]:!0,[a.Bx.ActionRequired]:!1,[a.Bx.Success]:!1,[a.Bx.Failure]:!1,[a.Bx.Canceled]:!1};function h(e){return m[e]||!1}let f={[a.Bx.New]:!0,[a.Bx.InProgress]:!0,[a.Bx.ActionRequired]:!0,[a.Bx.Success]:!1,[a.Bx.Failure]:!1,[a.Bx.Canceled]:!1};function g(e){return f[e]||!1}function p(e){var s,t,r;let l=new Map,n=new Map;for(let[r,a]of Object.entries(e)){let e=[...null!=(s=a.needs)?s:[],...null!=(t=a.after)?t:[]];for(let s of(l.set(r,e.length),e))n.has(s)||n.set(s,new Set),n.get(s).add(r)}let a=[];for(;l.size>0;){let e=Array.from(l.entries()).filter(e=>{let[s,t]=e;return 0===t}).map(e=>{let[s]=e;return s});if(0===e.length)return console.error("Circular dependency detected in workflow jobs"),[];for(let s of(a.push(e),e))for(let e of(l.delete(s),null!=(r=n.get(s))?r:new Set))l.set(e,l.get(e)-1)}return a}function j(e){if(!e)return null;try{return(0,l.Hh)(e)}catch(e){return console.error("Failed to parse YAML:",e),null}}function b(e){return(0,r.GP)(e,n.WL.extendedTimestampWithMs)}function N(e,s){return s in e.outputs&&"string"==typeof e.outputs[s]&&e.outputs[s]?e.outputs[s]:null}function w(e){let s=e.startsWith("!"),t=e;s&&(t=t.slice(1));let r=t.match(/(\/?refs)?\/?heads\/(.+)/);if(r)return{name:r[2],type:"branch",isNegated:s};let l=t.match(/(\/?refs)?\/?tags\/(.+)/);return l?{name:l[2],type:"tag",isNegated:s}:{name:t,type:"other",isNegated:s}}},823023:(e,s,t)=>{t.d(s,{t:()=>i});var r=t(637876),l=t(376950),n=t(637155),a=t(523805);function i(e){let{workflowRun:s,hideOnMobile:t=!0}=e;switch(s.triggerEventType){case l.Tr.Manual:return(0,r.jsx)(a.n,{hideOnMobile:t,children:(0,r.jsx)("p",{className:"text-xs",children:"Manual"})});case l.Tr.Schedule:case l.Tr.GithubPush:case l.Tr.GithubPullRequestOpened:case l.Tr.GithubPullRequestReopened:case l.Tr.GithubPullRequestLabeled:case l.Tr.GithubPullRequestSynchronize:return(0,r.jsx)(n.u,{hideOnMobile:t,gitRef:s.requestedGitRef,gitCommitHash:s.gitCommitHash,gitCommitMessage:s.gitCommitMessage,app:s.workflow.app})}}},893608:(e,s,t)=>{t.d(s,{t:()=>m});var r=t(637876),l=t(766028),n=t(527340),a=t(182172),i=t(292241),c=t(728992),d=t(10369),u=t(11308),o=t(434743);function x(e){let{label:s,hideLabel:t,active:x,onTabPress:m,disabled:h,block:f,icon:g,href:p,layoutId:j,testID:b,className:N,rightSlot:w,theme:y="default",tip:k,tooltipClassName:C,small:v}=e,R=(0,i.Z)(x),T=(0,n.I)(),q=p?l.LinkBase:l.ButtonBase,B=R!==x,I=(0,r.jsx)(q,{disabled:h,className:(0,l.mergeClasses)("relative z-10 rounded-[8px] transition-colors hocus:-outline-offset-[3px]",f&&"w-full items-center",!x&&"default"===y&&"hocus:bg-selected dark:hocus:bg-element",!x&&"secondary"===y&&"hocus:bg-element dark:hocus:bg-subtle","tertiary"===y&&"rounded-none border-r border-secondary py-0.5 hocus:bg-element dark:hocus:bg-subtle",N),onClick:()=>null==m?void 0:m(),href:p,"data-testid":b,children:(0,r.jsxs)("div",{className:(0,l.mergeClasses)("flex items-center gap-2",v?"px-2 py-1":"px-4 py-1.5",f&&"w-full justify-center",w&&"w-full justify-between"),children:[g,s&&!t&&(0,r.jsx)("p",{className:(0,l.mergeClasses)("text-sm font-medium transition-colors",x?"text-default":"text-tertiary","tertiary"===y&&"text-xs","max-md-gutters:text-sm max-sm-gutters:text-xs"),children:s}),w]})});return(0,r.jsxs)("div",{className:(0,l.mergeClasses)("relative",f&&"flex-1 overflow-hidden max-md-gutters:w-full"),children:[x&&"tertiary"!==y&&(0,r.jsx)(a.P.div,{layoutId:"active-indicator-".concat(j),transition:{ease:"linear",duration:T||!B||f?0:.2},className:(0,l.mergeClasses)("absolute inset-0 rounded-[8px] border border-secondary bg-screen","dark:bg-hover dark:drop-shadow-none","secondary"===y&&"border-button-secondary bg-default shadow-xs dark:bg-subtle")}),k?(0,r.jsxs)(d.s,{children:[(0,r.jsx)(o.k,{asChild:!0,children:I}),k&&(0,r.jsx)(c.Z,{className:C,children:(0,r.jsx)(u.L,{children:k})})]}):I]})}function m(e){let{tabs:s,disabled:t,block:n,className:a,tabClassName:i,theme:c="default",small:d}=e,u=s.reduce((e,s,t)=>{var r;return e+(null!=(r=s.label)?r:t.toString()).toLowerCase()},"");return(0,r.jsx)("div",{className:(0,l.mergeClasses)("relative z-1 inline-flex items-start gap-1","default"===c&&"rounded-lg bg-element p-1 dark:bg-subtle","tertiary"===c&&"gap-0",t&&"cursor-not-allowed",n?"flex justify-between max-md-gutters:flex-col":"flex-wrap",a),children:s.map(e=>(0,r.jsx)(x,{theme:c,layoutId:u,className:i,block:n,small:d,...e},e.label))})}}}]);