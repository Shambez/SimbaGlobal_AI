try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="df80febc-4e9e-485c-b68b-f879e35f3399",e._sentryDebugIdIdentifier="sentry-dbid-df80febc-4e9e-485c-b68b-f879e35f3399")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41089],{31117:(e,n,t)=>{t.d(n,{d:()=>s});var a=t(637876),r=t(766028),i=t(527340),l=t(182172);function s(e){let{value:n=!1,size:t="md",onChange:s,disabled:o}=e,d=(0,i.I)();return(0,a.jsx)(r.ButtonBase,{role:"switch",className:(0,r.mergeClasses)("flex justify-start rounded-full border border-default bg-palette-gray4 outline-offset-2","md"===t&&"h-6 min-w-[44px]","sm"===t&&"h-5 min-w-[36px]",n&&"justify-end border-palette-blue10 bg-palette-blue10",o&&"opacity-50",!d&&"transition-colors"),"aria-label":"Switch","aria-checked":n,"data-value":n,onClick:()=>{var e;e=!n,!o&&s&&s(e)},children:(0,a.jsx)(l.P.div,{className:(0,r.mergeClasses)("m-px rounded-full bg-palette-white shadow-xs dark:bg-palette-gray11","md"===t&&"h-5 min-w-[20px]","sm"===t&&"h-4 min-w-[16px]",n&&"dark:bg-palette-white",!d&&"transition-colors"),layout:!0})})}},122389:(e,n,t)=>{t.d(n,{A:()=>l});var a=t(637876),r=t(526100),i=t(363929);function l(e){let{value:n,options:t,onValueChange:l,optionsLabel:s}=e;return(0,a.jsx)(r.l,{options:t,optionsLabel:s,value:n,onValueChange:function(e){let n;switch(e){case"CURRENT_BILLING_PERIOD":n=i.Vq.CURRENT_BILLING_PERIOD;break;case"PREVIOUS_BILLING_PERIOD":n=i.Vq.PREVIOUS_BILLING_PERIOD;break;case"LAST_7_DAYS":n=i.Vq.LAST_7_DAYS;break;case"LAST_30_DAYS":n=i.Vq.LAST_30_DAYS;break;case"LAST_365_DAYS":n=i.Vq.LAST_365_DAYS}l&&n&&l(n)},className:"min-w-[200px]"})}},152748:(e,n,t)=>{t.d(n,{h:()=>I});var a=t(637876),r=t(766028),i=t(35346),l=t(58532),s=t(527340),o=t(844239),d=t.n(o),u=t(14232),c=t(331134);t(375440);var m=t(598861),p=t(244443),g=t(55033),f=t(992437);function D(e,n,t){switch(t){case"minute":return e.toISOString().split(":").slice(0,2).join(":")===n.toISOString().split(":").slice(0,2).join(":");case"hour":return e.toISOString().split(":")[0]===n.toISOString().split(":")[0];default:return e.toISOString().split("T")[0]===n.toISOString().split("T")[0]}}function I(e){let{granularity:n,legendPosition:t,chartTitle:i,labelFormatter:o,timestampFormat:I,yAxisTitle:x,yAxisTickFormatter:S,hideLegend:y=!1,datasets:v,maintainAspectRatio:_,containerClassName:h,hoverBorderColor:b,hoverBackgroundColor:L}=e,A=(0,g.k4)("gray1"),U=(0,s.I)(),N=(0,u.useRef)(void 0);function T(){var e;null==N||null==(e=N.current)||e.resize()}(0,u.useEffect)(()=>(window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}),[]);let E=new Date;return(0,a.jsx)("div",{className:(0,r.mergeClasses)("relative [&>canvas]:!w-full",h),children:(0,a.jsx)(c.N1,{ref:N,data:{datasets:v.map(e=>({...e,data:e.data.map(t=>D(new Date(t.x),E,n)?{...t,y:e.data.every(e=>Number.isInteger(e.y))?Math.round(e.data.reduce((e,n)=>e+n.y,0)/e.data.length):e.data.reduce((e,n)=>e+n.y,0)/e.data.length}:t),segment:{borderColor:n=>new Date(e.data[n.p1DataIndex].x).getTime()>E.getTime()?"transparent":e.borderColor,borderDash:t=>{if(D(new Date(e.data[t.p1DataIndex].x),E,n))return[5,5]}},pointStyle:n=>{if(new Date(e.data[n.dataIndex].x).getTime()>E.getTime())return!1},pointHoverBorderColor:t=>{if(D(new Date(e.data[t.dataIndex].x),E,n))return e.borderColor},pointBackgroundColor:t=>D(new Date(e.data[t.dataIndex].x),E,n)?"transparent":e.borderColor}))},options:{maintainAspectRatio:_,animation:!U,plugins:{legend:{display:!y,labels:{padding:16,usePointStyle:!0},onClick:()=>null,...t?{position:t}:{}},...i?{title:{display:!0,text:i}}:{},annotation:{annotations:[]},tooltip:{callbacks:{title:e=>d()(e.map(e=>D(new Date(e.parsed.x),E,n)?"Estimated current period":(0,l.GP)(e.parsed.x,null!=I?I:m.WL.date))),labelColor:e=>({borderColor:e.dataset.borderColor,backgroundColor:e.dataset.borderColor}),...o?{label:o}:{}},...f.FG}},elements:{line:{tension:.2},point:{radius:1,hoverRadius:5,hoverBorderWidth:2,hoverBorderColor:null!=b?b:A,hoverBackgroundColor:L,hitRadius:2}},responsive:!0,interaction:{intersect:!1,mode:"index"},scales:{x:{type:"time",ticks:{autoSkip:!0,source:"data",..."hour"===n||"minute"===n?{maxTicksLimit:42,major:{enabled:!0},font:e=>{var n;return(null==e||null==(n=e.tick)?void 0:n.major)?{weight:600}:{}}}:{}},time:{displayFormats:{minute:m.WL.timeOfDay,hour:m.WL.timeOfDay,day:m.WL.dateWithoutYear},unit:null!=n?n:"minute"},grid:{tickWidth:0,color:"transparent"}},y:{type:"linear",beginAtZero:!0,grace:"10%",grid:{color:"rgba(120,120,120,.15)"},border:{display:!1},ticks:{padding:10,callback(e,n,t){return S?S.call(this,e,n,t):(0,p.ZV)("string"==typeof e?parseInt(e,10):e,{notation:"compact"})}},...x?{title:{display:!0,text:x}}:{}}}}})})}i.t1.register(i.UA,i.kc,i.FN,i.No,i.hE,i.m_,i.s$,i.dN)},174680:(e,n,t)=>{t.d(n,{j:()=>i});var a=t(637876),r=t(766028);function i(e){let{title:n,className:t}=e;return(0,a.jsx)("p",{className:(0,r.mergeClasses)("flex w-full items-center border-y border-y-secondary bg-subtle px-6 py-2 text-xs font-medium",t),children:n})}},300020:(e,n,t)=>{t.d(n,{el:()=>d});var a=t(96427),r=t(903219),i=t(154431);function l(){let e=(0,a._)(["\n    query BillingPeriod($accountName: String!, $currentDate: DateTime!, $previousDate: DateTime!) {\n  account {\n    byName(accountName: $accountName) {\n      usageMetrics {\n        byCurrentBillingPeriod: byBillingPeriod(date: $currentDate) {\n          billingPeriod {\n            id\n            start\n            end\n          }\n        }\n        byPreviousBillingPeriod: byBillingPeriod(date: $previousDate) {\n          billingPeriod {\n            id\n            start\n            end\n          }\n        }\n      }\n    }\n  }\n}\n    "]);return l=function(){return e},e}let s={},o=(0,r.J1)(l());function d(e){let n={...s,...e};return i.IT(o,n)}},324398:(e,n,t)=>{t.d(n,{h:()=>l});var a=t(637876),r=t(766028),i=t(408557);function l(e){let{stats:n,loading:t}=e;return(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-8",children:n.map(e=>{let n=null===e.value||t;return(0,a.jsxs)("div",{className:(0,r.mergeClasses)("flex h-12 flex-col gap-1 border-r border-r-default pr-8","last-of-type:border-r-0"),children:[(0,a.jsx)(i.c,{loading:n,height:24,width:52,children:(0,a.jsx)("span",{className:"font-semibold !leading-[24px] heading-xl",children:e.value})}),(0,a.jsx)("p",{className:"text-xs text-secondary",children:e.label})]},e.label)})})}},363929:(e,n,t)=>{t.d(n,{PB:()=>u,Vq:()=>d,Zy:()=>s,m2:()=>o,n$:()=>l,n8:()=>m,o2:()=>p,z7:()=>c});var a=t(325434),r=t(598861),i=t(376950);let l={[i.t3.Total]:"day",[i.t3.Day]:"day",[i.t3.Hour]:"hour",[i.t3.Minute]:"minute"},s={[i.t3.Total]:r.WL.dateWithDay,[i.t3.Day]:r.WL.dateWithDay,[i.t3.Hour]:r.WL.timestamp,[i.t3.Minute]:r.WL.timestamp};function o(e){if(!e)return i.t3.Minute;let n=(0,a.F)(e);return n.years||n.months||n.days&&n.days>7?i.t3.Day:n.days?i.t3.Hour:i.t3.Minute}var d=function(e){return e.CURRENT_BILLING_PERIOD="CURRENT_BILLING_PERIOD",e.PREVIOUS_BILLING_PERIOD="PREVIOUS_BILLING_PERIOD",e.LAST_7_DAYS="LAST_7_DAYS",e.LAST_30_DAYS="LAST_30_DAYS",e.LAST_365_DAYS="LAST_365_DAYS",e}({});function u(e){if(!e||0===e.length)return[];let n=0;return e.map(e=>{let t={x:e.x,y:e.y+n};return n=t.y,t})}function c(e){return e?e.map(e=>({x:e.timestamp,y:e.value})):[]}function m(e){var n;return null!=(n=null==e?void 0:e.reduce((e,n)=>e+n.value,0))?n:0}function p(e){return{start:new Date(e.start),end:new Date(e.end)}}},403919:(e,n,t)=>{t.d(n,{Y:()=>eD});var a=t(637876),r=t(766028),i=t(872994),l=t(381720),s=t(263411),o=t(779067),d=t(325434),u=t(574023),c=t.n(u),m=t(14232),p=t(376950),g=t(251511),f=t(953885),D=t(353806),I=t(174680),x=t(285746),S=t(35346),y=t(257879),v=t(58532),_=t(527340),h=t(331134);t(375440);var b=t(598861),L=t(244443),A=t(992437);S.t1.register(S.UA,S.kc,S.FN,S.E8,S.hE,S.m_,S.s$,y.A);let U=[i.palette.light.blue9,i.palette.light.red9,i.palette.light.green9];function N(e){let{data:n,barColors:t,granularity:r,legendPosition:i="bottom",chartTitle:l,labelFormatter:s,timestampFormat:o,yAxisTitle:d,stacked:u=!1,annotations:c=[],hideLegend:p=!1}=e,g=(0,_.I)(),f=(0,m.useRef)(void 0);function D(){var e;null==f||null==(e=f.current)||e.resize()}(0,m.useEffect)(()=>(window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D)}),[]);let I=Object.entries(n).map((e,n)=>{var a,r;let[i,l]=e;return{backgroundColor:null!=(a=null==t?void 0:t[i])?a:U[n%U.length],borderColor:null!=(r=null==t?void 0:t[i])?r:U[n%U.length],label:i,data:l}});return(0,a.jsx)("div",{className:"relative [&>canvas]:!w-full",children:(0,a.jsx)(h.yP,{ref:f,data:{datasets:I},options:{animation:!g,plugins:{legend:{display:!p,labels:{padding:16,usePointStyle:!0},onClick:()=>null,...i?{position:i}:{}},...l?{title:{display:!0,text:l}}:{},annotation:{annotations:c},tooltip:{callbacks:{title:e=>(0,v.GP)(e[0].parsed.x,null!=o?o:b.WL.date),footer:e=>"Total: "+e.map(e=>e.parsed.y).reduce(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return e+n}),...s?{label:s}:{}},...A.FG}},responsive:!0,interaction:{intersect:!1,mode:"index"},scales:{x:{type:"time",ticks:{autoSkip:!0,source:"data",..."hour"===r||"minute"===r?{maxTicksLimit:42,major:{enabled:!0},font:e=>{var n;return(null==e||null==(n=e.tick)?void 0:n.major)?{weight:600}:{}}}:{}},time:{displayFormats:{minute:b.WL.timeOfDay,hour:b.WL.timeOfDay,day:b.WL.dateWithoutYear},unit:null!=r?r:"minute"},grid:{tickWidth:0,color:"transparent"},stacked:u},y:{type:"linear",beginAtZero:!0,grace:"10%",ticks:{precision:0,padding:10,callback:e=>(0,L.ZV)("string"==typeof e?parseInt(e,10):e,{notation:"compact"})},grid:{color:"rgba(120,120,120,.15)"},border:{display:!1},stacked:u,...d?{title:{display:!0,text:d}}:{}}}}})})}var T=t(6735),E=t(526100),M=t(31117),B=t(324398),j=t(938255),O=t(942021),w=t(197093),R=t(523146),C=t(443196),P=t(811565),k=t.n(P);function G(e){return e?function e(n,t){if(Array.isArray(n))return n.map(n=>e(n,t));if(k()(n)){let a=c()(n,t);return Object.keys(a).forEach(n=>{a[n]=e(a[n],t)}),a}return n}(e,["__typename","id"]):{}}function $(e,n,t){return"".concat(e,"-").concat(n,"-").concat((0,v.GP)(t.start,"MM.dd.yy"),"-").concat((0,v.GP)(t.end,"MM.dd.yy"))}function F(e){let{disabled:n,timespan:r,usageData:i,csvDataParser:l,label:s="usage"}=e,{projectName:o,accountName:d}=(0,g.lT)(g.Iz.LOGGED_IN);return(0,a.jsxs)(R.m,{className:"min-w-[auto]",disabled:n,trigger:(0,a.jsx)(w.$,{disabled:n,theme:"secondary",size:"sm",leftSlot:(0,a.jsx)(j.ArrowCircleDownIcon,{}),children:"Export"}),children:[l&&(0,a.jsx)(C.t,{label:"Export data as CSV",Icon:O.Download03Icon,disabled:n||!r,onSelect:async()=>{if(!r)return;let e=new Blob(["\uFEFF"+l(i)],{type:"text/csv;charset=utf-8;"}),{saveAs:n}=(await t.e(49473).then(t.t.bind(t,249473,23))).default;n(e,"".concat($(s,null!=o?o:d,r),".csv"))}}),(0,a.jsx)(C.t,{label:"Export data as JSON",Icon:O.Download03Icon,disabled:n||!r,onSelect:async()=>{if(!r)return;let e=new Blob([JSON.stringify(G(i),null,2)],{type:"application/json"}),{saveAs:n}=(await t.e(49473).then(t.t.bind(t,249473,23))).default;n(e,"".concat($(s,null!=o?o:d,r),".json"))}})]})}var W=t(363929),z=t(96427),H=t(903219),Y=t(154431);function Q(){let e=(0,z._)(["\n    fragment AppBuildUsageMetric on AppUsageMetric {\n  id\n  timestamp\n  value\n}\n    "]);return Q=function(){return e},e}function V(){let e=(0,z._)(['\n    query AppEASBuildUsageMetrics($fullName: String!, $granularity: UsageMetricsGranularity!, $timespan: UsageMetricsTimespan!) {\n  app {\n    byFullName(fullName: $fullName) {\n      usageMetrics {\n        __typename\n        MEDIUM_ANDROID_BUILDS: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: $granularity\n          timespan: $timespan\n          filterParams: {platform: "android", billingResourceClass: ["medium"], status: ["finished", "errored"]}\n        ) {\n          ...AppBuildUsageMetric\n        }\n        LARGE_ANDROID_BUILDS: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: $granularity\n          timespan: $timespan\n          filterParams: {platform: "android", billingResourceClass: ["large"], status: ["finished", "errored"]}\n        ) {\n          ...AppBuildUsageMetric\n        }\n        MEDIUM_IOS_BUILDS: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: $granularity\n          timespan: $timespan\n          filterParams: {platform: "ios", billingResourceClass: ["medium"], status: ["finished", "errored"]}\n        ) {\n          ...AppBuildUsageMetric\n        }\n        LARGE_IOS_BUILDS: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: $granularity\n          timespan: $timespan\n          filterParams: {platform: "ios", billingResourceClass: ["large"], status: ["finished", "errored"]}\n        ) {\n          ...AppBuildUsageMetric\n        }\n        ANDROID_BUILDS_TOTAL: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: TOTAL\n          timespan: $timespan\n          filterParams: {platform: "android", status: ["finished", "errored"]}\n        ) {\n          __typename\n          id\n          value\n        }\n        IOS_BUILDS_TOTAL: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: TOTAL\n          timespan: $timespan\n          filterParams: {platform: "ios", status: ["finished", "errored"]}\n        ) {\n          __typename\n          id\n          value\n        }\n      }\n    }\n  }\n}\n    ',""]);return V=function(){return e},e}let q={},Z=(0,H.J1)(Q()),J=(0,H.J1)(V(),Z);function K(){let e=(0,z._)(["\n    fragment BuildUsageMetric on AccountUsageMetric {\n  id\n  timestamp\n  value\n}\n    "]);return K=function(){return e},e}function X(){let e=(0,z._)(['\n    query EASBuildUsageMetrics($accountName: String!, $granularity: UsageMetricsGranularity!, $timespan: UsageMetricsTimespan!) {\n  account {\n    __typename\n    byName(accountName: $accountName) {\n      __typename\n      subscription {\n        planEnablement(serviceMetric: BUILDS) {\n          __typename\n          ... on EASTotalPlanEnablement {\n            total\n          }\n        }\n      }\n      usageMetrics {\n        __typename\n        MEDIUM_ANDROID_BUILDS: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: $granularity\n          timespan: $timespan\n          filterParams: {platform: "android", billingResourceClass: ["medium"], status: ["finished", "errored"]}\n        ) {\n          ...BuildUsageMetric\n        }\n        LARGE_ANDROID_BUILDS: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: $granularity\n          timespan: $timespan\n          filterParams: {platform: "android", billingResourceClass: ["large"], status: ["finished", "errored"]}\n        ) {\n          ...BuildUsageMetric\n        }\n        MEDIUM_IOS_BUILDS: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: $granularity\n          timespan: $timespan\n          filterParams: {platform: "ios", billingResourceClass: ["medium"], status: ["finished", "errored"]}\n        ) {\n          ...BuildUsageMetric\n        }\n        LARGE_IOS_BUILDS: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: $granularity\n          timespan: $timespan\n          filterParams: {platform: "ios", billingResourceClass: ["large"], status: ["finished", "errored"]}\n        ) {\n          ...BuildUsageMetric\n        }\n        ANDROID_BUILDS_TOTAL: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: TOTAL\n          timespan: $timespan\n          filterParams: {platform: "android", status: ["finished", "errored"]}\n        ) {\n          __typename\n          id\n          value\n        }\n        IOS_BUILDS_TOTAL: metricsForServiceMetric(\n          serviceMetric: BUILDS\n          granularity: TOTAL\n          timespan: $timespan\n          filterParams: {platform: "ios", status: ["finished", "errored"]}\n        ) {\n          __typename\n          id\n          value\n        }\n      }\n    }\n  }\n}\n    ',""]);return X=function(){return e},e}let ee={},en=(0,H.J1)(K()),et=(0,H.J1)(X(),en),ea={Android:"#a4c639","Android Medium":"#a4c639","Android Large":"#D1E889",iOS:"#147efb","iOS Medium":"#147efb","iOS Large":"#589BE8"};function er(e){var n,t,u,S,y,v;let{timespan:_,timespanLoading:h}=e,{accountName:b,projectName:L}=(0,g.lT)(g.Iz.LOGGED_IN),[A,U]=(0,m.useState)(!1),[j,O]=(0,m.useState)(0),[w,R]=(0,m.useState)(0),[C,P]=(0,m.useState)(0),[k,$]=(0,m.useState)(),[z,H]=(0,m.useState)({}),[Q,V]=(0,m.useState)(void 0),[Z,K]=(0,m.useState)(void 0),[X,en]=(0,m.useState)("all"),[er,ei]=(0,m.useState)("all"),el=(0,W.m2)(_),{loading:es,error:eo}=function(e){let n={...ee,...e};return Y.IT(et,n)}({variables:{accountName:b,timespan:{start:new Date(null!=(n=null==_?void 0:_.start)?n:Date.now()).toISOString(),end:new Date(null!=(t=null==_?void 0:_.end)?t:Date.now()).toISOString()},granularity:el},skip:!!L||!_,onCompleted:e=>{if(!e)return void U(!0);e.account.byName&&(V(e.account.byName.subscription),K(e.account.byName.usageMetrics),U(!1))}}),{loading:ed,error:eu}=function(e){let n={...q,...e};return Y.IT(J,n)}({variables:{fullName:"@".concat(b,"/").concat(L),timespan:{start:new Date(null!=(u=null==_?void 0:_.start)?u:Date.now()).toISOString(),end:new Date(null!=(S=null==_?void 0:_.end)?S:Date.now()).toISOString()},granularity:el},skip:!L,onCompleted:e=>{if(!e)return void U(!0);e.app.byFullName&&(K(e.app.byFullName.usageMetrics),U(!1))}}),ec=L?ed:es,em=L?eu:eo,ep=em&&A;if((0,m.useEffect)(()=>{if((null==Q?void 0:Q.planEnablement)&&"EASTotalPlanEnablement"===Q.planEnablement.__typename&&P(Q.planEnablement.total),Z){var e,n,t,a;let r=null!=(t=null==(e=Z.ANDROID_BUILDS_TOTAL[0])?void 0:e.value)?t:0,i=null!=(a=null==(n=Z.IOS_BUILDS_TOTAL[0])?void 0:n.value)?a:0;O(r),R(i),H({"Android Medium":(0,W.z7)(Z.MEDIUM_ANDROID_BUILDS),"Android Large":(0,W.z7)(Z.LARGE_ANDROID_BUILDS),"iOS Medium":(0,W.z7)(Z.MEDIUM_IOS_BUILDS),"iOS Large":(0,W.z7)(Z.LARGE_IOS_BUILDS)})}},[Q,Z]),h||!_||ec||ep)return(0,a.jsxs)(x.h,{children:[(0,a.jsx)(f.s,{withDivider:!0,children:(0,a.jsx)(D.N,{title:"EAS Build",icon:(0,a.jsx)(o.BuildIcon,{}),rightSlot:(0,a.jsx)(F,{timespan:_,disabled:!0})})}),(0,a.jsx)(T.O,{error:em,loading:ec||h,description:"There was an error loading usage data. Try refreshing the page.",onClick:()=>{window.location.reload()},buttonText:"Reload",inline:!0})]});let eg=(0,d.F)(_),ef=!(eg.years&&eg.years>0)&&k&&C>0,eD=j+w,eI=(null!=(y=null==Z?void 0:Z.ANDROID_BUILDS_TOTAL[0].value)?y:0)+(null!=(v=null==Z?void 0:Z.IOS_BUILDS_TOTAL[0].value)?v:0),ex=[X!==p.pT.Ios&&er!==p.lm.Large&&"Android Medium",X!==p.pT.Ios&&er!==p.lm.Medium&&"Android Large",X!==p.pT.Android&&er!==p.lm.Large&&"iOS Medium",X!==p.pT.Android&&er!==p.lm.Medium&&"iOS Large"].filter(e=>!1!==e).reduce((e,n)=>({...e,[n]:k?(0,W.PB)(z[n]):z[n]}),{});return(0,a.jsxs)(x.h,{children:[(0,a.jsx)(f.s,{withDivider:!0,children:(0,a.jsx)(D.N,{title:"EAS Build",icon:(0,a.jsx)(o.BuildIcon,{}),rightSlot:(0,a.jsx)(F,{label:"build-usage",timespan:_,disabled:ec||!eI,usageData:Z,csvDataParser:e=>{let n=c()(G(e),["ANDROID_BUILDS_TOTAL","IOS_BUILDS_TOTAL"]);return["Timestamp,Android Medium Builds,Android Large Builds,iOS Medium Builds,iOS Large Builds"].concat(n.MEDIUM_ANDROID_BUILDS.map((e,t)=>{let{timestamp:a,value:r}=e;return[a,r,n.LARGE_ANDROID_BUILDS[t].value,n.MEDIUM_ANDROID_BUILDS[t].value,n.LARGE_IOS_BUILDS[t].value]})).join("\r\n")}})})}),(0,a.jsx)(f.s,{children:(0,a.jsx)(B.h,{stats:[{value:eD.toLocaleString(),label:"Builds"},{value:j.toLocaleString(),label:"Android builds"},{value:w.toLocaleString(),label:"iOS builds"}]})}),eI?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.j,{title:"Builds",className:"text-tertiary"}),(0,a.jsxs)(f.s,{children:[(0,a.jsxs)("div",{className:"mb-6 flex gap-3 max-md-gutters:flex-col",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-1 text-xs font-medium",children:"Platform"}),(0,a.jsx)(E.l,{value:X,options:[{id:"all",label:"All"},{id:p.pT.Android,label:"Android",Icon:l.AndroidIcon},{id:p.pT.Ios,label:"iOS",Icon:s.AppleIcon}],optionsLabel:"Platform",className:"min-w-40",onValueChange:function(e){var n,t;en(e),e===p.pT.Android?R(0):er===p.lm.Medium?R((0,W.n8)(null==Z?void 0:Z.MEDIUM_IOS_BUILDS)):er===p.lm.Large?R((0,W.n8)(null==Z?void 0:Z.LARGE_IOS_BUILDS)):R(null!=(n=null==Z?void 0:Z.IOS_BUILDS_TOTAL[0].value)?n:0),e===p.pT.Ios?O(0):er===p.lm.Medium?O((0,W.n8)(null==Z?void 0:Z.MEDIUM_ANDROID_BUILDS)):er===p.lm.Large?O((0,W.n8)(null==Z?void 0:Z.LARGE_ANDROID_BUILDS)):O(null!=(t=null==Z?void 0:Z.ANDROID_BUILDS_TOTAL[0].value)?t:0)}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-1 text-xs font-medium",children:"Resource Class"}),(0,a.jsx)(E.l,{value:er,options:[{id:"all",label:"All"},{id:p.lm.Medium,label:"Medium"},{id:p.lm.Large,label:"Large"}],optionsLabel:"Resource Class",className:"min-w-40",onValueChange:function(e){var n,t,a,r;if(ei(e),e===p.lm.Large){if(X===p.pT.Android){O((0,W.n8)(null==Z?void 0:Z.LARGE_ANDROID_BUILDS)),R(0);return}if(X===p.pT.Ios){R((0,W.n8)(null==Z?void 0:Z.LARGE_IOS_BUILDS)),O(0);return}O((0,W.n8)(null==Z?void 0:Z.LARGE_ANDROID_BUILDS)),R((0,W.n8)(null==Z?void 0:Z.LARGE_IOS_BUILDS));return}if(e===p.lm.Medium){if(X===p.pT.Android){O((0,W.n8)(null==Z?void 0:Z.MEDIUM_ANDROID_BUILDS)),R(0);return}if(X===p.pT.Ios){R((0,W.n8)(null==Z?void 0:Z.MEDIUM_IOS_BUILDS)),O(0);return}O((0,W.n8)(null==Z?void 0:Z.MEDIUM_ANDROID_BUILDS)),R((0,W.n8)(null==Z?void 0:Z.MEDIUM_IOS_BUILDS));return}return X===p.pT.Android?void O(null!=(n=null==Z?void 0:Z.ANDROID_BUILDS_TOTAL[0].value)?n:0):X===p.pT.Ios?void R(null!=(t=null==Z?void 0:Z.IOS_BUILDS_TOTAL[0].value)?t:0):void(O(null!=(a=null==Z?void 0:Z.ANDROID_BUILDS_TOTAL[0].value)?a:0),R(null!=(r=null==Z?void 0:Z.IOS_BUILDS_TOTAL[0].value)?r:0))}})]}),(0,a.jsxs)("div",{className:(0,r.mergeClasses)("ml-auto flex items-center gap-3","max-md-gutters:ml-0 max-md-gutters:flex-col max-md-gutters:items-start max-md-gutters:gap-1"),children:[(0,a.jsx)("p",{className:"text-xs font-medium",children:"Show cumulative usage"}),(0,a.jsx)(M.d,{value:k,onChange:$})]})]}),(0,a.jsx)(N,{data:ex,barColors:ea,granularity:W.n$[el],timestampFormat:W.Zy[el],yAxisTitle:"Builds count",stacked:!0,...ef&&{annotations:[{type:"line",borderColor:i.palette.light.orange8,borderWidth:2,label:{backgroundColor:i.palette.light.orange9,content:"Included with plan",display:!0,color:i.palette.white,padding:8},scaleID:"y",value:C}]}})]})]}):null]})}var ei=t(512840),el=t(55033),es=t(461616),eo=t(152748);function ed(){let e=(0,z._)(["\n    query AppEASUpdateUsageMetrics($fullName: String!, $granularity: UsageMetricsGranularity!, $timespan: UsageMetricsTimespan!) {\n  app {\n    byFullName(fullName: $fullName) {\n      __typename\n      usageMetrics {\n        __typename\n        BANDWIDTH_USAGE: metricsForServiceMetric(\n          serviceMetric: BANDWIDTH_USAGE\n          granularity: $granularity\n          timespan: $timespan\n        ) {\n          __typename\n          id\n          timestamp\n          value\n        }\n        UNIQUE_UPDATERS: metricsForServiceMetric(\n          serviceMetric: UNIQUE_UPDATERS\n          granularity: $granularity\n          timespan: $timespan\n        ) {\n          __typename\n          id\n          timestamp\n          value\n        }\n        UNIQUE_UPDATERS_TOTAL: metricsForServiceMetric(\n          serviceMetric: UNIQUE_UPDATERS\n          granularity: TOTAL\n          timespan: $timespan\n        ) {\n          __typename\n          id\n          value\n        }\n      }\n    }\n  }\n}\n    "]);return ed=function(){return e},e}let eu={},ec=(0,H.J1)(ed());function em(){let e=(0,z._)(["\n    query EASUpdateUsageMetrics($accountName: String!, $granularity: UsageMetricsGranularity!, $timespan: UsageMetricsTimespan!) {\n  account {\n    __typename\n    byName(accountName: $accountName) {\n      __typename\n      usageMetrics {\n        __typename\n        BANDWIDTH_USAGE: metricsForServiceMetric(\n          serviceMetric: BANDWIDTH_USAGE\n          granularity: $granularity\n          timespan: $timespan\n        ) {\n          __typename\n          id\n          timestamp\n          value\n        }\n        UNIQUE_UPDATERS: metricsForServiceMetric(\n          serviceMetric: UNIQUE_UPDATERS\n          granularity: $granularity\n          timespan: $timespan\n        ) {\n          __typename\n          id\n          timestamp\n          value\n        }\n        UNIQUE_UPDATERS_TOTAL: metricsForServiceMetric(\n          serviceMetric: UNIQUE_UPDATERS\n          granularity: TOTAL\n          timespan: $timespan\n        ) {\n          __typename\n          id\n          value\n        }\n      }\n    }\n  }\n}\n    "]);return em=function(){return e},e}let ep={},eg=(0,H.J1)(em());function ef(e){var n,t,r,i;let{timespan:l,timespanLoading:s}=e,{accountName:o,projectName:d}=(0,g.lT)(g.Iz.LOGGED_IN),[u,p]=(0,m.useState)(void 0),[S,y]=(0,m.useState)(!1),[v,_]=(0,m.useState)(0),[h,b]=(0,m.useState)(0),[A,U]=(0,m.useState)(),[N,E]=(0,m.useState)(),M=(0,W.m2)(l),j=(0,el.k4)("green9"),O=(0,el.k4)("blue10"),{loading:w,error:R}=function(e){let n={...ep,...e};return Y.IT(eg,n)}({variables:{accountName:o,timespan:{start:new Date(null!=(n=null==l?void 0:l.start)?n:Date.now()).toISOString(),end:new Date(null!=(t=null==l?void 0:l.end)?t:Date.now()).toISOString()},granularity:M},skip:!!d||!l,onCompleted:e=>{var n,t;if(!e)return void y(!0);let{usageMetrics:a}=e.account.byName;p(a),U({label:"Monthly active users",data:a.UNIQUE_UPDATERS?a.UNIQUE_UPDATERS.map(e=>({x:e.timestamp,y:e.value})):[],borderColor:j,backgroundColor:j}),b(null!=(t=null==(n=a.UNIQUE_UPDATERS_TOTAL[0])?void 0:n.value)?t:0),E({label:"Bandwidth",data:a.BANDWIDTH_USAGE?a.BANDWIDTH_USAGE.map(e=>({x:e.timestamp,y:e.value/L.$9})):[],borderColor:O,backgroundColor:O}),_(a.BANDWIDTH_USAGE.reduce((e,n)=>e+n.value,0)),y(!1)}}),{loading:C,error:P}=function(e){let n={...eu,...e};return Y.IT(ec,n)}({variables:{fullName:"@".concat(o,"/").concat(d),timespan:{start:new Date(null!=(r=null==l?void 0:l.start)?r:Date.now()).toISOString(),end:new Date(null!=(i=null==l?void 0:l.end)?i:Date.now()).toISOString()},granularity:M},skip:!d||!l,onCompleted:e=>{var n,t;if(!e)return void y(!0);let{usageMetrics:a}=e.app.byFullName;p(a),U({label:"Monthly active users",data:a.UNIQUE_UPDATERS?a.UNIQUE_UPDATERS.map(e=>({x:e.timestamp,y:e.value})):[],borderColor:j,backgroundColor:j}),b(null!=(t=null==(n=a.UNIQUE_UPDATERS_TOTAL[0])?void 0:n.value)?t:0),E({label:"Bandwidth",data:a.BANDWIDTH_USAGE?a.BANDWIDTH_USAGE.map(e=>({x:e.timestamp,y:e.value/L.$9})):[],borderColor:O,backgroundColor:O}),_(a.BANDWIDTH_USAGE.reduce((e,n)=>e+n.value,0)),y(!1)}}),k=d?C:w,$=d?P:R,z=$&&S;return s||!l||k||z?(0,a.jsxs)(x.h,{children:[(0,a.jsx)(f.s,{withDivider:!0,children:(0,a.jsx)(D.N,{title:"EAS Update",icon:(0,a.jsx)(ei.LayersTwo02Icon,{}),rightSlot:(0,a.jsx)(F,{timespan:l,disabled:!0})})}),(0,a.jsx)(T.O,{error:$,loading:k||s,description:"There was an error loading usage data. Try refreshing the page.",onClick:()=>{window.location.reload()},buttonText:"Reload",inline:!0})]}):(0,a.jsxs)(x.h,{children:[(0,a.jsx)(f.s,{withDivider:!0,children:(0,a.jsx)(D.N,{title:"EAS Update",icon:(0,a.jsx)(ei.LayersTwo02Icon,{}),rightSlot:(0,a.jsx)(F,{label:"update-usage",timespan:l,disabled:k||!h&&!v,usageData:u,csvDataParser:e=>{let n=c()(G(e),["UNIQUE_UPDATERS_TOTAL"]);return["Timestamp,Bandwidth,MAUs"].concat(n.BANDWIDTH_USAGE.map((e,t)=>{let{timestamp:a,value:r}=e;return[a,r,n.UNIQUE_UPDATERS[t].value]})).join("\r\n")}})})}),(0,a.jsx)(f.s,{children:(0,a.jsx)(B.h,{stats:[{value:(0,L.ZV)(h),label:(0,es.td)("Monthly active user",h)},{value:"".concat(Math.round(v/L.$9).toLocaleString()," GiB"),label:"Global edge bandwidth"}]})}),h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.j,{title:"Monthly active users",className:"text-tertiary"}),(0,a.jsx)(f.s,{children:(0,a.jsx)(eo.h,{datasets:A?[A]:[],granularity:W.n$[M],timestampFormat:W.Zy[M],yAxisTitle:"MAU",hideLegend:!0})})]}):null,v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.j,{title:"Global edge bandwidth",className:"text-tertiary"}),(0,a.jsx)(f.s,{children:(0,a.jsx)(eo.h,{datasets:N?[N]:[],granularity:W.n$[M],timestampFormat:W.Zy[M],labelFormatter:e=>(0,L.$o)(e.parsed.y*L.$9),yAxisTickFormatter:e=>(0,L.$o)(Number(e)*L.$9),yAxisTitle:"Bandwidth",hideLegend:!0})})]}):null]})}function eD(e){let{isLoading:n,timespan:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-6 pb-12",children:[(0,a.jsx)(ef,{timespan:t,timespanLoading:n}),(0,a.jsx)(er,{timespan:t,timespanLoading:n})]})}},681535:(e,n,t)=>{t.d(n,{s:()=>s});var a=t(637876),r=t(766028),i=t(852367),l=t(414815);function s(e){let{className:n,...t}=e,{selectedAccount:s}=(0,l.w)();return(null==s?void 0:s.isDisabled)?(0,a.jsx)("div",{className:(0,r.mergeClasses)("mx-auto grid w-full max-w-screen-xl-gutters grid-cols-1 items-center px-6 pb-2 pt-8",n),...t,children:(0,a.jsx)(i.p,{type:"warning",title:"Account disabled",className:"rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs",children:["This account has been disabled. Please ",(0,a.jsx)(r.Link,{href:"/contact",children:"contact us"})," if you believe this was in error."]})})}):null}},693118:(e,n,t)=>{t.d(n,{z:()=>o});var a=t(637876),r=t(766028),i=t(346898),l=t(197093),s=t(909275);function o(e){let{title:n,Icon:t,description:o,leftSlot:d,rightSlot:u,bottomSlot:c,helpText:m,className:p,block:g}=e;return(0,a.jsxs)("div",{className:(0,r.mergeClasses)("mx-auto grid w-full max-w-screen-xl-gutters grid-cols-1 items-center gap-4 px-6 pt-8","max-md-gutters:pt-6",p),children:[(0,a.jsxs)("div",{className:(0,r.mergeClasses)("flex items-center justify-between gap-3",!g&&"max-md-gutters:flex-col max-md-gutters:items-start"),children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[d,t&&(0,a.jsx)(t,{className:"icon-xl"}),(0,a.jsx)("h1",{className:"truncate font-semibold heading-xl",children:n}),!!m&&(0,a.jsx)(s.t,{contentClassName:"max-w-[300px]",trigger:(0,a.jsx)(l.$,{theme:"secondary",title:"Additional information",className:"size-6 justify-center rounded-full px-0",children:(0,a.jsx)(i.QuestionMarkIcon,{className:"icon-xs text-icon-secondary"})}),children:"string"==typeof m?(0,a.jsx)("p",{children:m}):m})]}),!!o&&"string"==typeof o&&(0,a.jsx)("p",{className:"text-xs text-secondary",children:o}),o&&"string"!=typeof o?o:null]}),!!u&&(0,a.jsx)("div",{className:"justify-self-end",children:u})]}),c]})}},852367:(e,n,t)=>{t.d(n,{p:()=>o});var a=t(637876),r=t(766028),i=t(890218),l=t(175084),s=t(854485);function o(e){let{title:n,type:t="info",children:o,className:d,...u}=e,c="string"==typeof n?(0,a.jsxs)(a.Fragment,{children:["info"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoCircleSolidIcon,{className:"min-w-[18px]"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:null!=n?n:"Info"})]}),"info-light"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoCircleSolidIcon,{className:"min-w-[18px]"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:null!=n?n:"Info"})]}),"warning"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.AlertTriangleSolidIcon,{className:"min-w-[18px] text-warning"}),(0,a.jsx)("span",{className:"text-sm font-medium text-warning",children:null!=n?n:"Warning"})]}),"error"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.XSquareSolidIcon,{className:"min-w-[18px] text-danger"}),(0,a.jsx)("span",{className:"text-sm font-medium text-danger",children:null!=n?n:"Error"})]}),"primary"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InfoCircleSolidIcon,{className:"min-w-[18px] text-icon-info"}),(0,a.jsx)("span",{className:"text-sm font-medium text-info",children:null!=n?n:"Info"})]})]}):n;return(0,a.jsxs)("div",{className:(0,r.mergeClasses)("flex flex-1 flex-col gap-1.5 rounded-md border border-default bg-subtle p-4 text-default","warning"===t&&"border-warning bg-warning","error"===t&&"border-danger bg-danger","info-light"===t&&"bg-default","primary"===t&&"border-info bg-info",d),...u,children:[!!c&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:c}),o&&"string"==typeof o?(0,a.jsx)("p",{className:"text-xs",children:o}):o]})}},909275:(e,n,t)=>{t.d(n,{t:()=>d});var a=t(637876),r=t(960283),i=t(916455),l=t(197093),s=t(953885),o=t(285746);function d(e){let{children:n,contentClassName:t,trigger:d}=e;return(0,a.jsxs)(i.bL,{children:[(0,a.jsx)(i.l9,{asChild:!0,children:null!=d?d:(0,a.jsx)(l.$,{theme:"quaternary",title:"Additional information",className:"h-7 px-1",children:(0,a.jsx)(r.HelpCircleIcon,{className:"icon-sm text-icon-secondary"})})}),(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.UC,{className:"z-[102] mr-4 mt-1.5 w-[calc(100vw-28px)] max-w-[400px] animate-largeSlideDownAndFadeIn",children:(0,a.jsx)(o.h,{className:"shadow-md",children:(0,a.jsx)(s.s,{size:"header",className:t,children:n})})})})]})}},992437:(e,n,t)=>{t.d(n,{FG:()=>c,Wp:()=>d,lP:()=>p,lR:()=>u,rD:()=>g,wp:()=>m});var a=t(766028),r=t(872994),i=t(58532),l=t(598861),s=t(121182),o=t(588808);let d={CYAN:a.appBackgroundColors.cyan,LIGHT_BLUE:a.appBackgroundColors.lightBlue,DARK_BLUE:a.appBackgroundColors.darkBlue,INDIGO:a.appBackgroundColors.indigo,PURPLE:a.appBackgroundColors.purple,PINK:a.appBackgroundColors.pink,ORANGE:a.appBackgroundColors.orange,GOLD:a.appBackgroundColors.gold,YELLOW:a.appBackgroundColors.yellow,LIME:a.appBackgroundColors.lime,LIGHT_GREEN:a.appBackgroundColors.lightGreen,DARK_GREEN:a.appBackgroundColors.darkGreen},u={RED:"red9",ORANGE:"orange9",YELLOW:"yellow9",GREEN:"green9",BLUE:"blue9",PURPLE:"purple9",PINK:"pink9"},c={padding:r.spacing[3],boxPadding:r.spacing[1],bodySpacing:r.spacing[1],bodyFont:{family:o.regularFont.style.fontFamily,size:14},titleFont:{family:o.regularFont.style.fontFamily,size:14,weight:500},titleMarginBottom:r.spacing[2],footerFont:{family:o.regularFont.style.fontFamily,size:14,weight:500},footerMarginTop:r.spacing[2],usePointStyle:!0},m=(e,n)=>{try{let t=new Date(n[0].parsed.x);if("day"===e)return(0,i.GP)(t,l.WL.dateWithFullMonth);if("hour"===e){let e=new Date(n[0].parsed.x-s.W_);return(0,i.GP)(e,l.WL.timeOfDayMilitary)+"-"+(0,i.GP)(t,l.WL.timeOfDayMilitary)+" "+(0,i.GP)(e,l.WL.dateWithFullMonth)}let a=new Date(n[0].parsed.x-s.Kv);return(0,i.GP)(a,l.WL.timeOfDayMilitary)+"-"+(0,i.GP)(t,l.WL.timeOfDayMilitary)+(0,i.GP)(t,", MMMM yyyy")}catch(e){return"Current period"}};function p(e,n){return"rgb(from ".concat(e," r g b / ").concat(null!=n?n:50,"%)")}let g=2}}]);