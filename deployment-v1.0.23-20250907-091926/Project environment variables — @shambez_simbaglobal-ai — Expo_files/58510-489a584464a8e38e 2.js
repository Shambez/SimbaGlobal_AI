try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="741c18e5-d182-4c77-9b68-42a0692d53a2",e._sentryDebugIdIdentifier="sentry-dbid-741c18e5-d182-4c77-9b68-42a0692d53a2")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18540,25932,58510,59295,97621],{7987:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var r=n(96427),i=n(903219),l=n(764177);function a(){let e=(0,r._)(["\n    mutation DeleteEnvironmentVariable($id: ID!) {\n  environmentVariable {\n    deleteEnvironmentVariable(id: $id) {\n      id\n    }\n  }\n}\n    "]);return a=function(){return e},e}let s={},o=(0,i.J1)(a());function c(e){let t={...s,...e};return l.n(o,t)}},19901:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var r=n(637876),i=n(766028),l=n(685568),a=n(944630),s=n(490073),o=n(197093),c=n(274813);function u(e){let{children:t,className:n,valueToCopy:u,valueToCopyAsync:d,justifyRight:m=!1}=e,x="string"==typeof t,{copiedIsVisible:f,onCopyAsync:h,onCopyDynamicAsync:v}=(0,s.T)(null!=u?u:x?t:""),p=async()=>{if(d){let e=await d();await v(e)}else await h()};return(0,r.jsxs)(r.Fragment,{children:[x?(0,r.jsx)("p",{className:(0,i.mergeClasses)("whitespace-nowrap",n),children:t}):t,(0,r.jsxs)("div",{className:(0,i.mergeClasses)("group relative",m&&"ml-auto pl-1"),children:[(0,r.jsx)(o.$,{leftSlot:(0,r.jsx)(l.ClipboardIcon,{className:"icon-xs text-icon-secondary group-hover:text-icon-default"}),theme:"secondary",size:"xs",className:"h-7 w-[30px] border-secondary group-hover:border-default",onClick:p}),(0,r.jsx)(a.N,{children:f&&(0,r.jsx)(c.m,{className:"absolute right-[44px] top-[calc(50%-14px)]",children:(0,r.jsx)("p",{className:"absolute -right-2 flex h-[28px] items-center rounded-md border border-success bg-success px-2 text-2xs text-success",children:"Copied!"})})})]})]})}},20232:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var r=n(96427);function i(){let e=(0,r._)(["\n    fragment EnvironmentVariableWithSecretData on EnvironmentVariableWithSecret {\n  id\n  name\n  scope\n  value\n  environments\n  createdAt\n}\n    "]);return i=function(){return e},e}let l=(0,n(903219).J1)(i())},39521:(e,t,n)=>{"use strict";n.d(t,{I:()=>j});var r=n(637876),i=n(766028),l=n(310451),a=n(1290),s=n(14232),o=n(376950),c=n(197093),u=n(19901),d=n(549024),m=n(728992),x=n(10369),f=n(11308),h=n(434743),v=n(942021),p=n(184368);let b=(0,s.forwardRef)(function(e,t){let{disabled:n,getVariableWithFileContentAsync:i,fileName:l}=e;return(0,r.jsx)(c.$,{size:"xs",theme:"secondary",className:"h-7 max-w-full",disabled:n,ref:t,onClick:async()=>{if(!n){let e=await i(),t=(0,p.ds)(e);t&&await (0,p.x1)(t,l)}},leftSlot:(0,r.jsx)(v.Download03Icon,{className:"icon-xs"}),children:(0,r.jsx)("div",{className:"max-w-[110px] truncate",children:null!=l?l:"Download"})})});function j(e){let{environmentVariable:{name:t,visibility:n,value:v,type:p,fileName:j},getSecretVariableAsync:g,getVariableWithFileContentAsync:y}=e,[C,N]=(0,s.useState)(),[S,w]=(0,s.useState)(!1);async function E(){var e;let t=await g(),n=null!=(e=null==t?void 0:t.value)?e:"";return N(n),n}if(p===o.II.FileBase64)return n===o.I0.Secret?(0,r.jsxs)(x.s,{children:[(0,r.jsx)(h.k,{asChild:!0,children:(0,r.jsx)("div",{children:(0,r.jsx)(b,{disabled:!0,fileName:null!=j?j:t})})}),(0,r.jsx)(m.Z,{className:"w-72",side:"bottom",children:(0,r.jsx)(f.L,{children:"The Secret type file environment variables can't be downloaded and accessed outside of EAS servers."})})]}):(0,r.jsx)(b,{getVariableWithFileContentAsync:y,fileName:null!=j?j:t});if(v&&n===o.I0.Public)return(0,r.jsx)(u.K,{valueToCopy:v,justifyRight:!0,children:(0,r.jsx)(d.k,{className:"inline-block items-center truncate py-[3px]",children:v})});if(n===o.I0.Secret)return(0,r.jsxs)(x.s,{children:[(0,r.jsx)(h.k,{children:(0,r.jsx)(d.k,{className:"text-3xs",children:"∗∗∗∗∗∗∗∗"})}),(0,r.jsx)(m.Z,{className:"w-72",side:"bottom",children:(0,r.jsx)(f.L,{className:"text-left",children:"The value of a secret environment variable can't be accessed outside of EAS servers."})})]});let I=S?a.EyeOffIcon:l.EyeIcon;return(0,r.jsxs)(u.K,{valueToCopyAsync:E,children:[(0,r.jsx)(d.k,{className:(0,i.mergeClasses)("inline-block items-center truncate py-[3px]",!S&&"text-3xs"),children:S?C:"∗∗∗∗∗∗∗∗"}),(0,r.jsxs)(x.s,{children:[(0,r.jsx)(h.k,{asChild:!0,children:(0,r.jsx)(c.$,{size:"xs",theme:"secondary",className:"ml-auto mr-1 h-7 min-w-[30px] border-secondary",onClick:async()=>{await E(),w(!S)},leftSlot:(0,r.jsx)(I,{className:"icon-sm text-icon-secondary hocus:text-icon-default"})})}),(0,r.jsx)(m.Z,{side:"bottom",children:(0,r.jsx)("p",{className:"text-2xs",children:S?"Hide value":"Show value"})})]})]})}},49355:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(637876),i=n(766028);function l(e){let{children:t,className:n,...l}=e;return(0,r.jsx)("p",{...l,className:(0,i.mergeClasses)("inline-block truncate whitespace-nowrap text-2xs font-medium text-tertiary",n),children:t})}},61966:(e,t,n)=>{"use strict";n.d(t,{B4:()=>d,Zf:()=>u});var r=n(96427),i=n(903219),l=n(20232),a=n(678248);function s(){let e=(0,r._)(["\n    query GetAccountSensitiveEnvironmentVariables($accountName: String!, $filterNames: [String!], $environment: EnvironmentVariableEnvironment, $includeFileContent: Boolean = false) {\n  account {\n    byName(accountName: $accountName) {\n      id\n      environmentVariablesIncludingSensitive(\n        filterNames: $filterNames\n        environment: $environment\n      ) {\n        ...EnvironmentVariableWithSecretData\n        valueWithFileContent: value(includeFileContent: $includeFileContent) @include(if: $includeFileContent)\n      }\n    }\n  }\n}\n    ",""]);return s=function(){return e},e}let o={},c=(0,i.J1)(s(),l.c);function u(e){let t={...o,...e};return a._(c,t)}function d(e){return{query:c,variables:e}}},70393:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(637876),i=n(778944),l=n(14232),a=n(217948),s=n(333333);function o(e){let{title:t,cancelButtonLabel:n,confirmButtonLabel:i,destructive:o,message:c,resolve:u,unmount:d}=e,[m,x]=(0,l.useState)(!0);return(0,r.jsx)(s.K,{isOpen:m,title:t,cancelButtonLabel:n,confirmButtonLabel:i,destructive:o,onCancel:()=>{x(!1),setTimeout(d,a.x),u(!1)},onConfirm:()=>{x(!1),setTimeout(d,a.x),u(!0)},children:"string"==typeof c?(0,r.jsx)("p",{children:c}):c})}function c(e){let{title:t,cancelButtonLabel:n,confirmButtonLabel:l,destructive:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(s){let c=document.createElement("div");document.body.appendChild(c);let u=(0,i.createRoot)(c);u.render((0,r.jsx)(o,{message:e,title:t,cancelButtonLabel:n,confirmButtonLabel:l,destructive:a,resolve:s,unmount:function(){document.body.removeChild(c),u.unmount()}}))})}},107304:(e,t,n)=>{"use strict";n.d(t,{o:()=>d});var r=n(637876),i=n(960283),l=n(141278),a=n(49355),s=n(728992),o=n(10369),c=n(434743),u=n(814631);function d(){return(0,r.jsxs)(l.M,{className:"gap-2",children:[(0,r.jsx)(a.z,{children:"Visibility"}),(0,r.jsxs)(o.s,{children:[(0,r.jsx)(c.k,{children:(0,r.jsx)(i.HelpCircleIcon,{className:"icon-sm text-icon-tertiary"})}),(0,r.jsx)(s.Z,{className:"max-w-[288px] gap-1.5 px-3 py-2",children:u.$.map(e=>{let{name:t,description:n,Icon:i}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"inline-flex items-center gap-2 text-xs",children:[(0,r.jsx)(i,{className:"icon-sm"}),t]}),(0,r.jsx)("p",{className:"mb-1 text-2xs text-secondary",children:n})]},t)})})]})]})}},122104:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,Sq:()=>o});var r,i=n(637876),l=n(766028),a=n(14232),s=n(789686);let o=(r=(0,l.mergeClasses)("text-2xs font-normal leading-[130%]","inline-block rounded-md border border-secondary bg-subtle px-1 py-0.5"),(0,a.forwardRef)(function(e,t){let{className:n,children:a,...s}=e;return(0,i.jsx)("code",{className:(0,l.mergeClasses)("text-inherit text-default",r,n),ref:t,...s,children:a})}));function c(e){let{className:t,...n}=e;return(0,i.jsx)(s.o,{className:(0,l.mergeClasses)("cursor-pointer decoration-0 transition-opacity hocus:opacity-80",t),...n})}},127760:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(637876);function i(){return(0,r.jsxs)("svg",{width:"233",height:"151",viewBox:"0 0 233 151",fill:"none",className:"stroke-palette-gray6",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M56.501 14.2547V141.255"}),(0,r.jsx)("path",{d:"M84.002 14.2547V141.255"}),(0,r.jsx)("path",{d:"M111.504 14.2547V141.255"}),(0,r.jsx)("path",{d:"M139.005 14.2547V141.255"}),(0,r.jsx)("path",{d:"M166.506 14.2547V141.255"}),(0,r.jsx)("path",{d:"M40.8926 77.7548L182.108 77.7548"}),(0,r.jsx)("path",{d:"M40.8926 52.588L182.108 52.588"}),(0,r.jsx)("path",{d:"M40.8926 102.921L182.108 102.921"}),(0,r.jsx)("path",{d:"M40.8926 128.088H182.108"}),(0,r.jsx)("path",{d:"M40.8926 27.4214L182.108 27.4214"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{x1:"116.5",y1:"6.10352e-05",x2:"116.5",y2:"151",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,r.jsx)("stop",{offset:"1",stopColor:"white"})]})})]})}},141278:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(637876),i=n(766028),l=n(14232),a=n(254218);function s(e){var t;let{children:n,hideOnMobile:s,interactive:o,className:c,...u}=e,d=null!=(t=(0,l.useContext)(a.B).theme)?t:"primary";return(0,r.jsx)("div",{...u,className:(0,i.mergeClasses)("flex min-h-[38px] items-center gap-1 border-secondary px-4","secondary"===d&&"bg-subtle",s&&"flex max-md-gutters:hidden",o&&"m-1 min-h-[30px] truncate rounded-md px-3 py-1 hocus:bg-element",c),children:n})}},217948:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});let r=150},254218:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,B:()=>i});var r=n(637876);let i=(0,n(14232).createContext)({});function l(e){let{theme:t,children:n}=e;return(0,r.jsx)(i.Provider,{value:{theme:t},children:n})}},274813:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var r=n(637876),i=n(182172);function l(e){let{children:t,...n}=e;return(0,r.jsx)(i.P.div,{initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.85},transition:{duration:.15},...n,children:t})}},286485:(e,t,n)=>{"use strict";n.d(t,{$f:()=>m,HE:()=>d,Zv:()=>x});var r=n(96427),i=n(903219),l=n(881696),a=n(154431),s=n(678248);function o(){let e=(0,r._)(["\n    query GetAccountEnvironmentVariables($accountName: String!, $includeFileContent: Boolean = false, $filterNames: [String!]) {\n  account {\n    byName(accountName: $accountName) {\n      id\n      environmentVariables(filterNames: $filterNames) {\n        ...EnvironmentVariableData\n        valueWithFileContent: value(includeFileContent: $includeFileContent) @include(if: $includeFileContent)\n      }\n    }\n  }\n}\n    ",""]);return o=function(){return e},e}let c={},u=(0,i.J1)(o(),l.c);function d(e){let t={...c,...e};return a.IT(u,t)}function m(e){let t={...c,...e};return s._(u,t)}function x(e){return{query:u,variables:e}}},303861:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(637876),i=n(14232),l=n(49903),a=function(e){return e[e.CHECKED=0]="CHECKED",e[e.UNCHECKED=1]="UNCHECKED",e[e.DESELECT=2]="DESELECT",e}(a||{});function s(e){let{environmentVariables:t,selectedVariables:n,setSelectedVariables:a}=e,[s,o]=(0,i.useState)(1);(0,i.useEffect)(()=>{n.length>0&&n.length<t.length&&o(2)},[n]);let c=()=>{0!==t.length&&(1===s?(a(t),o(0)):(a([]),o(1)))};return 0===n.length?(0,r.jsx)(l.S,{checked:!1,onChange:c}):n.length===t.length?(0,r.jsx)(l.S,{checked:!0,onChange:c}):(0,r.jsxs)("div",{className:"relative text-palette-gray8 hocus:cursor-pointer hocus:border-palette-blue10 hocus:text-palette-blue10",children:[(0,r.jsx)(l.S,{checked:!1,onChange:c}),(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("line",{x1:"8",y1:"12",x2:"17",y2:"12",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})})})]})}},311419:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(637876),i=n(14232);function l(e){let{children:t,name:n}=e;return(0,r.jsx)("div",{className:"grid flex-1 grid-flow-row gap-2",children:i.Children.map(t,e=>(0,i.isValidElement)(e)?(0,i.cloneElement)(e,{name:n}):e)})}},333333:(e,t,n)=>{"use strict";n.d(t,{K:()=>m});var r=n(637876),i=n(766028),l=n(982457),a=n(197093),s=n(700806),o=n(500723),c=n(125050),u=n(515479),d=n(360203);function m(e){let{children:t,title:n,cancelButtonLabel:m,confirmButtonLabel:x,destructive:f=!1,onCancel:h,isOpen:v,onConfirm:p,status:b,className:j}=e;return(0,r.jsx)(u.D,{open:v,onOpenChange:h,children:(0,r.jsxs)(s.C,{className:(0,i.mergeClasses)("border border-default",j),children:[n?(0,r.jsx)(d.L,{title:n}):(0,r.jsx)(l.s6,{asChild:!0,children:(0,r.jsx)(d.L,{title:"Confirmation dialog"})}),(0,r.jsx)(o.d,{children:t}),(0,r.jsxs)(c.E,{children:[h&&(0,r.jsx)(a.$,{testID:"modal-cancel-button",size:"sm",theme:"quaternary",onClick:h,children:null!=m?m:"Cancel"}),(0,r.jsx)(a.$,{testID:"confirmButton",size:"sm",theme:f?"primary-destructive":"primary",onClick:p,status:b,children:null!=x?x:"Confirm"})]})]})})}},361268:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var r=n(58532),i=n(425096),l=n(598861),a=n(121182);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.WL.date,n=new Date(e);return Date.now()-n.getTime()<a.sM?(0,i.m)(n,{addSuffix:!0}):(0,r.GP)(n,t)}},368469:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var r=n(637876),i=n(530768),l=n(1290),a=n(478998),s=n(376950);function o(e){let{environmentVariable:t}=e;switch(t.visibility){case s.I0.Sensitive:return(0,r.jsxs)("div",{className:"inline-flex items-center gap-1.5",children:[(0,r.jsx)(l.EyeOffIcon,{className:"icon-sm"}),(0,r.jsx)("p",{className:"whitespace-nowrap text-xs",children:"Sensitive"})]});case s.I0.Secret:return(0,r.jsxs)("div",{className:"inline-flex items-center gap-1.5",children:[(0,r.jsx)(a.Key01Icon,{className:"icon-sm"}),(0,r.jsx)("p",{className:"whitespace-nowrap text-xs",children:"Secret"})]});default:return(0,r.jsxs)("div",{className:"inline-flex items-center gap-1.5",children:[(0,r.jsx)(i.TextSecretTypeIcon,{className:"icon-sm"}),(0,r.jsx)("p",{className:"whitespace-nowrap text-xs",children:"Plain text"})]})}}},390303:(e,t,n)=>{"use strict";n.d(t,{m:()=>p});var r=n(637876),i=n(58532),l=n(598861),a=n(361268),s=n(523805),o=n(728992),c=n(10369),u=n(11308),d=n(434743),m=n(518540),x=n(425932),f=n(376950),h=n(976453);function v(e){let{environmentVariable:t}=e,n=t.isGlobal,i=t.visibility===f.I0.Secret&&t.name.startsWith("EXPO_PUBLIC_");return(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)(h.v,{theme:"blue",size:"xs",title:"Global",Icon:m.Earth02Icon}),i&&(0,r.jsx)(h.v,{theme:"yellow",size:"xs",title:"Attention",Icon:x.ShieldOffIcon})]})}function p(e){let{environmentVariable:t}=e,{name:n,updatedAt:m,createdAt:x}=t;return(0,r.jsxs)(s.n,{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"truncate text-xs",children:n}),(0,r.jsx)(v,{environmentVariable:t})]}),(0,r.jsxs)(c.s,{children:[(0,r.jsx)(d.k,{className:"flex gap-3 truncate !outline-offset-[-3px]",children:(0,r.jsx)("p",{className:"text-2xs text-secondary",children:(0,a.$)(m)})}),(0,r.jsx)(o.Z,{side:"bottom",align:"start",children:(0,r.jsxs)(u.L,{className:"text-left",children:["Created ",(0,i.GP)(x,l.WL.timestamp),m!==x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),"Updated ",(0,i.GP)(m,l.WL.timestamp)]})]})})]})]})}},390429:(e,t,n)=>{"use strict";n.d(t,{y:()=>_});var r=n(637876),i=n(286485),l=n(61966),a=n(634101),s=n(663086),o=n(376950),c=n(21417),u=n(14232),d=n(759935),m=n(211612),x=n(96427),f=n(903219),h=n(881696),v=n(764177);function p(){let e=(0,x._)(["\n    mutation UpdateEnvironmentVariable($input: UpdateEnvironmentVariableInput!) {\n  environmentVariable {\n    updateEnvironmentVariable(environmentVariableData: $input) {\n      ...EnvironmentVariableData\n    }\n  }\n}\n    ",""]);return p=function(){return e},e}let b={},j=(0,f.J1)(p(),h.c);function g(e){let t={...b,...e};return v.n(j,t)}var y=n(852367);function C(){return(0,r.jsx)(y.p,{title:"Secret variables can not be edited",children:"Name and value of this variable can't be edited. To change it, delete this variable and create a new one with different visibility."})}var N=n(953885),S=n(700806),w=n(500723),E=n(515479),I=n(360203),L=n(130514),k=n(634306),V=n(11867),O=n(206972),D=n(923333),T=n(71215),F=n(149615),$=n(750349),B=n(827267);function P(e){var t,n,i;let{environmentVariable:l,onRequestClose:x,fullName:f,isOpen:h,setIsOpen:v,getVariableWithFileContentAsync:p,getSecretVariableAsync:b}=e,[j,y]=(0,u.useState)(D.X.IDLE),[P,A]=(0,u.useState)({errorSet:!1}),[_,M]=(0,u.useState)(l.visibility),[R,U]=(0,u.useState)(null),[z,X]=(0,u.useState)(null!=(t=l.value)?t:""),W=_===o.I0.Secret?m.Sb:m.m7;async function J(){if(!z&&l.visibility===o.I0.Sensitive){var e;let t=null==(e=await b())?void 0:e.value;X(null!=t?t:"")}}(0,u.useEffect)(()=>{J()},[]);let q=null!=(n=l.environments)?n:[],G=l.id,H=l.visibility===o.I0.Secret,K=!H,Z=l.type===o.II.FileBase64?null!=(i=l.fileName)?i:l.name:void 0,[Q]=g({refetchQueries:_===o.I0.Sensitive?[(0,a.pT)({fullName:f}),(0,s.Bc)({fullName:f,filterNames:[l.name]})]:[(0,a.pT)({fullName:f})],awaitRefetchQueries:!0});async function Y(e){let{name:t,value:n,...r}=(0,L.Rx)(e),i=[];for(let e of Object.values(o.To))r[e]&&i.push(e);t=t.trim(),n&&(n.trim&&(n=n.trim()),0===n.length&&(n=void 0));let l=(0,m.BF)({name:t,value:null!=R?R:n,visibility:_,environments:i});if(A(l),l.errorSet)return;R&&(n=await (0,d.z)(R));let a=n?R?o.II.FileBase64:o.II.String:void 0;y(D.X.LOADING);try{var s;await Q({variables:{input:{id:G,name:t,value:n,environments:i,visibility:_,type:a,fileName:null!=(s=null==R?void 0:R.name)?s:Z}}}),y(D.X.IDLE),x()}catch(t){let e=t.message;A({...P,formError:e}),y(D.X.IDLE)}}return(0,r.jsx)(E.D,{open:h,onOpenChange:()=>{v(!h)},children:(0,r.jsx)(S.C,{children:(0,r.jsxs)(L.lV,{onSubmit:Y,disabled:j!==D.X.IDLE,children:[(0,r.jsx)(I.L,{title:"Edit variable",icon:(0,r.jsx)(c.BracketsXIcon,{})}),(0,r.jsxs)(w.d,{className:"max-h-[calc(90vh-130px)] gap-0 p-0",children:[(0,r.jsxs)(N.s,{className:"flex flex-col gap-4",withDivider:!0,children:[H&&(0,r.jsx)(C,{}),(0,r.jsx)(O.g,{htmlFor:"Name",title:"Name",children:(0,r.jsx)("div",{className:"flex flex-1 flex-col gap-4 p-0.5",children:(0,r.jsx)(T.p,{id:"name",error:P.name,defaultValue:l.name,className:"h-12",readOnly:!K})})}),K&&(0,r.jsx)(O.g,{htmlFor:"value",title:"Value",children:(0,r.jsx)(B.w,{inline:!0,maxFileSize:W,error:P.value,fileName:Z,getVariableWithFileContentAsync:p,handleFileUpload:e=>{U(e)},children:(0,r.jsx)(T.p,{id:"value",error:P.value,className:"h-12",defaultValue:z})})})]}),(0,r.jsx)(N.s,{withDivider:!0,children:(0,r.jsx)(O.g,{htmlFor:"visibility",title:"Visibility",children:(0,r.jsx)($.N,{visibility:_,setVisibility:M,isSecret:H,error:P.visibility})})}),(0,r.jsxs)(N.s,{children:[(0,r.jsx)(O.g,{title:"Environment",children:(0,r.jsx)(F.P,{name:"environments",environments:q,environmentError:P.environments,onChange:()=>{A({...P,environments:void 0})}})}),(0,r.jsx)(k.j,{error:P.formError})]})]}),(0,r.jsx)(V.I,{className:"!border-x-0 !border-b-0",formState:j,submitButtonText:"Save",formError:P.formError})]})})})}function A(e){var t,n,a;let{environmentVariable:s,onRequestClose:x,accountName:f,isOpen:h,setIsOpen:v,getVariableWithFileContentAsync:p,getSecretVariableAsync:b}=e,[j,y]=(0,u.useState)(D.X.IDLE),[P,A]=(0,u.useState)({errorSet:!1}),[_,M]=(0,u.useState)(s.visibility),[R,U]=(0,u.useState)(null),[z,X]=(0,u.useState)(null!=(t=s.value)?t:"");async function W(){if(!z&&s.visibility===o.I0.Sensitive){var e;let t=null==(e=await b())?void 0:e.value;X(null!=t?t:"")}}(0,u.useEffect)(()=>{W()},[]);let J=s.id,q=s.type===o.II.FileBase64?null!=(n=s.fileName)?n:s.name:void 0,G=s.visibility===o.I0.Secret,H=!G,K=_===o.I0.Secret?m.Sb:m.m7,[Z]=g({refetchQueries:_===o.I0.Sensitive?[(0,i.Zv)({accountName:f}),(0,l.B4)({accountName:f,filterNames:[s.name]})]:[(0,i.Zv)({accountName:f})],awaitRefetchQueries:!0});async function Q(e){let{name:t,value:n,...r}=(0,L.Rx)(e);t=t.trim(),n&&(n.trim&&(n=n.trim()),0===n.length&&(n=void 0));let i=[];for(let e of Object.values(o.To))r[e]&&i.push(e);let l=(0,m.BF)({name:t,value:null!=R?R:n,visibility:_,environments:i});if(A(l),l.errorSet)return;R&&(n=await (0,d.z)(R));let a=n?R?o.II.FileBase64:o.II.String:void 0;y(D.X.LOADING);try{var c;await Z({variables:{input:{id:J,name:t,value:n,visibility:_,environments:i,type:a,isGlobal:s.isGlobal,fileName:null!=(c=null==R?void 0:R.name)?c:q}}}),y(D.X.IDLE),x()}catch(n){let e=n.message;e.includes('duplicate key value violates unique constraint "environment_variables_app_id_name_key"')&&(e='A variable with name: "'.concat(t,'" already exists for this app.')),A({errorSet:!0,formError:e}),y(D.X.IDLE)}}return(0,r.jsx)(E.D,{open:h,onOpenChange:()=>{v(!h)},children:(0,r.jsx)(S.C,{children:(0,r.jsxs)(L.lV,{onSubmit:Q,disabled:j!==D.X.IDLE,children:[(0,r.jsx)(I.L,{title:"Edit variable",icon:(0,r.jsx)(c.BracketsXIcon,{})}),(0,r.jsxs)(w.d,{className:"max-h-[calc(90vh-130px)] gap-0 p-0",children:[(0,r.jsxs)(N.s,{className:"flex flex-col gap-4",withDivider:!0,children:[G&&(0,r.jsx)(C,{}),(0,r.jsx)(O.g,{htmlFor:"Name",title:"Name",children:(0,r.jsx)("div",{className:"flex flex-1 flex-col gap-4 p-0.5",children:(0,r.jsx)(T.p,{id:"name",className:"h-12",error:P.name,readOnly:!H,defaultValue:s.name})})}),H&&(0,r.jsx)(O.g,{htmlFor:"value",title:"Value",className:"gap-0",children:(0,r.jsx)(B.w,{inline:!0,maxFileSize:K,error:P.value,fileName:q,getVariableWithFileContentAsync:p,handleFileUpload:e=>{U(e)},children:(0,r.jsx)(T.p,{id:"value",className:"h-12",error:P.value,defaultValue:z,readOnly:!H})})})]}),(0,r.jsx)(N.s,{withDivider:!0,children:(0,r.jsx)(O.g,{htmlFor:"visibility",title:"Visibility",children:(0,r.jsx)($.N,{visibility:_,setVisibility:M,isSecret:G,error:P.visibility})})}),(0,r.jsx)(N.s,{children:(0,r.jsx)(O.g,{title:"Environment",children:(0,r.jsx)(F.P,{name:"environments",environments:null!=(a=s.environments)?a:[],environmentError:P.environments,onChange:()=>{A(e=>({...e,environment:void 0}))}})})}),P.formError&&(0,r.jsx)(N.s,{children:(0,r.jsx)(k.j,{error:P.formError})})]}),(0,r.jsx)(V.I,{className:"border-x-0 border-b-0",formState:j,submitButtonText:"Save",secondaryButtonText:"Cancel",secondaryButtonOnClick:x,formError:P.formError})]})})})}function _(e){let t,n,{scope:c,accountName:u,fullName:d,environmentVariable:m,isOpen:x,setIsOpen:f,onRequestClose:h}=e,{name:v,id:p,visibility:b}=m,[j]=(0,l.Zf)(),[g]=(0,i.$f)(),[y]=(0,s.rw)(),[C]=(0,a.hy)();return(c===o.ml.Shared?(n=async()=>{var e;let{data:t}=await j({variables:{accountName:u,filterNames:[v],includeFileContent:!0}});return null!=(e=null==t?void 0:t.account.byName.environmentVariablesIncludingSensitive.find(e=>e.id===p))?e:null},t=async()=>{let{data:e}=await g({variables:{accountName:u,filterNames:[v],includeFileContent:!0},fetchPolicy:"no-cache"}),t=null==e?void 0:e.account.byName.environmentVariables.find(e=>e.id===p);return null!=t?t:null}):(n=async()=>{var e;let{data:t}=await y({variables:{fullName:d,filterNames:[v],includeFileContent:!0},fetchPolicy:"no-cache"});return null!=(e=null==t?void 0:t.app.byFullName.environmentVariablesIncludingSensitive.find(e=>e.id===p))?e:null},t=async()=>{let{data:e}=await C({variables:{fullName:d,filterNames:[v],includeFileContent:!0},fetchPolicy:"no-cache"}),t=null==e?void 0:e.app.byFullName.environmentVariables.find(e=>e.id===p);return null!=t?t:null}),c===o.ml.Shared)?(0,r.jsx)(A,{onRequestClose:h,accountName:u,environmentVariable:m,isOpen:x,setIsOpen:f,getSecretVariableAsync:()=>n(),getVariableWithFileContentAsync:()=>b===o.I0.Public?t():n()}):(0,r.jsx)(P,{onRequestClose:h,fullName:d,environmentVariable:m,isOpen:x,setIsOpen:f,getSecretVariableAsync:()=>n(),getVariableWithFileContentAsync:()=>b===o.I0.Public?t():n()})}},395661:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var r=n(637876),i=n(766028),l=n(111431),a=n.n(l);function s(e){let{children:t,columnCount:n,theme:l="default",className:s,rootClassName:o,gridTemplateColumns:c,mobileCompactMode:u,...d}=e,m=null==c?void 0:c.filter(Boolean);return a()(!m||n===(null==m?void 0:m.length),"columnCount must have the same length as gridTemplateColumns."),(0,r.jsx)("div",{className:(0,i.mergeClasses)("flex flex-row","default"===l&&"rounded-lg border border-default bg-default shadow-xs","[&_a]:outline-offset-[-3px]",o),children:(0,r.jsx)("div",{...d,className:(0,i.mergeClasses)("grid w-0 flex-1 flex-col items-center overflow-x-auto",u&&"max-md-gutters:flex max-md-gutters:items-start",!m&&function(e){switch(e){case 1:return"grid-cols-auto-min-1";case 2:return"grid-cols-auto-min-2";case 3:return"grid-cols-auto-min-3";case 4:return"grid-cols-auto-min-4";case 5:return"grid-cols-auto-min-5";case 6:return"grid-cols-auto-min-6";case 7:return"grid-cols-auto-min-7";case 8:return"grid-cols-auto-min-8";default:return console.warn("Only 8 columns are supported."),"grid-cols-auto-min-1"}}(n),s),style:m?{gridTemplateColumns:m.map(e=>"object"==typeof e?"minmax(".concat(e.min,", ").concat(e.max,")"):e).join(" ")}:void 0,children:t})})}},425932:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});let r=n(14232),i=n(271894),l=function(e){let t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(let n in e)if("default"!==n){let r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}(r);function a({className:e,...t}){let n=i.mergeClasses("icon-md text-icon-default translate-z shrink-0",e);return l.createElement("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:n,role:"img",...t},l.createElement("g",{id:"shield-off-outline-icon"},l.createElement("path",{id:"Icon",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.80868 3.19661L11.4382 2.21054C11.6461 2.13258 11.75 2.0936 11.857 2.07815C11.9518 2.06444 12.0482 2.06444 12.143 2.07815C12.25 2.0936 12.3539 2.13258 12.5618 2.21054L17.9236 4.22122C18.6722 4.50195 19.0465 4.64231 19.3223 4.8854C19.566 5.10015 19.7537 5.37101 19.8692 5.67457C20 6.0182 20 6.41796 20 7.21747V11.9999C20 12.7202 19.8847 13.4117 19.6818 14.0708M17.6219 17.6255C15.9362 19.5859 13.7879 20.9788 12.6996 21.6138C12.4772 21.7436 12.366 21.8085 12.2098 21.842C12.0885 21.868 11.9116 21.868 11.7904 21.842C11.6341 21.8085 11.5234 21.7439 11.302 21.6147C9.35396 20.4783 4 16.9083 4 11.9999V5.77618C4 5.30923 4.28966 4.89125 4.72688 4.72729M3 2.99987L21 20.9999"})))}a.displayName="ShieldOffIcon",t.ShieldOffIcon=a},490073:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(14232);function i(e){let[t,i]=(0,r.useState)(!1);async function l(){let r=(await n.e(71507).then(n.t.bind(n,171507,23))).default;await r(e),t||(i(!0),setTimeout(()=>{i(!1)},1500))}async function a(r){let l=(await n.e(71507).then(n.t.bind(n,171507,23))).default;await l(null!=r?r:e),t||(i(!0),setTimeout(()=>{i(!1)},1500))}return{copiedIsVisible:t,onCopyAsync:l,onCopyDynamicAsync:a}}},495456:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(637876),i=n(766028),l=n(41116);function a(e){let{children:t,className:n}=e;return(0,r.jsx)(l.JU,{className:(0,i.mergeClasses)("px-2",n),children:"string"==typeof t?(0,r.jsx)("p",{className:"text-2xs font-medium text-tertiary",children:t}):t})}},518540:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});let r=n(14232),i=n(271894),l=function(e){let t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(let n in e)if("default"!==n){let r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}(r);function a({className:e,...t}){let n=i.mergeClasses("icon-md text-icon-default translate-z shrink-0",e);return l.createElement("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:n,role:"img",...t},l.createElement("g",{id:"earth-02-outline-icon"},l.createElement("path",{id:"Icon",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2C14.5013 4.73835 15.9228 8.29203 16 12C15.9228 15.708 14.5013 19.2616 12 22M12 2C9.49872 4.73835 8.07725 8.29203 8 12C8.07725 15.708 9.49872 19.2616 12 22M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22M2.50002 9H21.5M2.5 15H21.5"})))}a.displayName="Earth02Icon",t.Earth02Icon=a},523805:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(637876),i=n(766028);function l(e){let{children:t,theme:n="default",className:l,mobilePrimaryCell:a,hideOnMobile:s,isActivityView:o,...c}=e;return(0,r.jsx)("div",{...c,className:(0,i.mergeClasses)("text-default",s?"flex max-md-gutters:hidden":"flex","default"===n&&"px-4 py-2","interactive"===n&&"m-1 truncate rounded-md px-3 py-1 hocus:bg-element",a&&"interactive"===n&&"m-1 rounded-md px-3 py-1 max-md-gutters:m-0 max-md-gutters:py-3",a&&"interactive"===n&&!o&&"max-md-gutters:rounded-none",a&&"max-md-gutters:w-full",o&&"max-md-gutters:rounded-b-md max-md-gutters:rounded-t-none",l),children:t})}},527340:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var r=n(14232),i=n(298947),l=n(185056);function a(){l.r.current||(0,i.U)();let[e]=(0,r.useState)(l.O.current);return e}},549024:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var r=n(637876),i=n(766028);function l(e){let{children:t,className:n,testID:l,title:a,...s}=e;return(0,r.jsx)("p",{"data-testid":l,title:a,className:(0,i.mergeClasses)("text-xs",n),...s,children:t})}},559295:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});let r=n(14232),i=n(271894),l=function(e){let t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(let n in e)if("default"!==n){let r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}(r);function a({className:e,...t}){let n=i.mergeClasses("icon-md text-icon-default translate-z shrink-0",e);return l.createElement("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:n,role:"img",...t},l.createElement("g",{id:"edit-05-outline-icon"},l.createElement("path",{id:"Icon",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.99998H6.8C5.11984 3.99998 4.27976 3.99998 3.63803 4.32696C3.07354 4.61458 2.6146 5.07353 2.32698 5.63801C2 6.27975 2 7.11983 2 8.79998V17.2C2 18.8801 2 19.7202 2.32698 20.362C2.6146 20.9264 3.07354 21.3854 3.63803 21.673C4.27976 22 5.11984 22 6.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9264 19.673 20.362C20 19.7202 20 18.8801 20 17.2V13M7.99997 16H9.67452C10.1637 16 10.4083 16 10.6385 15.9447C10.8425 15.8957 11.0376 15.8149 11.2166 15.7053C11.4184 15.5816 11.5914 15.4086 11.9373 15.0627L21.5 5.49998C22.3284 4.67156 22.3284 3.32841 21.5 2.49998C20.6716 1.67156 19.3284 1.67155 18.5 2.49998L8.93723 12.0627C8.59133 12.4086 8.41838 12.5816 8.29469 12.7834C8.18504 12.9624 8.10423 13.1574 8.05523 13.3615C7.99997 13.5917 7.99997 13.8363 7.99997 14.3255V16Z"})))}a.displayName="Edit05Icon",t.Edit05Icon=a},634101:(e,t,n)=>{"use strict";n.d(t,{Tg:()=>d,hy:()=>m,pT:()=>x});var r=n(96427),i=n(903219),l=n(881696),a=n(154431),s=n(678248);function o(){let e=(0,r._)(["\n    query GetAppEnvironmentVariables($fullName: String!, $environment: EnvironmentVariableEnvironment, $filterNames: [String!], $includeFileContent: Boolean = false) {\n  app {\n    byFullName(fullName: $fullName) {\n      id\n      environmentVariables(environment: $environment, filterNames: $filterNames) {\n        ...EnvironmentVariableData\n        linkedEnvironments(appFullName: $fullName)\n        valueWithFileContent: value(includeFileContent: $includeFileContent) @include(if: $includeFileContent)\n      }\n    }\n  }\n}\n    ",""]);return o=function(){return e},e}let c={},u=(0,i.J1)(o(),l.c);function d(e){let t={...c,...e};return a.IT(u,t)}function m(e){let t={...c,...e};return s._(u,t)}function x(e){return{query:u,variables:e}}},648638:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(637876),i=n(766028);function l(e){let{className:t,...n}=e;return(0,r.jsx)("div",{...n,className:(0,i.mergeClasses)("col-span-full h-0 w-full border-t border-secondary",t)})}},663086:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>d,rw:()=>u});var r=n(96427),i=n(903219),l=n(20232),a=n(678248);function s(){let e=(0,r._)(["\n    query GetAppSensitiveEnvironmentVariables($fullName: String!, $environment: EnvironmentVariableEnvironment, $filterNames: [String!], $includeFileContent: Boolean = false) {\n  app {\n    byFullName(fullName: $fullName) {\n      id\n      environmentVariablesIncludingSensitive(\n        environment: $environment\n        filterNames: $filterNames\n      ) {\n        ...EnvironmentVariableWithSecretData\n        valueWithFileContent: value(includeFileContent: $includeFileContent) @include(if: $includeFileContent)\n      }\n    }\n  }\n}\n    ",""]);return s=function(){return e},e}let o={},c=(0,i.J1)(s(),l.c);function u(e){let t={...o,...e};return a._(c,t)}function d(e){return{query:c,variables:e}}},692663:(e,t,n)=>{"use strict";n.d(t,{k:()=>ec});var r=n(637876),i=n(518540),l=n(527340),a=n(14232),s=n(250609);let o=(0,a.createContext)(null);var c=n(890050),u=n(660322);let d=e=>!e.isLayoutDirty&&e.willUpdate(!1),m=e=>{let{children:t,id:n,inherit:i=!0}=e,l=(0,a.useContext)(s.L),m=(0,a.useContext)(o),[x,f]=function(){let e=function(){let e=(0,a.useRef)(!1);return(0,u.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),[t,n]=(0,a.useState)(0),r=(0,a.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,a.useCallback)(()=>c.Gt.postRender(r),[r]),t]}(),h=(0,a.useRef)(null),v=l.id||m;null===h.current&&((e=>!0==(!0===e)||"id"===e)(i)&&v&&(n=n?v+"-"+n:v),h.current={id:n,group:!0===i&&l.group||function(){let e=new Set,t=new WeakMap,n=()=>e.forEach(d);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);let i=t.get(r);i&&(i(),t.delete(r)),n()},dirty:n}}()});let p=(0,a.useMemo)(()=>({...h.current,forceRender:x}),[f]);return(0,r.jsx)(s.L.Provider,{value:p,children:t})};var x=n(182172),f=n(752076),h=n.n(f),v=n(705323),p=n.n(v),b=n(234824),j=n(754581),g=n(376950),y=n(846970),C=n(526100),N=n(559295),S=n(157069),w=n(96427),E=n(903219),I=n(764177);function L(){let e=(0,w._)(["\n    mutation DeleteBulkEnvironmentVariables($ids: [ID!]!) {\n  environmentVariable {\n    deleteBulkEnvironmentVariables(ids: $ids) {\n      id\n    }\n  }\n}\n    "]);return L=function(){return e},e}let k={},V=(0,E.J1)(L());var O=n(881696);function D(){let e=(0,w._)(["\n    mutation UpdateBulkEnvironmentVariables($input: [UpdateEnvironmentVariableInput!]!) {\n  environmentVariable {\n    updateBulkEnvironmentVariables(environmentVariablesData: $input) {\n      ...EnvironmentVariableData\n    }\n  }\n}\n    ",""]);return D=function(){return e},e}let T={},F=(0,E.J1)(D(),O.c);var $=n(900140),B=n(197093),P=n(70393),A=n(923333),_=n(21417),M=n(953885),R=n(700806),U=n(500723),z=n(515479),X=n(360203),W=n(852367),J=n(130514),q=n(634306),G=n(11867),H=n(206972),K=n(149615),Z=n(750349);function Q(e){let{handleUpdateVariables:t,onRequestClose:n,isOpen:i,setIsOpen:l,hasSecretVariable:s}=e,[o,c]=(0,a.useState)(A.X.IDLE),[u,d]=(0,a.useState)({errorSet:!1}),[m,x]=(0,a.useState)();async function f(e){let{name:r,value:i,...l}=(0,J.Rx)(e),a=[];for(let e of Object.values(g.To))l[e]&&a.push(e);c(A.X.LOADING);try{await t({environments:a,visibility:s?void 0:m}),c(A.X.IDLE),n()}catch(t){let e=t.message;d({...u,formError:e}),c(A.X.IDLE)}}let h=(0,r.jsx)(W.p,{title:"Secret variables can not be edited",children:"The visibility of secret variables can not be changed. If you need to change the visibility of other variables, deselect the secret variables first."});return(0,r.jsx)(z.D,{open:i,onOpenChange:()=>{l(!i)},children:(0,r.jsx)(R.C,{children:(0,r.jsxs)(J.lV,{onSubmit:f,disabled:o!==A.X.IDLE,children:[(0,r.jsx)(X.L,{title:"Edit variables",icon:(0,r.jsx)(_.BracketsXIcon,{})}),(0,r.jsxs)(U.d,{className:"max-h-[calc(90vh-130px)] gap-0 p-0",children:[(0,r.jsxs)(M.s,{withDivider:!0,children:[s&&h,!s&&(0,r.jsx)(H.g,{htmlFor:"visibility",title:"Visibility",children:(0,r.jsx)(Z.N,{visibility:m,setVisibility:x,isSecret:!1,error:u.visibility})})]}),(0,r.jsxs)(M.s,{children:[(0,r.jsx)(H.g,{title:"Environment",children:(0,r.jsx)(K.P,{name:"environments",environments:[],environmentError:u.environments,onChange:()=>{d({...u,environments:void 0})}})}),(0,r.jsx)(q.j,{error:u.formError})]})]}),(0,r.jsx)(G.I,{className:"!border-x-0 !border-b-0",formState:o,submitButtonText:"Save",formError:u.formError})]})})})}var Y=n(390429);function ee(e){let{formParams:t,selectedVariables:n,refetchQueries:i,resetSelectedVariables:l}=e,[s,o]=(0,a.useState)(A.X.IDLE),[c,u]=(0,a.useState)(!1),d=(0,$.dj)(),m=n.length,x=n.some(e=>{let{visibility:t}=e;return t===g.I0.Secret}),f=1===m,h=m>1?"variables":"variable",[v]=function(e){let t={...k,...e};return I.n(V,t)}({refetchQueries:i,awaitRefetchQueries:!0}),[p]=function(e){let t={...T,...e};return I.n(F,t)}({refetchQueries:i,awaitRefetchQueries:!0}),b=async e=>{let{visibility:t,environments:r}=e;await p({variables:{input:n.map(e=>{let{id:n}=e;return{id:n,visibility:t,environments:r}})}})},j=async()=>{if(await (0,P.J)((0,r.jsx)("ul",{children:n.map(e=>{let{name:t}=e;return(0,r.jsx)("li",{children:t},t)})}),{destructive:!0,title:"Are you sure you want to delete ".concat(m," ").concat(h,"?"),confirmButtonLabel:"Delete ".concat(h)})){o(A.X.LOADING);try{await v({variables:{ids:n.map(e=>{let{id:t}=e;return t})}}),o(A.X.IDLE),l()}catch(e){d.add({message:e.message,theme:"danger",onClose:d.remove}),o(A.X.IDLE)}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("p",{className:"text-xs font-medium",children:"Bulk actions"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(B.$,{theme:"secondary",className:"min-h-[36px]",onClick:()=>{u(!0)},leftSlot:(0,r.jsx)(N.Edit05Icon,{className:"icon-sm"}),children:"Edit"}),(0,r.jsx)(B.$,{theme:"secondary-destructive",className:"min-h-[36px]",status:s,onClick:j,leftSlot:(0,r.jsx)(S.Trash03Icon,{className:"icon-sm"}),children:"Delete"}),(0,r.jsxs)("p",{className:"ml-auto text-xs text-secondary",children:[m," ",h," selected"]})]})]}),f?(0,r.jsx)(Y.y,{...t,isOpen:c,setIsOpen:u,environmentVariable:n[0],onRequestClose:()=>{u(!1)}}):(0,r.jsx)(Q,{isOpen:c,setIsOpen:u,hasSecretVariable:x,handleUpdateVariables:b,onRequestClose:()=>{u(!1)}})]})}var et=n(766028);function en(e){let{environment:t,setEnvironment:n,className:i,disabled:l}=e;return(0,r.jsx)(C.l,{className:(0,et.mergeClasses)("w-[200px]",i),onValueChange:e=>{n("all"===e?null:e)},disabled:l,value:null!=t?t:"all",options:[{id:"all",label:h()("all")},{id:g.To.Production,label:g.To.Production.toLowerCase()},{id:g.To.Preview,label:g.To.Preview.toLowerCase()},{id:g.To.Development,label:g.To.Development.toLowerCase()}]})}var er=n(122104);function ei(e){let{environmentVariables:t}=e;if(0!==t.filter(e=>e.name.startsWith("EXPO_PUBLIC_")&&e.visibility===g.I0.Secret).length)return(0,r.jsx)(W.p,{type:"warning",className:"-mb-3 mt-2",title:"Secret EXPO_PUBLIC variable",children:(0,r.jsxs)("p",{className:"text-xs text-warning",children:['Variables prefixed with "EXPO_PUBLIC" should never be considered as secret. These variables will be visible in plain text in your compiled application. Do not store sensitive info, such as private keys, in these variables. Use "Plain text" or "Sensitive" visibility options for "EXPO_PUBLIC_" environment variables instead.'," ",(0,r.jsx)(er.A,{isStyled:!0,openInNewTab:!0,href:"https://docs.expo.dev/eas/environment-variables/",children:"Learn more"}),"."]})})}var el=function(e){return e.SEARCH="SEARCH",e.BULK_ACTIONS="BULK_ACTIONS",e}(el||{});let ea={hidden:{y:-100,height:0},visible:{y:0,height:"auto"}},es={hidden:{y:100,height:0},visible:{y:0,height:"auto"}};var eo=function(e){return e.ALL="ALL",e.PROJECT="PROJECT",e.ACCOUNT="ACCOUNT",e}(eo||{});function ec(e){let{formParams:t,environmentVariables:n,selectedVariables:s,setVisibleVariables:o,setSearchError:c,resetSelectedVariables:u,showScopeFilter:d=!0,refetchQueries:f,loading:v}=e,[N,S]=(0,a.useState)(null),w=(0,b.useRouter)(),{value:E,onChange:I}=(0,j.J)("environment",w),{value:L,onChange:k}=(0,j.J)("scope",w),V=0===s.length?"SEARCH":"BULK_ACTIONS",O=(0,l.I)()?{duration:0,ease:"linear"}:{duration:.2,ease:"easeIn"};return(0,a.useEffect)(()=>{let e=p()(null==n?void 0:n.filter(e=>{if(N&&!e.name.toLowerCase().includes(N.toLowerCase()))return!1;if(E){var t;if(!(null==(t=e.environments)?void 0:t.includes(E)))return!1}return("ALL"===L||("PROJECT"!==L||e.scope===g.ml.Project)&&("ACCOUNT"!==L||e.scope===g.ml.Shared))&&!0}),e=>e.name.toLocaleLowerCase());0===e.length&&(N&&c('There are no results for a "'.concat(N,'" search query')),E&&c('There are no results for a "'.concat(E.toLowerCase(),'" environment'))),o(e)},[N,E,n,L]),(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)(ei,{environmentVariables:n}),(0,r.jsx)("div",{className:"flex min-h-[62px] flex-col overflow-y-hidden p-1",children:(0,r.jsxs)(m,{children:[(0,r.jsx)(x.P.div,{layout:!0,variants:ea,initial:"hidden",transition:O,animate:"BULK_ACTIONS"===V?"visible":"hidden",children:(0,r.jsx)(ee,{formParams:t,selectedVariables:s,refetchQueries:f,resetSelectedVariables:u})},"bulk-actions"),(0,r.jsx)(x.P.div,{layout:!0,variants:es,initial:"visible",transition:O,animate:"SEARCH"===V?"visible":"hidden",children:(0,r.jsxs)("div",{className:"flex flex-row flex-wrap gap-3",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("p",{className:"text-xs font-medium",children:"Environment"}),(0,r.jsx)(en,{disabled:v,environment:E,setEnvironment:I})]}),d&&(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("p",{className:"text-xs font-medium",children:"Scope"}),(0,r.jsx)(C.l,{className:"min-w-[120px]",onValueChange:e=>{k("ALL"===e?null:e)},disabled:v,value:null!=L?L:"ALL",options:[{id:"ALL",label:h()("all")},{id:"PROJECT",label:h()("project")},{id:"ACCOUNT",label:h()("global"),Icon:i.Earth02Icon}]})]}),(0,r.jsx)(y.$,{label:"Filter by name",placeholder:"Search variables",containerClassName:"self-end",inputValue:null!=N?N:void 0,onSearch:e=>{let t=e.trim();S(t.length>0?t:null)},onReset:()=>{S(null)},disabled:v&&!N})]})},"search")]})})]})}},697621:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});let r=n(14232),i=n(271894),l=function(e){let t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(let n in e)if("default"!==n){let r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}(r);function a({className:e,...t}){let n=i.mergeClasses("icon-md text-icon-default translate-z shrink-0",e);return l.createElement("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:n,role:"img",...t},l.createElement("g",{id:"search-md-outline-icon"},l.createElement("path",{id:"Icon",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21L16.65 16.65M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z"})))}a.displayName="SearchMdIcon",t.SearchMdIcon=a},703989:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(637876),i=n(766028),l=n(549024);function a(e){let{children:t,className:n,...a}=e;return(0,r.jsx)(l.k,{className:(0,i.mergeClasses)("text-quaternary",n),...a,children:null!=t?t:"None"})}},745859:(e,t,n)=>{"use strict";n.d(t,{d:()=>g});var r=n(637876),i=n(942021),l=n(14232),a=n(61966),s=n(663086),o=n(376950),c=n(251511),u=n(197093),d=n(700806),m=n(500723),x=n(515479),f=n(360203),h=n(523146),v=n(443196),p=n(495456),b=n(831442),j=n(311419);function g(){let{accountName:e,fullName:t}=(0,c.lT)(c.Iz.LOGGED_IN),[g,y]=(0,l.useState)(o.To.Production),[C,N]=(0,l.useState)(null),[S,w]=(0,l.useState)(!1),[E]=(0,s.rw)(),[I]=(0,a.Zf)();async function L(r){let i;if(N(null),t){let{data:e}=await E({variables:{fullName:t,environment:g}});i=null==e?void 0:e.app.byFullName.environmentVariablesIncludingSensitive}else if(e){let{data:t}=await I({variables:{accountName:e,environment:g}});i=null==t?void 0:t.account.byName.environmentVariablesIncludingSensitive}if(!i||0===i.length){N("No environment variables found in the selected environment."),w(!0);return}let l="env"===r?".env.local":"".concat(t?g.toLowerCase():"env",".json");try{let a=new Blob(function(n){let{environment:r,format:i,variables:l}=n;return"json"===i?[JSON.stringify(Object.fromEntries(l.map(e=>e.value?[e.name,e.value]:[e.name,null])),null,2)]:[t?"# Environment variables for ".concat(t," (").concat(r,")\n"):"# Environment variables for ".concat(e,"\n"),l.map(e=>e.value?"".concat(e.name,"=").concat(e.value):"#".concat(e.name,"=ENCRYPTED_VALUE_PLACEHOLDER")).join("\n")]}({environment:g,format:r,variables:i}),{type:"env"===r?"text/plain":"application/json"}),{saveAs:s}=(await n.e(49473).then(n.t.bind(n,249473,23))).default;s(a,l)}catch(e){e instanceof Error&&console.error(e.message),N("Couldn't download the file. Try again later."),w(!0)}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.m,{className:"min-w-[200px]",trigger:(0,r.jsx)(u.$,{size:"sm",theme:"secondary",leftSlot:(0,r.jsx)(i.Download03Icon,{}),children:"Export"}),children:[(0,r.jsx)(p.R,{children:"Environment"}),(0,r.jsx)("div",{className:"mb-1 flex flex-col px-2",children:(0,r.jsx)(j.z,{name:"environment",children:Object.values(o.To).map(e=>(0,r.jsx)(b.s,{id:e,checked:g===e,label:(0,r.jsx)("p",{className:"text-xs",children:e.toLocaleLowerCase()}),onChange:()=>{y(e)}},e))})}),(0,r.jsx)(p.R,{children:"Export Variables"}),(0,r.jsx)(v.t,{Icon:i.Download03Icon,label:"Download as .env…",onSelect:async()=>{await L("env")}}),(0,r.jsx)(v.t,{Icon:i.Download03Icon,label:"Download as JSON…",onSelect:async()=>{await L("json")}})]}),(0,r.jsx)(x.D,{open:S,onOpenChange:()=>{w(!S)},children:(0,r.jsxs)(d.C,{children:[(0,r.jsx)(f.L,{title:"Export error"}),(0,r.jsx)(m.d,{className:"max-h-[calc(90vh-130px)]",children:C})]})})]})}},750349:(e,t,n)=>{"use strict";n.d(t,{N:()=>u});var r=n(637876),i=n(376950),l=n(634306),a=n(689624),s=n(831442),o=n(311419),c=n(814631);function u(e){let{isSecret:t,visibility:n,setVisibility:u,error:d}=e;if(t){let{name:e,description:t,Icon:n}=c.$.find(e=>{let{id:t}=e;return t===i.I0.Secret});return(0,r.jsx)(a.J,{title:e,description:t,icon:(0,r.jsx)(n,{})})}return(0,r.jsx)(l.j,{error:d,children:(0,r.jsx)(o.z,{name:"visibility",children:c.$.map(e=>{let{name:t,description:i,id:l,Icon:o}=e;return(0,r.jsx)(s.s,{checked:n===l,onChange:()=>{u(l)},id:l,label:(0,r.jsx)(a.J,{title:t,description:i,icon:(0,r.jsx)(o,{})})},l)})})})}},754581:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,{method:r="push",shallow:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t)return{value:null,onChange:()=>void 0};let l=t?t.query[e]:null;return{value:null===l||l?l:n,onChange:function(n){if(t){let l={...t.query};"string"==typeof n?l[e]=n:Array.isArray(n)?l[e]=n.join(","):delete l[e],"push"===r?t.push({query:l},void 0,{shallow:i}):t.replace({query:l},void 0,{shallow:i})}}}}n.d(t,{J:()=>r})},777411:(e,t,n)=>{"use strict";n.d(t,{h:()=>f});var r=n(637876),i=n(844239),l=n.n(i),a=n(376950),s=n(703989),o=n(976453),c=n(728992),u=n(10369),d=n(11308),m=n(434743);function x(e){let{environment:t,isShared:n,linkedEnvironments:i,environments:l}=e,a=n&&!i.includes(t),s="default";return(n&&i.includes(t)&&!l.includes(t)&&(s="green"),a)?null:(0,r.jsx)(o.v,{theme:s,size:"sm",title:t.toLowerCase()},t)}function f(e){var t;let{environmentVariable:n,linkedEnvironments:i}=e,o=null!=(t=n.environments)?t:[],f=n.scope===a.ml.Shared;return(f?null!=i?i:[]:o).length===Object.values(a.To).length?(0,r.jsxs)(u.s,{children:[(0,r.jsx)(m.k,{children:(0,r.jsx)("p",{className:"whitespace-nowrap text-xs",children:"all environments"})}),(0,r.jsx)(c.Z,{side:"bottom",className:"w-32",children:(0,r.jsx)(d.L,{children:o.map(e=>e.toLowerCase()).join(" ")})})]}):f&&(null==i?void 0:i.length)===0?(0,r.jsxs)(u.s,{children:[(0,r.jsx)(m.k,{children:(0,r.jsx)(s.b,{})}),(0,r.jsx)(c.Z,{side:"bottom",children:(0,r.jsx)(d.L,{children:"Overridden by a project-wide variable"})})]}):l()(o.concat(null!=i?i:[])).sort((e,t)=>e.localeCompare(t)).map(e=>(0,r.jsx)(x,{environment:e,isShared:f,linkedEnvironments:null!=i?i:o,environments:o},e))}},831442:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var r=n(637876),i=n(766028),l=n(14232);function a(e){let{id:t,label:n,name:a,defaultChecked:s,checked:o,readOnly:c,className:u,onChange:d,inputClassName:m}=e,x=(0,l.useRef)(null),f="string"==typeof n;return(0,r.jsxs)("div",{onClick:function(){!c&&d&&(null==x?void 0:x.current)&&x.current.click()},className:(0,i.mergeClasses)("group grid flex-1 grid-cols-[auto,1fr] items-center",!f&&"items-start",u),children:[(0,r.jsx)("input",{type:"radio",id:t,ref:x,name:a,defaultChecked:s,readOnly:c,checked:o,"data-label":f?n:void 0,onChange:d,className:(0,i.mergeClasses)("flex size-4 items-center justify-center rounded-full border border-default bg-transparent shadow-xs transition","outline-2 outline-offset-4 outline-palette-blue10 ring-palette-blue10 dark:outline-palette-blue8","group-hover:border-palette-blue10 group-hover:bg-info group-hover:dark:border-palette-blue7","group-focus-within:border-palette-blue10 group-focus-within:bg-info group-hover:dark:border-palette-blue7",!c&&"cursor-pointer outline-0",(o||s)&&"after:h-2 after:w-2 after:rounded-full after:bg-palette-blue11 group-hover:after:bg-palette-blue10 dark:after:bg-palette-blue9 dark:group-hover:after:bg-palette-blue10","checked:!border-palette-blue10 checked:!bg-info dark:checked:!border-palette-blue8",!f&&"mt-1",m)}),!!n&&(0,r.jsx)("label",{htmlFor:t,className:(0,i.mergeClasses)("pl-2",!c&&"cursor-pointer"),children:f?(0,r.jsx)("p",{children:n}):n})]})}},844239:(e,t,n)=>{var r=n(668839);e.exports=function(e){return e&&e.length?r(e):[]}},846970:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var r=n(637876),i=n(766028),l=n(697621),a=n(285770),s=n(404917),o=n.n(s),c=n(14232),u=n(71215);let d=(0,c.forwardRef)(function(e,t){let{onSearch:n,onReset:s,placeholder:d,inputValue:m,onBlur:x,autoFocus:f,className:h,containerClassName:v,label:p,disabled:b}=e,[j,g]=(0,c.useState)(null!=m?m:"");function y(e){var t;return null!=(t=null==e?void 0:e.toLowerCase().trim())?t:""}let C=(0,c.useCallback)(o()(e=>{n(y(e))},200),[n]);return(0,r.jsxs)("div",{className:(0,i.mergeClasses)("relative flex w-fit flex-col gap-1",v),children:[p&&(0,r.jsx)("p",{className:"text-xs font-medium",children:p}),(0,r.jsx)(u.p,{className:(0,i.mergeClasses)("h-[36px] px-8 !text-xs",h),type:"text",ref:t,value:j,placeholder:null!=d?d:"Search",onChange:function(e){let t=e.target.value;g(t),C(t)},onKeyDown:function(e){"Enter"===e.key&&(C.cancel(),n(y(j)))},"data-testid":"search-input","aria-label":"Search",onBlur:x,autoFocus:null!=f&&f,disabled:b}),(0,r.jsx)(l.SearchMdIcon,{className:"icon-sm pointer-events-none absolute bottom-2.5 left-2.5 text-icon-secondary"}),(null==j?void 0:j.length)>0&&(0,r.jsx)(i.Button,{leftSlot:(0,r.jsx)(a.XIcon,{className:"icon-md text-icon-secondary"}),className:"absolute bottom-1 right-1 size-[28px] rounded-sm",theme:"quaternary",onClick:()=>{g(""),s()}})]})})},888299:(e,t,n)=>{"use strict";n.d(t,{H:()=>l});var r=n(637876),i=n(14232);function l(e){let{children:t,...n}=e;return(0,r.jsx)(i.Fragment,{...n,children:t})}}}]);