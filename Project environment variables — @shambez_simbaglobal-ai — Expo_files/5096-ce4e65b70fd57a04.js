try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="cec43317-19d8-43be-81e8-453d60ff9dec",e._sentryDebugIdIdentifier="sentry-dbid-cec43317-19d8-43be-81e8-453d60ff9dec")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5096],{325177:(e,s,t)=>{t.d(s,{E:()=>c});var n=t(637876),a=t(766028),r=t(659418),l=t(527340),i=t(182172);function c(e){let{testID:s,title:t,className:c,iconClassName:o}=e,d=(0,l.I)();return(0,n.jsx)(i.P.div,{animate:{rotate:360},transition:{ease:"linear",duration:2,repeat:d?0:1/0},"data-testid":s,className:c,style:{display:"grid",placeItems:"center"},children:(0,n.jsx)(r.Settings01Icon,{className:(0,a.mergeClasses)("icon-sm",o),title:t})})}},353003:(e,s,t)=>{t.d(s,{Y:()=>i});var n=t(637876),a=t(766028),r=t(14232),l=t(121182);function i(e){let{startTime:s,duration:t,hasEnded:i,className:c}=e,[o,d]=(0,r.useState)(i&&t?t:0),[x,m]=(0,r.useState)(!1),u=(0,r.useRef)(null);function h(){d(Date.now()-new Date(s).getTime())}return((0,r.useEffect)(function(){return m(!0),i||(h(),u.current=window.setInterval(h,1e3)),function(){u.current&&clearInterval(u.current)}},[]),(0,r.useEffect)(function(){i&&(u.current&&clearInterval(u.current),t&&d(t))},[i]),!i&&o<=0)?null:x?(0,n.jsx)("p",{className:(0,a.mergeClasses)("variant-numeric-tabular flex items-center gap-1.5 whitespace-nowrap text-xs text-secondary",c),children:(0,l.a3)(Math.max(o,1e3))}):null}},489855:(e,s,t)=>{t.d(s,{r:()=>o});var n=t(637876),a=t(766028),r=t(548747),l=t(14232),i=t(789686),c=t(408557);function o(e){let{crumbs:s,className:t}=e;return(0,n.jsx)("div",{className:(0,a.mergeClasses)("inline-flex min-h-[42px] max-w-screen-xl items-center gap-0.5 overflow-hidden rounded-lg border border-default bg-default px-1.5","max-[1500px]:max-w-[calc(100vw-307px)]","max-md-gutters:max-w-[calc(100vw-48px)]",t),children:s.map((e,t)=>{var o,d;let x=null!=(o=e.selected)?o:s.length-1===t,m=null!=(d=e.href)?d:e.onClick,u=(0,n.jsxs)("div",{className:(0,a.mergeClasses)("flex items-center gap-1.5 overflow-hidden rounded-md px-2 py-1 transition-colors",m&&!x&&"hocus:bg-hover hocus:prose-p:text-default"),children:[e.icon,(0,n.jsx)("p",{className:(0,a.mergeClasses)(x?"font-medium":"font-normal text-secondary","my-0 truncate text-xs"),children:e.text})]}),h=e.loading?(0,n.jsx)(c.c,{loading:!0,containerClassName:(0,a.mergeClasses)("mx-2"),children:u}):u;return(0,n.jsxs)(l.Fragment,{children:[m?(0,n.jsx)(i.o,{onClick:e.onClick,href:e.href,children:h}):h,s.length-1!==t&&(0,n.jsx)(r.ChevronRightIcon,{className:"icon-sm text-icon-secondary"})]},e.text)})})}},678107:(e,s,t)=>{t.d(s,{M:()=>C});var n=t(637876),a=t(617666),r=t(766028),l=t(733694),i=t(941483),c=t(215234),o=t(548747),d=t(685568),x=t(353008),m=t(890218),u=t(175084),h=t(944630),p=t(490073),g=t(197093),f=t(325177),j=t(274813),N=t(353003),b=t(728992),w=t(10369),v=t(434743);function C(e){let{name:s="Job log",duration:t,children:C,onToggle:y,isExpanded:I,startTime:k,hasEnded:S,endLogResult:E,id:A,annotationsCount:T=0,openFirstAnnotation:R,copyValue:q}=e,{copiedIsVisible:D,onCopyAsync:L}=(0,p.T)(null!=q?q:"");return(0,n.jsxs)("div",{id:A,className:(0,r.mergeClasses)("relative min-w-0"),children:[(0,n.jsxs)("div",{className:(0,r.mergeClasses)("relative flex min-h-14 items-center justify-between border-t border-secondary px-6","transition-colors hocus:bg-element","max-sm-gutters:gap-1.5 max-sm-gutters:pl-2"),role:"button",onClick:y,children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(o.ChevronRightIcon,{className:(0,r.mergeClasses)("transition",I&&"rotate-90")}),(0,n.jsxs)("div",{className:"min-w-[20px]",children:[!S&&s!==a.Hg[a.mL.QUEUE]&&(0,n.jsx)(f.E,{}),S&&"success"===E&&(0,n.jsx)(c.StatusSuccessIcon,{className:"text-icon-success","data-testid":"log-success-icon"}),S&&("failed"===E||"fail"===E)&&(0,n.jsx)(i.StatusFailureIcon,{className:"text-icon-danger"}),S&&"warning"===E&&(0,n.jsx)(m.AlertTriangleSolidIcon,{className:"text-icon-warning"}),S&&"skipped"===E&&(0,n.jsx)(l.StatusCanceledIcon,{className:"-rotate-45"}),S&&"unknown"===E&&(0,n.jsx)(l.StatusCanceledIcon,{className:"text-icon-secondary"}),S&&!E&&(0,n.jsx)(u.InfoCircleSolidIcon,{})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs",children:s}),k&&(0,n.jsx)(N.Y,{duration:t,startTime:k,hasEnded:S,className:"hidden max-sm-gutters:flex"})]}),T>0&&(0,n.jsxs)(w.s,{children:[(0,n.jsx)(v.k,{asChild:!0,children:(0,n.jsx)(g.$,{theme:"secondary",size:"xs",onClick:R,className:"border-palette-gray7 px-2",children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(x.NotificationMessageIcon,{className:"icon-sm text-icon-secondary"}),(0,n.jsx)("span",{className:"text-xs font-normal text-secondary",children:T})]})})}),(0,n.jsx)(b.Z,{className:"w-[300px] px-3 py-2",sideOffset:8,children:(0,n.jsxs)("div",{className:"p-2 pt-1.5",children:[(0,n.jsx)("p",{className:"mb-1 font-medium",children:"Annotations"}),(0,n.jsxs)("p",{className:"text-xs",children:["Build annotations are explanations of common build errors with suggestions on how to resolve them. Scroll down and click on the"," ",(0,n.jsx)(x.NotificationMessageIcon,{className:"inline text-palette-white"})," in your build logs to see the annotations."]})]})})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[k&&(0,n.jsx)(N.Y,{duration:t,startTime:k,hasEnded:S,className:"max-sm-gutters:hidden"}),S&&q&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.$,{disabled:"skipped"===E,leftSlot:(0,n.jsx)(d.ClipboardIcon,{className:"icon-xs"}),theme:"secondary",size:"xs",onClick:async e=>{e.stopPropagation(),await L()}}),(0,n.jsx)(h.N,{children:D&&(0,n.jsx)(j.m,{className:"absolute right-[48px] top-[calc(50%-14px)]",children:(0,n.jsx)("p",{className:"absolute -right-1 flex h-[28px] items-center rounded-md border border-success bg-success px-2 text-2xs text-success",children:"Copied!"})})})]})]})]}),I&&C]})}},831332:(e,s,t)=>{t.d(s,{k:()=>_});var n=t(637876),a=t(766028),r=t(740123),l=t.n(r),i=t(715459),c=t(376950),o=t(103144),d=t(629759),x=t(789686);function m(e){var s;let{children:t,className:r,forceDarkMode:l}=e,i=null!=(s=null==t?void 0:t.toString())?s:"",c=(0,d.escapeCarriageReturn)(i),x=(0,o.ansiToJson)(c,{json:!0,remove_empty:!0,use_classes:!0});return(0,n.jsx)("code",{className:(0,a.mergeClasses)("text-default",l&&"dark-theme",r),children:x.map((e,s)=>(0,n.jsx)("span",{className:(0,a.mergeClasses)(e.fg,e.bg),children:(0,n.jsx)(h,{text:e.content})},s))})}let u=/(https?:\/\/\S+\w\/?)/gi;function h(e){let{text:s}=e,t=s.split(u);return(0,n.jsx)(n.Fragment,{children:t.map((e,s)=>u.test(e)?(0,n.jsx)(x.o,{href:e,isStyled:!0,openInNewTab:!0,children:e},s):e)})}var p=t(218108),g=t(684429),f=t(334238),j=function(e){return e[e.TRACE=10]="TRACE",e[e.DEBUG=20]="DEBUG",e[e.INFO=30]="INFO",e[e.WARN=40]="WARN",e[e.ERROR=50]="ERROR",e[e.FATAL=60]="FATAL",e}(j||{});let N={[c.qH.Error]:f.MessageXSquareIcon,[c.qH.Warning]:p.MessageAlertSquareIcon,[c.qH.Info]:g.MessageNotificationSquareIcon};function b(e){let{lineNumberShown:s,timestampShown:t,outputStreamLabelShown:r,lineNumber:l,logLine:{msg:o,time:d,source:x,level:u,err:h},id:p,wrapLines:g,annotation:f,forceDarkMode:j}=e,b=!!f,w=(null==f?void 0:f.annotations.some(e=>e.type===c.qH.Error))?c.qH.Error:(null==f?void 0:f.annotations.some(e=>e.type===c.qH.Warning))?c.qH.Warning:c.qH.Info,v=N[w];return(0,n.jsxs)("span",{id:p,className:(0,a.mergeClasses)("group flex px-4 text-2xs",b?"cursor-pointer bg-palette-blue3 pl-2 hocus:bg-palette-blue4 dark:bg-palette-blue4 dark:hocus:bg-palette-blue5":"hocus:bg-subtle",b&&!s&&"pl-4"),children:[b&&(0,n.jsx)("div",{className:(0,a.mergeClasses)("flex pt-0.5",!s&&"mr-1"),children:(0,n.jsx)(v,{className:(0,a.mergeClasses)("icon-sm text-icon-secondary",j&&"text-palette-white",w===c.qH.Error&&"text-danger",w===c.qH.Warning&&"text-warning")})}),s&&(0,n.jsx)("span",{className:(0,a.mergeClasses)("mr-3 select-none text-right text-2xs text-quaternary",g?"whitespace-nowrap":"whitespace-pre",b?"ml-2 min-w-[16px]":"min-w-[32px]"),children:l}),t&&null!=d&&(0,n.jsx)("p",{className:(0,a.mergeClasses)("mr-3 whitespace-nowrap text-2xs text-tertiary",g?"whitespace-nowrap":"whitespace-pre"),children:new Date(d).toUTCString()}),r&&"stderr"===x&&(0,n.jsx)("p",{className:"inline-flex shrink-0 text-2xs text-danger",children:"[stderr] "}),(null==h?void 0:h.message)?(0,n.jsx)("p",{className:"pr-4 text-2xs text-danger",children:(0,i.o_)({err:h,msg:o})}):(0,n.jsx)(m,{forceDarkMode:j,className:(0,a.mergeClasses)(!g&&"whitespace-pre pr-4",function(e){switch(e){case 40:return"text-palette-yellow11";case 60:case 50:return"text-palette-red11";default:return}}(u)),children:o})]})}var w=t(862026),v=t(916455),C=t(998624),y=t(548747),I=t(234824),k=t(14232),S=t(179967),E=t(832323),A=t(953885),T=t(285746),R=t(852367),q=t(122104);function D(e){let{annotation:s,prevAnnotation:t,nextAnnotation:r,phaseId:l}=e,c=(0,I.useRouter)(),o=(0,E.gU)(),d=e=>{let{next:s,current:t}=e;(null==s?void 0:s.lineNumber)!==void 0&&l&&(0,i.Lr)({next:s,current:t,phaseId:l})};return(0,k.useEffect)(()=>{(null==c?void 0:c.route.includes("annotations"))||s.annotations.map(e=>{o(E.rU.VIEW_ANNOTATION,e.analyticsData)})},[]),(0,n.jsx)(T.h,{className:"shadow-md",children:s.annotations.map((e,l)=>{var i;return(0,n.jsxs)(k.Fragment,{children:[(0,n.jsx)(R.p,{type:e.type.toLowerCase(),title:(null==e?void 0:e.title)||"Annotation",className:"rounded-b-none border-none"}),(0,n.jsxs)(A.s,{size:"header",children:[(0,n.jsx)("span",{className:"text-xs font-normal",children:(0,n.jsx)(S.oz,{components:{code:e=>{let{children:s}=e;return(0,n.jsx)(q.Sq,{className:"break-words",children:s})},a:s=>{let{children:t,href:a}=s;return(0,n.jsx)(x.o,{isStyled:!0,href:a,onClick:()=>{(null==c?void 0:c.route.includes("annotations"))||o(E.rU.CLICK_ANNOTATION_LINK,{...e.analyticsData,url:a})},children:null!=t?t:""})}},children:null!=(i=null==e?void 0:e.message.replaceAll("\n","\n\n"))?i:""})}),(0,n.jsx)("div",{className:"flex justify-between pt-4 empty:hidden",children:0===l&&(t||r)&&(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(a.Button,{disabled:!t,theme:"secondary",leftSlot:(0,n.jsx)(C.ChevronLeftIcon,{}),size:"xs",className:"mr-2 size-6",onClick:()=>{t&&d({next:t,current:s})}}),(0,n.jsx)(a.Button,{disabled:!r,theme:"secondary",rightSlot:(0,n.jsx)(y.ChevronRightIcon,{}),size:"xs",className:"size-6",onClick:()=>{r&&d({next:r,current:s})}})]})})]})]},l)})})}function L(e){let{children:s,allAnnotations:t,currentIndex:a,phaseId:r}=e,l=null==t?void 0:t.findIndex(e=>e.lineNumber===a+1);return t&&-1!==l&&void 0!==l&&void 0!==t?(0,n.jsxs)(v.bL,{children:[(0,n.jsx)(v.l9,{id:"annotation-trigger-".concat(r,"-").concat(a+1),asChild:!0,children:(0,n.jsx)("div",{onClick:e=>{var s;let t=null==(s=window)?void 0:s.getSelection();t&&t.focusOffset-t.anchorOffset!=0&&e.preventDefault()},children:s})}),(0,n.jsx)(v.ZL,{children:(0,n.jsx)(v.UC,{align:"start",className:"z-50 ml-1 mt-1 w-[calc(100vw-28px)] max-w-[400px] animate-largeSlideDownAndFadeIn rounded-md",children:(0,n.jsx)(D,{annotation:t[l],prevAnnotation:t[l-1],nextAnnotation:t[l+1],phaseId:r})})})]},a):s}function _(e){let{logLines:s,isJobCompleted:t,lineNumberShown:r,timestampShown:i,outputStreamLabelShown:c,wrapLines:o,forceDarkMode:d,annotations:x,phaseId:m,shouldScrollToTopOfLogGroupOnHash:u=!1}=e,h=t?l()(s)?[{msg:"No logs available"}]:s:s.slice(Math.max(0,s.length-50));if(0===h.length)return null;let p=1+Math.max(0,s.length-h.length),g=h.length-20;return(0,n.jsx)(w.t,{className:(0,a.mergeClasses)("border-t border-t-transparent py-4 leading-normal","dark:bg-palette-black",!o&&"overflow-x-auto",d?"dark-theme bg-palette-black":"border-t-secondary dark:border-t-transparent"),children:h.map((e,s)=>{let t=null==x?void 0:x.find(e=>e.lineNumber===s+1);return(0,n.jsx)(L,{allAnnotations:x,currentIndex:s,phaseId:m,children:(0,n.jsx)(b,{id:s===g&&u?m:"".concat(m,"-").concat(s+1),lineNumberShown:r,timestampShown:i,wrapLines:o,lineNumber:p+s,logLine:e,annotation:t,outputStreamLabelShown:c,forceDarkMode:d})},s)})})}},862026:(e,s,t)=>{t.d(s,{t:()=>r});var n=t(637876),a=t(766028);function r(e){let{children:s,className:t}=e;return(0,n.jsx)("pre",{className:(0,a.mergeClasses)("whitespace-pre-wrap break-all","hocus:cursor-default",t),onClick:e=>{e.stopPropagation()},children:s})}}}]);